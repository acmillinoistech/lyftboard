{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","COMMUNITY_AREAS","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","67","68","69","70","71","72","73","74","75","76","77","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","removeSpecialChars","str","replace","fillSpans","queryStr","text","Array","from","document","querySelectorAll","forEach","div","innerText","getResults","gameid","callback","db","ref","once","snap","val","getTeams","getTeamData","res","info","inMap","sims","keys","map","key","sort","b","start","time","first","counter","teamid","data","name","ALPHABET","revenue","trips","zones","sim","push","_teamid","step","inRev","rev","lyft","parseFloat","taxi","zoneMap","zid","zc","cost","_teamid2","teamInfo","getTeamScore","reduce","sum","mainResults","datasets","line","total","idx","x","y","label","borderColor","COLORS","fill","cubicInterpolationMode","_loop","ctx","getElementById","getContext","Chart","type","options","responsive","maintainAspectRatio","legend","position","title","display","scales","xAxes","scaleLabel","labelString","ticks","ts","moment","format","yAxes","toFixed","elements","point","radius","multiTooltipTemplate","getTeamRankList","list","_score","score","sorted","rank","Infinity","team","mainLeaderboard","view","views","getLeaderboard","appendChild","inviteTeammate","teammateEmail","Promise","resolve","reject","indexOf","emailid","console","log","GAME","set","email","then","done","success","catch","err","error","mainTeam","reset","getTeamManagement","innerHTML","classList","remove","add","teamSecretField","teamSecretButton","addEventListener","teamInviteField","teamInviteButton","vex","dialog","alert","orderByChild","equalTo","nodes","ul","nid","teamNameField","teamNameButton","window","location","reload","pricingHolder","zonesHolder","on","pricing","pView","getPricingCards","community","_communityareas","zView","getZonesCards","showTeam","inData","getGameData","mainAdmin","teamTable","table","getAdminTeamTable","prompt","message","teamName","level","out","tid","join","showPage","pageid","PAGE","currentTab","querySelector","newTab","page","newPage","getTeamByEmail","node","login","provider","firebase","auth","GoogleAuthProvider","signInWithRedirect","user","gameData","checkAdmin","USER","IS_ADMIN","main","SHOW_TEAM_ID","init","localStorage","setItem","onAuthStateChanged","USER_ID","uid","confirm","yes","removeItem","_views","config","Views","initializeApp","database","getItem","gamekey","toUpperCase","split","hex","reverse","routes","/","/results","/leaderboard","/search","/team","/team/:teamid","/delete/:teamid","/admin","Router","btn","signOut","./communityareas","./config","./views","Number","prototype","formatMoney","c","d","this","isNaN","Math","abs","undefined","String","parseInt","j","substr","slice","model","html","maxRev","styleStr","spanHTML","createElement","tkey","in_effect","base","pickup","per_mile","per_minute"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar COMMUNITY_AREAS = {\n\t\"1\": \"Rogers Park\",\n\t\"2\": \"West Ridge\",\n\t\"3\": \"Uptown\",\n\t\"4\": \"Lincoln Square\",\n\t\"5\": \"North Center\",\n\t\"6\": \"Lake View\",\n\t\"7\": \"Lincoln Park\",\n\t\"8\": \"Near North Side\",\n\t\"9\": \"Edison Park\",\n\t\"10\": \"Norwood Park\",\n\t\"11\": \"Jefferson Park\",\n\t\"12\": \"Forest Glen\",\n\t\"13\": \"North Park\",\n\t\"14\": \"Albany Park\",\n\t\"15\": \"Portage Park\",\n\t\"16\": \"Irving Park\",\n\t\"17\": \"Dunning\",\n\t\"18\": \"Montclare\",\n\t\"19\": \"Belmont Cragin\",\n\t\"20\": \"Hermosa\",\n\t\"21\": \"Avondale\",\n\t\"22\": \"Logan Square\",\n\t\"23\": \"Humboldt Park\",\n\t\"24\": \"West Town\",\n\t\"25\": \"Austin\",\n\t\"26\": \"West Garfield Park\",\n\t\"27\": \"East Garfield Park\",\n\t\"28\": \"Near West Side\",\n\t\"29\": \"North Lawndale\",\n\t\"30\": \"South Lawndale\",\n\t\"31\": \"Lower West Side\",\n\t\"32\": \"Loop\",\n\t\"33\": \"Near South Side\",\n\t\"34\": \"Armour Square\",\n\t\"35\": \"Douglas\",\n\t\"36\": \"Oakland\",\n\t\"37\": \"Fuller Park\",\n\t\"38\": \"Grand Boulevard\",\n\t\"39\": \"Kenwood\",\n\t\"40\": \"Washington Park\",\n\t\"41\": \"Hyde Park\",\n\t\"42\": \"Woodlawn\",\n\t\"43\": \"South Shore\",\n\t\"44\": \"Chatham\",\n\t\"45\": \"Avalon Park\",\n\t\"46\": \"South Chicago\",\n\t\"47\": \"Burnside\",\n\t\"48\": \"Calumet Heights\",\n\t\"49\": \"Roseland\",\n\t\"50\": \"Pullman\",\n\t\"51\": \"South Deering\",\n\t\"52\": \"East Side\",\n\t\"53\": \"West Pullman\",\n\t\"54\": \"Riverdale\",\n\t\"55\": \"Hegewisch\",\n\t\"56\": \"Garfield Ridge\",\n\t\"57\": \"Archer Heights\",\n\t\"58\": \"Brighton Park\",\n\t\"59\": \"Mckinley Park\",\n\t\"60\": \"Bridgeport\",\n\t\"61\": \"New City\",\n\t\"62\": \"West Eldson\",\n\t\"63\": \"Gage Park\",\n\t\"64\": \"Clearing\",\n\t\"65\": \"West Lawn\",\n\t\"67\": \"West Englewood\",\n\t\"68\": \"Englewood\",\n\t\"69\": \"Greater Grand Crossing\",\n\t\"70\": \"Ashburn\",\n\t\"71\": \"Auburn Gresham\",\n\t\"72\": \"Beverly\",\n\t\"73\": \"Washington Heights\",\n\t\"74\": \"Mount Greenwood\",\n\t\"75\": \"Morgan Park\",\n\t\"76\": \"O'Hare\",\n\t\"77\": \"Edgewater\"\n};\n\nexports.COMMUNITY_AREAS = COMMUNITY_AREAS;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {\n    apiKey: \"AIzaSyCGWEpvuy4sPR3n5xzwfATLzyMDvwE6tOY\",\n    authDomain: \"illinois-tech-acm.firebaseapp.com\",\n    databaseURL: \"https://illinois-tech-acm.firebaseio.com\",\n    projectId: \"illinois-tech-acm\",\n    storageBucket: \"illinois-tech-acm.appspot.com\",\n    messagingSenderId: \"344533734310\"\n};\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _views = require('./views');\n\nvar _communityareas = require('./communityareas');\n\nvar config = require('./config');\n\nvar views = (0, _views.Views)();\n\nvar FirebaseApp = firebase.initializeApp(config);\nvar db = FirebaseApp.database();\n\nvar GAME = false;\nGAME = localStorage.getItem('acm_lyft_game_key');\nif (!GAME) {\n\tGAME = vex.dialog.prompt({\n\t\tmessage: \"Enter your game key:\",\n\t\tcallback: function callback(gamekey) {\n\t\t\tGAME = gamekey;\n\t\t\tinit();\n\t\t}\n\t});\n} else {\n\tinit();\n}\n\nvar PAGE = '';\nvar USER_ID = false;\nvar USER = {};\nvar IS_ADMIN = false;\n\nvar PINK = '#EA38B9';\nvar PURPLE = '#422E6E';\n\nvar ALPHABET = 'abcdefghijklmnopqrstuvwxyz'.toUpperCase().split('');\nvar COLORS = '#e6194b-#3cb44b-#ffe119-#0082c8-#f58231-#911eb4-#46f0f0-#f032e6-#d2f53c-#fabebe-#008080-#e6beff-#aa6e28-#fffac8-#800000-#aaffc3-#808000-#ffd8b1-#000080-#808080-#000000'.split('-').map(function (hex) {\n\treturn '' + hex;\n}).reverse();\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\n// https://stackoverflow.com/questions/35803540/how-to-remove-special-characters-from-a-string-using-javascript\nfunction removeSpecialChars(str) {\n\treturn str.replace(/(?!\\w|\\s)./g, '').replace(/\\s+/g, ' ').replace(/^(\\s*)([\\W\\w]*)(\\b\\s*$)/g, '$2');\n}\n\nfunction fillSpans(queryStr, text) {\n\tArray.from(document.querySelectorAll(queryStr)).forEach(function (div) {\n\t\tdiv.innerText = text;\n\t});\n}\n\nfunction getResults(gameid, callback) {\n\tdb.ref('lyft/results/' + gameid).once('value', function (snap) {\n\t\tvar val = snap.val() || {};\n\t\tcallback(val);\n\t});\n}\n\nfunction getTeams(gameid, callback) {\n\tdb.ref('lyft/info/' + gameid).once('value', function (snap) {\n\t\tvar val = snap.val() || {};\n\t\tcallback(val);\n\t});\n}\n\nfunction getTeamData(res, info) {\n\tvar inMap = res || {};\n\tvar sims = Object.keys(inMap).map(function (key) {\n\t\treturn res[key];\n\t}).sort(function (a, b) {\n\t\treturn a.start - b.start;\n\t});\n\tvar time = [];\n\tvar map = {};\n\tif (sims.length > 0) {\n\t\tvar first = sims[0];\n\t\tvar counter = 0;\n\t\tfor (var teamid in first.data) {\n\t\t\tif (!(teamid in map)) {\n\t\t\t\tmap[teamid] = {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tteamid: teamid,\n\t\t\t\t\t\tname: 'Untitled Team ' + ALPHABET[counter] + ' (' + teamid + ')'\n\t\t\t\t\t},\n\t\t\t\t\trevenue: [],\n\t\t\t\t\ttrips: [],\n\t\t\t\t\tzones: []\n\t\t\t\t};\n\t\t\t\tif (teamid in info) {\n\t\t\t\t\tmap[teamid].info = info[teamid];\n\t\t\t\t\tmap[teamid].info.teamid = teamid;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcounter++;\n\t\t}\n\t\tsims.forEach(function (sim) {\n\t\t\ttime.push(sim.start);\n\t\t\tfor (var _teamid in sim.data) {\n\t\t\t\tif (_teamid in map) {\n\t\t\t\t\tvar step = sim.data[_teamid];\n\t\t\t\t\tmap[_teamid].trips.push(step.trips);\n\t\t\t\t\tvar inRev = step.revenue;\n\t\t\t\t\tvar rev = {\n\t\t\t\t\t\tlyft: parseFloat(inRev.lyft),\n\t\t\t\t\t\ttaxi: parseFloat(inRev.taxi)\n\t\t\t\t\t};\n\t\t\t\t\tmap[_teamid].revenue.push(rev);\n\t\t\t\t\tvar zoneMap = step.zones || {};\n\t\t\t\t\tfor (var zid in zoneMap) {\n\t\t\t\t\t\tvar zc = parseFloat(zoneMap[zid].cost + '');\n\t\t\t\t\t\tzoneMap[zid].cost = zc;\n\t\t\t\t\t}\n\t\t\t\t\tmap[_teamid].zones.push(zoneMap);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tfor (var _teamid2 in info) {\n\t\tif (!(_teamid2 in map)) {\n\t\t\tvar teamInfo = info[_teamid2];\n\t\t\tteamInfo.teamid = _teamid2;\n\t\t\tmap[_teamid2] = {\n\t\t\t\tinfo: teamInfo,\n\t\t\t\trevenue: [],\n\t\t\t\ttrips: []\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\ttime: time,\n\t\tmap: map\n\t};\n}\n\nfunction getTeamScore(data) {\n\tvar totalRev = data.revenue.reduce(function (sum, val) {\n\t\treturn sum + val.lyft;\n\t}, 0);\n\tvar totalTrips = data.trips.reduce(function (sum, val) {\n\t\treturn sum + val.lyft;\n\t}, 0);\n\treturn {\n\t\trevenue: totalRev,\n\t\ttrips: totalTrips\n\t};\n}\n\nfunction mainResults(time, map) {\n\tvar datasets = [];\n\tvar i = 0;\n\n\tvar _loop = function _loop(teamid) {\n\t\tvar line = [];\n\t\tvar total = 0;\n\t\tmap[teamid].revenue.forEach(function (step, idx) {\n\t\t\ttotal += step.lyft;\n\t\t\tline.push({\n\t\t\t\tx: time[idx],\n\t\t\t\ty: total\n\t\t\t});\n\t\t});\n\t\tdatasets.push({\n\t\t\tlabel: map[teamid].info.name,\n\t\t\tborderColor: COLORS[i],\n\t\t\tfill: false,\n\t\t\tcubicInterpolationMode: 'monotone',\n\t\t\tdata: line\n\t\t});\n\t\ti++;\n\t};\n\n\tfor (var teamid in map) {\n\t\t_loop(teamid);\n\t}\n\tvar ctx = document.getElementById('plot1').getContext('2d');\n\tvar chart = new Chart(ctx, {\n\t\ttype: 'line',\n\t\tdata: {\n\t\t\tdatasets: datasets\n\t\t},\n\t\toptions: {\n\t\t\tresponsive: false,\n\t\t\tmaintainAspectRatio: true,\n\t\t\tlegend: {\n\t\t\t\tposition: 'right'\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\tdisplay: true,\n\t\t\t\ttext: 'Revenue over Time'\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\txAxes: [{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: 'Time'\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tcallback: function callback(ts) {\n\t\t\t\t\t\t\treturn moment(ts).format('M/D');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\tyAxes: [{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: 'Revenue ($)'\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tcallback: function callback(rev) {\n\t\t\t\t\t\t\treturn '$' + rev.toFixed(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t},\n\t\t\telements: {\n\t\t\t\tpoint: {\n\t\t\t\t\tradius: 0\n\t\t\t\t}\n\t\t\t},\n\t\t\tmultiTooltipTemplate: '<%%=datasetLabel%>: $<%%=value%>'\n\t\t}\n\t});\n}\n\nfunction getTeamRankList(map) {\n\tvar list = [];\n\tfor (var teamid in map) {\n\t\tvar _score = getTeamScore(map[teamid]);\n\t\tlist.push({\n\t\t\tinfo: map[teamid].info,\n\t\t\tscore: _score\n\t\t});\n\t}\n\tvar sorted = list.sort(function (a, b) {\n\t\treturn b.score.revenue - a.score.revenue;\n\t});\n\tvar rank = 0;\n\tvar score = Infinity;\n\tsorted.forEach(function (team) {\n\t\tif (team.score.revenue < score) {\n\t\t\tscore = team.score.revenue;\n\t\t\trank++;\n\t\t}\n\t\tteam.rank = rank;\n\t});\n\treturn sorted;\n}\n\nfunction mainLeaderboard(time, map) {\n\tvar list = getTeamRankList(map);\n\tvar view = views.getLeaderboard({\n\t\tlist: list\n\t});\n\tdocument.getElementById('leaderboard').appendChild(view);\n}\n\nfunction inviteTeammate(teammateEmail, teamid) {\n\treturn new Promise(function (resolve, reject) {\n\t\tif (teammateEmail) {\n\t\t\tif (teammateEmail.indexOf('@') > -1) {\n\t\t\t\tvar emailid = removeSpecialChars(teammateEmail);\n\t\t\t\tconsole.log('Invite ' + emailid + ' to ' + teamid);\n\t\t\t\tif (emailid && teamid) {\n\t\t\t\t\tdb.ref('lyft/assignments/' + GAME + '/' + emailid).set({\n\t\t\t\t\t\tteamid: teamid,\n\t\t\t\t\t\temail: teammateEmail\n\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\t\temail: teammateEmail\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treject('Please enter a valid email address.');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treject('Please enter a valid email address.');\n\t\t\t}\n\t\t} else {\n\t\t\treject('Please enter a valid email address.');\n\t\t}\n\t});\n}\n\nfunction mainTeam(teamid, team) {\n\n\tconsole.log('in here', teamid, team);\n\n\tif (teamid && team) {\n\n\t\tvar reset = views.getTeamManagement();\n\t\tdocument.getElementById('team-management').innerHTML = reset.innerHTML;\n\n\t\tdocument.getElementById('team-space').classList.remove('is-hidden');\n\t\tdocument.getElementById('no-team-space').classList.add('is-hidden');\n\n\t\tvar teamSecretField = document.getElementById('team-secret');\n\t\tvar teamSecretButton = document.getElementById('show-team-secret');\n\t\tteamSecretField.value = teamid;\n\n\t\tteamSecretButton.addEventListener('click', function (e) {\n\t\t\tif (teamSecretField.type === 'password') {\n\t\t\t\tteamSecretField.type = 'text';\n\t\t\t\tteamSecretButton.innerText = 'Hide';\n\t\t\t\tteamSecretButton.classList.remove('is-danger');\n\t\t\t\tteamSecretButton.classList.add('is-success');\n\t\t\t} else {\n\t\t\t\tteamSecretField.type = 'password';\n\t\t\t\tteamSecretButton.innerText = 'Show';\n\t\t\t\tteamSecretButton.classList.remove('is-success');\n\t\t\t\tteamSecretButton.classList.add('is-danger');\n\t\t\t}\n\t\t});\n\n\t\tvar teamInviteField = document.getElementById('teammate-email');\n\t\tvar teamInviteButton = document.getElementById('invite-teammate');\n\n\t\tteamInviteButton.addEventListener('click', function (e) {\n\t\t\tteamInviteButton.classList.add('is-loading');\n\t\t\tinviteTeammate(teamInviteField.value, teamid).then(function (done) {\n\t\t\t\tvex.dialog.alert('Invited ' + teamInviteField.value + ' to ' + team.info.name + '.');\n\t\t\t\tteamInviteButton.classList.remove('is-loading');\n\t\t\t\tmainTeam(teamid, team);\n\t\t\t}).catch(function (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\tvex.dialog.alert(error + '');\n\t\t\t\tteamInviteButton.classList.remove('is-loading');\n\t\t\t});\n\t\t});\n\n\t\tdb.ref('lyft/assignments/' + GAME).orderByChild('teamid').equalTo(teamid).once('value', function (snap) {\n\t\t\tvar nodes = snap.val() || {};\n\t\t\tvar ul = document.getElementById('teammates-list');\n\t\t\tul.innerHTML = '';\n\t\t\tif (Object.keys(nodes).length > 0) {\n\t\t\t\tfor (var nid in nodes) {\n\t\t\t\t\tul.innerHTML += '<li>' + nodes[nid].email + '</li>';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tul.innerHTML += '<li>No teammates yet.</li>';\n\t\t\t}\n\t\t});\n\n\t\tvar teamNameField = document.getElementById('team-name');\n\t\tvar teamNameButton = document.getElementById('update-team-name');\n\t\tteamNameField.value = team.info.name;\n\t\tfillSpans('.fill-team-name', team.info.name);\n\n\t\tteamNameButton.addEventListener('click', function (e) {\n\t\t\tdb.ref('lyft/info/' + GAME + '/' + teamid + '/name').set(teamNameField.value).then(function (done) {\n\t\t\t\twindow.location.reload();\n\t\t\t}).catch(console.error);\n\t\t});\n\n\t\tvar pricingHolder = document.getElementById('holder-pricing');\n\t\tvar zonesHolder = document.getElementById('holder-zones');\n\n\t\tpricingHolder.innerHTML = '';\n\t\tzonesHolder.innerHTML = '';\n\t\tdb.ref('lyft/teams/' + GAME + '/' + teamid).on('value', function (snap) {\n\t\t\tvar val = snap.val() || {};\n\t\t\tpricingHolder.innerHTML = '';\n\t\t\tzonesHolder.innerHTML = '';\n\n\t\t\tif (!val.pricing) {\n\t\t\t\tval.pricing = {};\n\t\t\t}\n\n\t\t\tif (!val.zones) {\n\t\t\t\tval.zones = {};\n\t\t\t}\n\n\t\t\tvar pView = views.getPricingCards(val);\n\t\t\tpricingHolder.appendChild(pView);\n\n\t\t\tval.community = _communityareas.COMMUNITY_AREAS;\n\t\t\tvar zView = views.getZonesCards(val);\n\t\t\tzonesHolder.appendChild(zView);\n\t\t});\n\t} else {\n\t\tconsole.error('Cannot access team: ', teamid, team);\n\t}\n}\n\nfunction showTeam(teamid, inData) {\n\tvar data = inData || getGameData();\n\tif (!data) {\n\t\tconsole.error('No game data available');\n\t}\n\tvar team = { revenue: [], trips: [], info: { name: 'No Team' } };\n\tif (teamid) {\n\t\tconsole.log('Your team is: ' + teamid);\n\t\tteam = data.map[teamid];\n\t} else {\n\t\tconsole.log('You do not have a team.');\n\t}\n\tmainTeam(teamid, team);\n}\n\nfunction mainAdmin() {\n\n\tvar data = getGameData();\n\tvar list = getTeamRankList(data.map);\n\tvar teamTable = document.getElementById('all-teams-table');\n\tteamTable.innerHTML = '';\n\tvar table = views.getAdminTeamTable({\n\t\tlist: list\n\t});\n\tteamTable.appendChild(table);\n\n\tvar addTeamButton = document.getElementById('admin-add-team');\n\taddTeamButton.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Team Name',\n\t\t\tcallback: function callback(teamName) {\n\t\t\t\tif (teamName) {\n\t\t\t\t\tdb.ref('lyft/info/' + GAME).push({\n\t\t\t\t\t\tname: teamName\n\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tvar addAdminButton = document.getElementById('admin-add-admin');\n\taddAdminButton.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Enter an email address:',\n\t\t\tcallback: function callback(email) {\n\t\t\t\tif (email) {\n\t\t\t\t\tvar emailid = removeSpecialChars(email);\n\t\t\t\t\tif (email.indexOf('@') > -1 && emailid) {\n\t\t\t\t\t\tdb.ref('lyft/admin/' + GAME + '/' + emailid).set({\n\t\t\t\t\t\t\tlevel: true,\n\t\t\t\t\t\t\temail: email\n\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\tvex.dialog.alert('Invited ' + email + ' as an admin.');\n\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\tvex.dialog.alert('Error: ' + err);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvex.dialog.alert('Please enter a valid email address.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tvar exportTeamsButton = document.getElementById('admin-export-teams');\n\texportTeamsButton.addEventListener('click', function (e) {\n\t\tvar data = getGameData() || {};\n\t\tvar out = [];\n\t\tfor (var tid in data.map) {\n\t\t\tout.push(tid);\n\t\t}\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Exported ' + out.length + ' team secrets:',\n\t\t\tvalue: out.join(','),\n\t\t\tcallback: function callback() {}\n\t\t});\n\t});\n}\n\nfunction showPage(pageid) {\n\tPAGE = pageid === 'loading' ? PAGE : pageid;\n\t// Tabs\n\tvar currentTab = document.querySelector('li[data-page].is-active');\n\tif (currentTab) {\n\t\tcurrentTab.classList.remove('is-active');\n\t}\n\tvar newTab = document.querySelector('li[data-page=\"' + pageid + '\"]');\n\tif (newTab) {\n\t\tnewTab.classList.add('is-active');\n\t}\n\t// Sections\n\tArray.from(document.querySelectorAll('section[data-page]')).forEach(function (page) {\n\t\tpage.classList.add('is-hidden');\n\t});\n\tvar newPage = document.querySelector('section[data-page=\"' + pageid + '\"]');\n\tif (newPage) {\n\t\tnewPage.classList.remove('is-hidden');\n\t}\n}\n\nfunction getTeamByEmail(email) {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar emailid = removeSpecialChars(email);\n\t\tdb.ref('lyft/assignments/' + GAME + '/' + emailid).once('value', function (snap) {\n\t\t\tvar node = snap.val();\n\t\t\tif (node) {\n\t\t\t\tresolve(node.teamid);\n\t\t\t} else {\n\t\t\t\tresolve(false);\n\t\t\t}\n\t\t}).catch(reject);\n\t});\n}\n\nfunction login() {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t\tfirebase.auth().signInWithRedirect(provider).then(function (data) {\n\t\t\tvar user = data.user;\n\t\t\tconsole.log(user);\n\t\t}).catch(reject);\n\t});\n}\n\nvar SHOW_TEAM_ID = false;\n\nvar routes = {\n\n\t'/': function _() {\n\t\tconsole.log('landing');\n\t\tshowPage('results');\n\t},\n\n\t'/results': function results() {\n\t\tconsole.log('results');\n\t\tshowPage('results');\n\t},\n\n\t'/leaderboard': function leaderboard() {\n\t\tconsole.log('leaderboard');\n\t\tshowPage('leaderboard');\n\t},\n\n\t'/search': function search() {\n\t\tconsole.log('search');\n\t\tshowPage('search');\n\t},\n\n\t'/team': function team() {\n\t\tconsole.log('team');\n\t\tshowPage('team');\n\t},\n\n\t'/team/:teamid': function teamTeamid(teamid) {\n\t\tconsole.log('team/' + teamid);\n\t\tSHOW_TEAM_ID = teamid;\n\t\tif (IS_ADMIN) {\n\t\t\tshowTeam(teamid);\n\t\t}\n\t\tshowPage('team');\n\t},\n\n\t'/delete/:teamid': function deleteTeamid(teamid) {\n\t\tconsole.log('delete/' + teamid);\n\t\tif (IS_ADMIN) {\n\t\t\tvex.dialog.confirm({\n\t\t\t\tmessage: 'Are you sure you want to delete {' + teamid + '}?',\n\t\t\t\tcallback: function callback(yes) {\n\t\t\t\t\tif (yes) {\n\t\t\t\t\t\tdb.ref('lyft/info/' + GAME + '/' + teamid).remove();\n\t\t\t\t\t\tdb.ref('lyft/results/' + GAME + '/' + teamid).remove();\n\t\t\t\t\t\tdb.ref('lyft/teams/' + GAME + '/' + teamid).remove();\n\t\t\t\t\t\tdb.ref('lyft/assignments/' + GAME).orderByChild('teamid').equalTo(teamid).once('value', function (snap) {\n\t\t\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\t\t\tfor (var nid in nodes) {\n\t\t\t\t\t\t\t\tdb.ref('lyft/assignments/' + GAME + '/' + nid).remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tshowPage('results');\n\t\t}\n\t},\n\n\t'/admin': function admin() {\n\t\tconsole.log('admin');\n\t\tshowPage('admin');\n\t}\n\n};\n\nvar router = Router(routes);\nrouter.init();\nshowPage('loading');\n\nArray.from(document.querySelectorAll('.signout')).forEach(function (btn) {\n\tbtn.addEventListener('click', function (e) {\n\t\tfirebase.auth().signOut();\n\t\tlocalStorage.removeItem('acm_lyft_game_key');\n\t});\n});\n\nvar gameData = {};\n\nfunction getGameData() {\n\treturn gameData;\n}\n\nfunction checkAdmin() {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar emailid = removeSpecialChars(USER.email);\n\t\tdb.ref('lyft/admin/' + GAME + '/' + emailid).once('value', function (snap) {\n\t\t\tvar val = snap.val();\n\t\t\tif (val) {\n\t\t\t\tIS_ADMIN = true;\n\t\t\t\tdocument.querySelector('[data-page=\"admin\"]').classList.remove('is-hidden');\n\t\t\t\tresolve(true);\n\t\t\t} else {\n\t\t\t\tresolve(false);\n\t\t\t}\n\t\t}).catch(resolve);\n\t});\n}\n\nfunction main() {\n\n\tcheckAdmin().then(function () {\n\t\tgetResults(GAME, function (res) {\n\t\t\tgetTeams(GAME, function (teamInfo) {\n\t\t\t\tvar data = getTeamData(res, teamInfo);\n\t\t\t\tconsole.log(data);\n\t\t\t\tgameData = data;\n\t\t\t\tmainResults(data.time, data.map);\n\t\t\t\tmainLeaderboard(data.time, data.map);\n\t\t\t\tmainAdmin();\n\t\t\t\tif (!IS_ADMIN) {\n\t\t\t\t\tgetTeamByEmail(USER.email).then(function (teamid) {\n\t\t\t\t\t\tshowTeam(teamid, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (SHOW_TEAM_ID) {\n\t\t\t\t\tshowTeam(SHOW_TEAM_ID);\n\t\t\t\t}\n\t\t\t\tshowPage(PAGE);\n\t\t\t});\n\t\t});\n\t});\n\n\tdb.ref('lyft/time/' + GAME + '/time').on('value', function (snap) {\n\t\tvar ts = snap.val();\n\t\tdocument.getElementById('sim-time').innerText = 'Today is ' + moment(ts).format('M/D/YYYY') + ' in simulation time.';\n\t});\n}\n\nfunction init() {\n\n\tif (GAME) {\n\t\tlocalStorage.setItem('acm_lyft_game_key', GAME);\n\t\tfirebase.auth().onAuthStateChanged(function (user) {\n\t\t\tif (user) {\n\t\t\t\tUSER_ID = user.uid;\n\t\t\t\tUSER = user;\n\t\t\t\tdb.ref('lyft/admin/' + GAME).once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tif (val) {\n\t\t\t\t\t\tmain();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvex.dialog.confirm({\n\t\t\t\t\t\t\tmessage: 'Do you want to start a new game with the code {' + GAME + '}?',\n\t\t\t\t\t\t\tcallback: function callback(yes) {\n\t\t\t\t\t\t\t\tif (yes) {\n\t\t\t\t\t\t\t\t\tvar emailid = removeSpecialChars(USER.email);\n\t\t\t\t\t\t\t\t\tdb.ref('lyft/admin/' + GAME + '/' + emailid).set({\n\t\t\t\t\t\t\t\t\t\tlevel: true,\n\t\t\t\t\t\t\t\t\t\temail: USER.email\n\t\t\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}).catch(console.error);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('acm_lyft_game_key');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlogin();\n\t\t\t}\n\t\t});\n\t} else {\n\t\tvex.dialog.alert('Please reload the page and enter a valid game key.');\n\t}\n}\n\n},{\"./communityareas\":1,\"./config\":2,\"./views\":4}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n// https://stackoverflow.com/questions/149055/how-can-i-format-numbers-as-dollars-currency-string-in-javascript\nNumber.prototype.formatMoney = function (c, d, t) {\n\tvar n = this,\n\t    c = isNaN(c = Math.abs(c)) ? 2 : c,\n\t    d = d == undefined ? \".\" : d,\n\t    t = t == undefined ? \",\" : t,\n\t    s = n < 0 ? \"-\" : \"\",\n\t    i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\n\t    j = (j = i.length) > 3 ? j % 3 : 0;\n\treturn s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\n};\n\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\tgetLeaderboard: function getLeaderboard(model) {\n\t\t\tvar html = \"\";\n\t\t\tif (model.list.length > 0) {\n\t\t\t\tvar maxRev = model.list[0].score.revenue;\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<table class=\\\"is-fullwidth\\\">\\n\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Rank</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Team</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Revenue</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Trips</th>\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\";\n\t\t\t\tmodel.list.forEach(function (team) {\n\t\t\t\t\tvar revRatio = team.score.revenue / maxRev;\n\t\t\t\t\tvar opac = 0.95 * revRatio + 0.05;\n\t\t\t\t\tvar styleStr = \"background-color: rgba(35, 209, 96, \" + opac.toFixed(3) + \")\";\n\t\t\t\t\tvar spanHTML = '';\n\t\t\t\t\tif (team.rank === 1) {\n\t\t\t\t\t\tspanHTML = \"\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"icon fa fa-trophy\\\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><span>\" + team.rank + \"</span>\" + spanHTML + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>\" + team.info.name + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"\" + styleStr + \"\\\">$\" + team.score.revenue.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>\" + team.score.trips + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t});\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\";\n\t\t\t} else {\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<p>There are no teams in this game yet.</p>\\n\\t\\t\\t\\t\";\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('table-holder');\n\t\t\treturn div;\n\t\t},\n\n\t\tgetPricingCards: function getPricingCards(model) {\n\t\t\tvar html = \"\";\n\t\t\tvar list = Object.keys(model.pricing).map(function (tkey) {\n\t\t\t\treturn model.pricing[tkey];\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn b.in_effect - a.in_effect;\n\t\t\t});\n\t\t\tif (list.length > 0) {\n\t\t\t\tlist.forEach(function (step) {\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t\\t\\t<header class=\\\"card-header\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"card-header-title\\\">Week of \" + moment(step.in_effect).format('M/D/YYYY') + \"</p>\\n\\t\\t\\t\\t\\t\\t\\t</header>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-content\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Category</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Cost</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Base</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>$\" + step.base.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Pickup</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>$\" + step.pickup.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Per Mile</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>$\" + step.per_mile.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Per Minute</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>$\" + step.per_minute.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<!--<footer class=\\\"card-footer\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Save</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Edit</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Delete</a>\\n\\t\\t\\t\\t\\t\\t\\t</footer>-->\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<div class=\\\"notification is-primary\\\">\\n\\t\\t\\t\\t\\t\\t<h2 class=\\\"title is-3\\\">No trip costs set.</h2>\\n\\t\\t\\t\\t\\t\\t<p class=\\\"subtitle is-6\\\">Make a POST request to the /pricing endpoint.</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\";\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetZonesCards: function getZonesCards(model) {\n\t\t\tvar html = \"\";\n\t\t\tvar list = Object.keys(model.zones).map(function (tkey) {\n\t\t\t\treturn model.zones[tkey];\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn b.in_effect - a.in_effect;\n\t\t\t});\n\t\t\tif (list.length > 0) {\n\t\t\t\tlist.forEach(function (step) {\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t\\t\\t<header class=\\\"card-header\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"card-header-title\\\">Week of \" + moment(step.in_effect).format('M/D/YYYY') + \"</p>\\n\\t\\t\\t\\t\\t\\t\\t</header>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-content\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Zone</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Community Area</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t\tfor (var zid in step) {\n\t\t\t\t\t\tif (zid !== 'in_effect') {\n\t\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Zone \" + zid + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\" + model.community[zid] + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<!--<footer class=\\\"card-footer\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Save</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Edit</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Delete</a>\\n\\t\\t\\t\\t\\t\\t\\t</footer>-->\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<div class=\\\"notification is-primary\\\">\\n\\t\\t\\t\\t\\t\\t<h2 class=\\\"title is-3\\\">No power zones set.</h2>\\n\\t\\t\\t\\t\\t\\t<p class=\\\"subtitle is-6\\\">Make a POST request to the /zones endpoint.</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\";\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetAdminTeamTable: function getAdminTeamTable(model) {\n\t\t\tvar html = \"\";\n\t\t\tif (model.list.length > 0) {\n\t\t\t\tvar maxRev = model.list[0].score.revenue;\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<table class=\\\"is-fullwidth\\\">\\n\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Rank</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Team</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Revenue</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Trips</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>View</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Delete</th>\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\";\n\t\t\t\tmodel.list.forEach(function (team) {\n\t\t\t\t\tvar revRatio = team.score.revenue / maxRev;\n\t\t\t\t\tvar opac = 0.95 * revRatio + 0.05;\n\t\t\t\t\tvar styleStr = \"background-color: rgba(35, 209, 96, \" + opac.toFixed(3) + \")\";\n\t\t\t\t\tvar spanHTML = '';\n\t\t\t\t\tif (team.rank === 1) {\n\t\t\t\t\t\tspanHTML = \"\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"icon fa fa-trophy\\\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><span>\" + team.rank + \"</span>\" + spanHTML + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>\" + team.info.name + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"\" + styleStr + \"\\\">$\" + team.score.revenue.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>\" + team.score.trips + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><a href=\\\"./#/team/\" + team.info.teamid + \"\\\" class=\\\"button is-primary is-outlined\\\">View Team</a></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><a href=\\\"./#/delete/\" + team.info.teamid + \"\\\" class=\\\"button is-danger is-outlined\\\">Delete Team</a></td>\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t});\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\";\n\t\t\t} else {\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<p>There are no teams in this game yet.</p>\\n\\t\\t\\t\\t\";\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('table-holder');\n\t\t\treturn div;\n\t\t},\n\n\t\tgetTeamManagement: function getTeamManagement() {\n\t\t\tvar html = \"\\n\\t\\t\\t\\t<div class=\\\"columns\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"column is-6\\\">\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"title is-4\\\">Team Name</h4>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field has-addons\\\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\\\"team-name\\\" class=\\\"input\\\" type=\\\"text\\\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button id=\\\"update-team-name\\\" class=\\\"button is-success\\\">Update</button>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"title is-4\\\">Team Secret</h4>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field has-addons\\\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\\\"team-secret\\\" class=\\\"input is-static\\\" type=\\\"password\\\" value=\\\"secrettext\\\" readonly>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button id=\\\"show-team-secret\\\" class=\\\"button is-danger\\\">Show</button>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"column is-6\\\">\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"title is-4\\\">Invite Teammate</h4>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field has-addons\\\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\\\"teammate-email\\\" class=\\\"input\\\" type=\\\"text\\\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button id=\\\"invite-teammate\\\" class=\\\"button is-success\\\">Invite</button>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"title is-4\\\">Current Teammates</h4>\\n\\t\\t\\t\\t\\t\\t<ul id=\\\"teammates-list\\\"></ul>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\";\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29tbXVuaXR5YXJlYXMuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvdmlld3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQ0FBLElBQU0sa0JBQWtCO0FBQ3ZCLE1BQUssYUFEa0I7QUFFdkIsTUFBSyxZQUZrQjtBQUd2QixNQUFLLFFBSGtCO0FBSXZCLE1BQUssZ0JBSmtCO0FBS3ZCLE1BQUssY0FMa0I7QUFNdkIsTUFBSyxXQU5rQjtBQU92QixNQUFLLGNBUGtCO0FBUXZCLE1BQUssaUJBUmtCO0FBU3ZCLE1BQUssYUFUa0I7QUFVdkIsT0FBTSxjQVZpQjtBQVd2QixPQUFNLGdCQVhpQjtBQVl2QixPQUFNLGFBWmlCO0FBYXZCLE9BQU0sWUFiaUI7QUFjdkIsT0FBTSxhQWRpQjtBQWV2QixPQUFNLGNBZmlCO0FBZ0J2QixPQUFNLGFBaEJpQjtBQWlCdkIsT0FBTSxTQWpCaUI7QUFrQnZCLE9BQU0sV0FsQmlCO0FBbUJ2QixPQUFNLGdCQW5CaUI7QUFvQnZCLE9BQU0sU0FwQmlCO0FBcUJ2QixPQUFNLFVBckJpQjtBQXNCdkIsT0FBTSxjQXRCaUI7QUF1QnZCLE9BQU0sZUF2QmlCO0FBd0J2QixPQUFNLFdBeEJpQjtBQXlCdkIsT0FBTSxRQXpCaUI7QUEwQnZCLE9BQU0sb0JBMUJpQjtBQTJCdkIsT0FBTSxvQkEzQmlCO0FBNEJ2QixPQUFNLGdCQTVCaUI7QUE2QnZCLE9BQU0sZ0JBN0JpQjtBQThCdkIsT0FBTSxnQkE5QmlCO0FBK0J2QixPQUFNLGlCQS9CaUI7QUFnQ3ZCLE9BQU0sTUFoQ2lCO0FBaUN2QixPQUFNLGlCQWpDaUI7QUFrQ3ZCLE9BQU0sZUFsQ2lCO0FBbUN2QixPQUFNLFNBbkNpQjtBQW9DdkIsT0FBTSxTQXBDaUI7QUFxQ3ZCLE9BQU0sYUFyQ2lCO0FBc0N2QixPQUFNLGlCQXRDaUI7QUF1Q3ZCLE9BQU0sU0F2Q2lCO0FBd0N2QixPQUFNLGlCQXhDaUI7QUF5Q3ZCLE9BQU0sV0F6Q2lCO0FBMEN2QixPQUFNLFVBMUNpQjtBQTJDdkIsT0FBTSxhQTNDaUI7QUE0Q3ZCLE9BQU0sU0E1Q2lCO0FBNkN2QixPQUFNLGFBN0NpQjtBQThDdkIsT0FBTSxlQTlDaUI7QUErQ3ZCLE9BQU0sVUEvQ2lCO0FBZ0R2QixPQUFNLGlCQWhEaUI7QUFpRHZCLE9BQU0sVUFqRGlCO0FBa0R2QixPQUFNLFNBbERpQjtBQW1EdkIsT0FBTSxlQW5EaUI7QUFvRHZCLE9BQU0sV0FwRGlCO0FBcUR2QixPQUFNLGNBckRpQjtBQXNEdkIsT0FBTSxXQXREaUI7QUF1RHZCLE9BQU0sV0F2RGlCO0FBd0R2QixPQUFNLGdCQXhEaUI7QUF5RHZCLE9BQU0sZ0JBekRpQjtBQTBEdkIsT0FBTSxlQTFEaUI7QUEyRHZCLE9BQU0sZUEzRGlCO0FBNER2QixPQUFNLFlBNURpQjtBQTZEdkIsT0FBTSxVQTdEaUI7QUE4RHZCLE9BQU0sYUE5RGlCO0FBK0R2QixPQUFNLFdBL0RpQjtBQWdFdkIsT0FBTSxVQWhFaUI7QUFpRXZCLE9BQU0sV0FqRWlCO0FBa0V2QixPQUFNLGdCQWxFaUI7QUFtRXZCLE9BQU0sV0FuRWlCO0FBb0V2QixPQUFNLHdCQXBFaUI7QUFxRXZCLE9BQU0sU0FyRWlCO0FBc0V2QixPQUFNLGdCQXRFaUI7QUF1RXZCLE9BQU0sU0F2RWlCO0FBd0V2QixPQUFNLG9CQXhFaUI7QUF5RXZCLE9BQU0saUJBekVpQjtBQTBFdkIsT0FBTSxhQTFFaUI7QUEyRXZCLE9BQU0sUUEzRWlCO0FBNEV2QixPQUFNO0FBNUVpQixDQUF4Qjs7UUErRVEsZSxHQUFBLGU7Ozs7O0FDL0VSLE9BQU8sT0FBUCxHQUFpQjtBQUNiLFlBQVEseUNBREs7QUFFYixnQkFBWSxtQ0FGQztBQUdiLGlCQUFhLDBDQUhBO0FBSWIsZUFBVyxtQkFKRTtBQUtiLG1CQUFlLCtCQUxGO0FBTWIsdUJBQW1CO0FBTk4sQ0FBakI7Ozs7O0FDRUE7O0FBR0E7O0FBTEEsSUFBSSxTQUFTLFFBQVEsVUFBUixDQUFiOztBQUdBLElBQUksUUFBUSxtQkFBWjs7QUFJQSxJQUFJLGNBQWMsU0FBUyxhQUFULENBQXVCLE1BQXZCLENBQWxCO0FBQ0EsSUFBSSxLQUFLLFlBQVksUUFBWixFQUFUOztBQUVBLElBQUksT0FBTyxLQUFYO0FBQ0EsT0FBTyxhQUFhLE9BQWIsQ0FBcUIsbUJBQXJCLENBQVA7QUFDQSxJQUFJLENBQUMsSUFBTCxFQUFXO0FBQ1YsUUFBTyxJQUFJLE1BQUosQ0FBVyxNQUFYLENBQWtCO0FBQ3hCLFdBQVMsc0JBRGU7QUFFeEIsWUFBVSxrQkFBQyxPQUFELEVBQWE7QUFDdEIsVUFBTyxPQUFQO0FBQ0E7QUFDQTtBQUx1QixFQUFsQixDQUFQO0FBT0EsQ0FSRCxNQVFPO0FBQ047QUFDQTs7QUFFRCxJQUFJLE9BQU8sRUFBWDtBQUNBLElBQUksVUFBVSxLQUFkO0FBQ0EsSUFBSSxPQUFPLEVBQVg7QUFDQSxJQUFJLFdBQVcsS0FBZjs7QUFFQSxJQUFNLGdCQUFOO0FBQ0EsSUFBTSxrQkFBTjs7QUFFQSxJQUFNLFdBQVcsNkJBQTZCLFdBQTdCLEdBQTJDLEtBQTNDLENBQWlELEVBQWpELENBQWpCO0FBQ0EsSUFBTSxTQUFTLDBLQUEwSyxLQUExSyxNQUFxTCxHQUFyTCxDQUF5TCxVQUFDLEdBQUQ7QUFBQSxhQUFZLEdBQVo7QUFBQSxDQUF6TCxFQUE0TSxPQUE1TSxFQUFmOztBQUVBLFNBQVMsY0FBVCxDQUF3QixFQUF4QixFQUE0QjtBQUMzQixNQUFLLEdBQUcsS0FBSCxDQUFTLEdBQVQsRUFBYyxJQUFkLENBQW1CLEdBQW5CLENBQUw7QUFDQSxLQUFJLFNBQVMsRUFBYjtBQUFBLEtBQ0MsTUFERDtBQUFBLEtBRUMsS0FBSyx1QkFGTjtBQUdBLFFBQU8sU0FBUyxHQUFHLElBQUgsQ0FBUSxFQUFSLENBQWhCLEVBQTZCO0FBQzVCLFNBQU8sbUJBQW1CLE9BQU8sQ0FBUCxDQUFuQixDQUFQLElBQXdDLG1CQUFtQixPQUFPLENBQVAsQ0FBbkIsQ0FBeEM7QUFDQTtBQUNELFFBQU8sTUFBUDtBQUNBOztBQUVEO0FBQ0EsU0FBUyxrQkFBVCxDQUE0QixHQUE1QixFQUFpQztBQUNoQyxRQUFPLElBQUksT0FBSixDQUFZLGFBQVosRUFBMkIsRUFBM0IsRUFDTCxPQURLLENBQ0csTUFESCxFQUNXLEdBRFgsRUFFTCxPQUZLLENBRUcsMEJBRkgsRUFFK0IsSUFGL0IsQ0FBUDtBQUdBOztBQUVELFNBQVMsU0FBVCxDQUFtQixRQUFuQixFQUE2QixJQUE3QixFQUFtQztBQUNsQyxPQUFNLElBQU4sQ0FBVyxTQUFTLGdCQUFULENBQTBCLFFBQTFCLENBQVgsRUFBZ0QsT0FBaEQsQ0FBd0QsVUFBQyxHQUFELEVBQVM7QUFDaEUsTUFBSSxTQUFKLEdBQWdCLElBQWhCO0FBQ0EsRUFGRDtBQUdBOztBQUVELFNBQVMsVUFBVCxDQUFvQixNQUFwQixFQUE0QixRQUE1QixFQUFzQztBQUNyQyxJQUFHLEdBQUgsbUJBQXVCLE1BQXZCLEVBQWlDLElBQWpDLENBQXNDLE9BQXRDLEVBQStDLFVBQUMsSUFBRCxFQUFVO0FBQ3hELE1BQUksTUFBTSxLQUFLLEdBQUwsTUFBYyxFQUF4QjtBQUNBLFdBQVMsR0FBVDtBQUNBLEVBSEQ7QUFJQTs7QUFFRCxTQUFTLFFBQVQsQ0FBa0IsTUFBbEIsRUFBMEIsUUFBMUIsRUFBb0M7QUFDbkMsSUFBRyxHQUFILGdCQUFvQixNQUFwQixFQUE4QixJQUE5QixDQUFtQyxPQUFuQyxFQUE0QyxVQUFDLElBQUQsRUFBVTtBQUNyRCxNQUFJLE1BQU0sS0FBSyxHQUFMLE1BQWMsRUFBeEI7QUFDQSxXQUFTLEdBQVQ7QUFDQSxFQUhEO0FBSUE7O0FBRUQsU0FBUyxXQUFULENBQXFCLEdBQXJCLEVBQTBCLElBQTFCLEVBQWdDO0FBQy9CLEtBQUksUUFBUSxPQUFPLEVBQW5CO0FBQ0EsS0FBSSxPQUFPLE9BQU8sSUFBUCxDQUFZLEtBQVosRUFBbUIsR0FBbkIsQ0FBdUIsVUFBQyxHQUFEO0FBQUEsU0FBUyxJQUFJLEdBQUosQ0FBVDtBQUFBLEVBQXZCLEVBQTBDLElBQTFDLENBQStDLFVBQUMsQ0FBRCxFQUFJLENBQUosRUFBVTtBQUNuRSxTQUFPLEVBQUUsS0FBRixHQUFVLEVBQUUsS0FBbkI7QUFDQSxFQUZVLENBQVg7QUFHQSxLQUFJLE9BQU8sRUFBWDtBQUNBLEtBQUksTUFBTSxFQUFWO0FBQ0EsS0FBSSxLQUFLLE1BQUwsR0FBYyxDQUFsQixFQUFxQjtBQUNwQixNQUFJLFFBQVEsS0FBSyxDQUFMLENBQVo7QUFDQSxNQUFJLFVBQVUsQ0FBZDtBQUNBLE9BQUssSUFBSSxNQUFULElBQW1CLE1BQU0sSUFBekIsRUFBK0I7QUFDOUIsT0FBSSxFQUFFLFVBQVUsR0FBWixDQUFKLEVBQXNCO0FBQ3JCLFFBQUksTUFBSixJQUFjO0FBQ2IsV0FBTTtBQUNMLGNBQVEsTUFESDtBQUVMLCtCQUF1QixTQUFTLE9BQVQsQ0FBdkIsVUFBNkMsTUFBN0M7QUFGSyxNQURPO0FBS2IsY0FBUyxFQUxJO0FBTWIsWUFBTyxFQU5NO0FBT2IsWUFBTztBQVBNLEtBQWQ7QUFTQSxRQUFJLFVBQVUsSUFBZCxFQUFvQjtBQUNuQixTQUFJLE1BQUosRUFBWSxJQUFaLEdBQW1CLEtBQUssTUFBTCxDQUFuQjtBQUNBLFNBQUksTUFBSixFQUFZLElBQVosQ0FBaUIsTUFBakIsR0FBMEIsTUFBMUI7QUFDQTtBQUNEO0FBQ0Q7QUFDQTtBQUNELE9BQUssT0FBTCxDQUFhLFVBQUMsR0FBRCxFQUFTO0FBQ3JCLFFBQUssSUFBTCxDQUFVLElBQUksS0FBZDtBQUNBLFFBQUssSUFBSSxPQUFULElBQW1CLElBQUksSUFBdkIsRUFBNkI7QUFDNUIsUUFBSSxXQUFVLEdBQWQsRUFBbUI7QUFDbEIsU0FBSSxPQUFPLElBQUksSUFBSixDQUFTLE9BQVQsQ0FBWDtBQUNBLFNBQUksT0FBSixFQUFZLEtBQVosQ0FBa0IsSUFBbEIsQ0FBdUIsS0FBSyxLQUE1QjtBQUNBLFNBQUksUUFBUSxLQUFLLE9BQWpCO0FBQ0EsU0FBSSxNQUFNO0FBQ1QsWUFBTSxXQUFXLE1BQU0sSUFBakIsQ0FERztBQUVULFlBQU0sV0FBVyxNQUFNLElBQWpCO0FBRkcsTUFBVjtBQUlBLFNBQUksT0FBSixFQUFZLE9BQVosQ0FBb0IsSUFBcEIsQ0FBeUIsR0FBekI7QUFDQSxTQUFJLFVBQVUsS0FBSyxLQUFMLElBQWMsRUFBNUI7QUFDQSxVQUFLLElBQUksR0FBVCxJQUFnQixPQUFoQixFQUF5QjtBQUN4QixVQUFJLEtBQUssV0FBVyxRQUFRLEdBQVIsRUFBYSxJQUFiLEdBQW9CLEVBQS9CLENBQVQ7QUFDQSxjQUFRLEdBQVIsRUFBYSxJQUFiLEdBQW9CLEVBQXBCO0FBQ0E7QUFDRCxTQUFJLE9BQUosRUFBWSxLQUFaLENBQWtCLElBQWxCLENBQXVCLE9BQXZCO0FBQ0E7QUFDRDtBQUNELEdBcEJEO0FBcUJBO0FBQ0QsTUFBSyxJQUFJLFFBQVQsSUFBbUIsSUFBbkIsRUFBeUI7QUFDeEIsTUFBSSxFQUFFLFlBQVUsR0FBWixDQUFKLEVBQXNCO0FBQ3JCLE9BQUksV0FBVyxLQUFLLFFBQUwsQ0FBZjtBQUNDLFlBQVMsTUFBVCxHQUFrQixRQUFsQjtBQUNELE9BQUksUUFBSixJQUFjO0FBQ2IsVUFBTSxRQURPO0FBRWIsYUFBUyxFQUZJO0FBR2IsV0FBTztBQUhNLElBQWQ7QUFLQTtBQUNEO0FBQ0QsUUFBTztBQUNOLFFBQU0sSUFEQTtBQUVOLE9BQUs7QUFGQyxFQUFQO0FBSUE7O0FBRUQsU0FBUyxZQUFULENBQXNCLElBQXRCLEVBQTRCO0FBQzNCLEtBQUksV0FBVyxLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLFVBQUMsR0FBRCxFQUFNLEdBQU4sRUFBYztBQUNoRCxTQUFPLE1BQU0sSUFBSSxJQUFqQjtBQUNBLEVBRmMsRUFFWixDQUZZLENBQWY7QUFHQSxLQUFJLGFBQWEsS0FBSyxLQUFMLENBQVcsTUFBWCxDQUFrQixVQUFDLEdBQUQsRUFBTSxHQUFOLEVBQWM7QUFDaEQsU0FBTyxNQUFNLElBQUksSUFBakI7QUFDQSxFQUZnQixFQUVkLENBRmMsQ0FBakI7QUFHQSxRQUFPO0FBQ04sV0FBUyxRQURIO0FBRU4sU0FBTztBQUZELEVBQVA7QUFJQTs7QUFFRCxTQUFTLFdBQVQsQ0FBcUIsSUFBckIsRUFBMkIsR0FBM0IsRUFBZ0M7QUFDL0IsS0FBSSxXQUFXLEVBQWY7QUFDQSxLQUFJLElBQUksQ0FBUjs7QUFGK0IsNEJBR3RCLE1BSHNCO0FBSTlCLE1BQUksT0FBTyxFQUFYO0FBQ0EsTUFBSSxRQUFRLENBQVo7QUFDQSxNQUFJLE1BQUosRUFBWSxPQUFaLENBQW9CLE9BQXBCLENBQTRCLFVBQUMsSUFBRCxFQUFPLEdBQVAsRUFBZTtBQUMxQyxZQUFTLEtBQUssSUFBZDtBQUNBLFFBQUssSUFBTCxDQUFVO0FBQ1QsT0FBRyxLQUFLLEdBQUwsQ0FETTtBQUVULE9BQUc7QUFGTSxJQUFWO0FBSUEsR0FORDtBQU9BLFdBQVMsSUFBVCxDQUFjO0FBQ2IsVUFBTyxJQUFJLE1BQUosRUFBWSxJQUFaLENBQWlCLElBRFg7QUFFYixnQkFBYSxPQUFPLENBQVAsQ0FGQTtBQUdiLFNBQU0sS0FITztBQUliLDJCQUF3QixVQUpYO0FBS2IsU0FBTTtBQUxPLEdBQWQ7QUFPQTtBQXBCOEI7O0FBRy9CLE1BQUssSUFBSSxNQUFULElBQW1CLEdBQW5CLEVBQXdCO0FBQUEsUUFBZixNQUFlO0FBa0J2QjtBQUNELEtBQUksTUFBTSxTQUFTLGNBQVQsQ0FBd0IsT0FBeEIsRUFBaUMsVUFBakMsQ0FBNEMsSUFBNUMsQ0FBVjtBQUNBLEtBQUksUUFBUSxJQUFJLEtBQUosQ0FBVSxHQUFWLEVBQWU7QUFDMUIsY0FEMEI7QUFFMUIsUUFBTTtBQUNMLGFBQVU7QUFETCxHQUZvQjtBQUsxQixXQUFTO0FBQ1IsZUFBWSxLQURKO0FBRVIsd0JBQXFCLElBRmI7QUFHUixXQUFRO0FBQ1A7QUFETyxJQUhBO0FBTVIsVUFBTztBQUNOLGFBQVMsSUFESDtBQUVOO0FBRk0sSUFOQztBQVVSLFdBQVE7QUFDUCxXQUFPLENBQUM7QUFDUCxjQUFTLElBREY7QUFFUCxtQkFGTztBQUdQLGlCQUFZO0FBQ1gsZUFBUyxJQURFO0FBRVgsbUJBQWE7QUFGRixNQUhMO0FBT1AsWUFBTztBQUNOLGdCQUFVLGtCQUFDLEVBQUQsRUFBUTtBQUNqQixjQUFPLE9BQU8sRUFBUCxFQUFXLE1BQVgsQ0FBa0IsS0FBbEIsQ0FBUDtBQUNBO0FBSEs7QUFQQSxLQUFELENBREE7QUFjUCxXQUFPLENBQUM7QUFDUCxjQUFTLElBREY7QUFFUCxtQkFGTztBQUdQLGlCQUFZO0FBQ1gsZUFBUyxJQURFO0FBRVgsbUJBQWE7QUFGRixNQUhMO0FBT1AsWUFBTztBQUNOLGdCQUFVLGtCQUFDLEdBQUQsRUFBUztBQUNsQixvQkFBVyxJQUFJLE9BQUosQ0FBWSxDQUFaLENBQVg7QUFDQTtBQUhLO0FBUEEsS0FBRDtBQWRBLElBVkE7QUFzQ1IsYUFBVTtBQUNULFdBQU87QUFDTixhQUFRO0FBREY7QUFERSxJQXRDRjtBQTJDUjtBQTNDUTtBQUxpQixFQUFmLENBQVo7QUFtREE7O0FBRUQsU0FBUyxlQUFULENBQXlCLEdBQXpCLEVBQThCO0FBQzdCLEtBQUksT0FBTyxFQUFYO0FBQ0EsTUFBSyxJQUFJLE1BQVQsSUFBbUIsR0FBbkIsRUFBd0I7QUFDdkIsTUFBSSxTQUFRLGFBQWEsSUFBSSxNQUFKLENBQWIsQ0FBWjtBQUNBLE9BQUssSUFBTCxDQUFVO0FBQ1QsU0FBTSxJQUFJLE1BQUosRUFBWSxJQURUO0FBRVQsVUFBTztBQUZFLEdBQVY7QUFJQTtBQUNELEtBQUksU0FBUyxLQUFLLElBQUwsQ0FBVSxVQUFDLENBQUQsRUFBSSxDQUFKLEVBQVU7QUFDaEMsU0FBTyxFQUFFLEtBQUYsQ0FBUSxPQUFSLEdBQWtCLEVBQUUsS0FBRixDQUFRLE9BQWpDO0FBQ0EsRUFGWSxDQUFiO0FBR0EsS0FBSSxPQUFPLENBQVg7QUFDQSxLQUFJLFFBQVEsUUFBWjtBQUNBLFFBQU8sT0FBUCxDQUFlLFVBQUMsSUFBRCxFQUFVO0FBQ3hCLE1BQUksS0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixLQUF6QixFQUFnQztBQUMvQixXQUFRLEtBQUssS0FBTCxDQUFXLE9BQW5CO0FBQ0E7QUFDQTtBQUNELE9BQUssSUFBTCxHQUFZLElBQVo7QUFDQSxFQU5EO0FBT0EsUUFBTyxNQUFQO0FBQ0E7O0FBRUQsU0FBUyxlQUFULENBQXlCLElBQXpCLEVBQStCLEdBQS9CLEVBQW9DO0FBQ25DLEtBQUksT0FBTyxnQkFBZ0IsR0FBaEIsQ0FBWDtBQUNBLEtBQUksT0FBTyxNQUFNLGNBQU4sQ0FBcUI7QUFDL0IsUUFBTTtBQUR5QixFQUFyQixDQUFYO0FBR0EsVUFBUyxjQUFULENBQXdCLGFBQXhCLEVBQXVDLFdBQXZDLENBQW1ELElBQW5EO0FBQ0E7O0FBRUQsU0FBUyxjQUFULENBQXdCLGFBQXhCLEVBQXVDLE1BQXZDLEVBQStDO0FBQzlDLFFBQU8sSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN2QyxNQUFJLGFBQUosRUFBbUI7QUFDbEIsT0FBSSxjQUFjLE9BQWQsQ0FBc0IsR0FBdEIsSUFBNkIsQ0FBQyxDQUFsQyxFQUFxQztBQUNwQyxRQUFJLFVBQVUsbUJBQW1CLGFBQW5CLENBQWQ7QUFDQSxZQUFRLEdBQVIsYUFBc0IsT0FBdEIsWUFBb0MsTUFBcEM7QUFDQSxRQUFJLFdBQVcsTUFBZixFQUF1QjtBQUN0QixRQUFHLEdBQUgsdUJBQTJCLElBQTNCLFNBQW1DLE9BQW5DLEVBQThDLEdBQTlDLENBQWtEO0FBQ2pELGNBQVEsTUFEeUM7QUFFakQsYUFBTztBQUYwQyxNQUFsRCxFQUdHLElBSEgsQ0FHUSxVQUFDLElBQUQsRUFBVTtBQUNqQixjQUFRO0FBQ1AsZ0JBQVMsSUFERjtBQUVQLGNBQU87QUFGQSxPQUFSO0FBSUEsTUFSRCxFQVFHLEtBUkgsQ0FRUyxVQUFDLEdBQUQsRUFBUztBQUNqQixjQUFRLEtBQVIsQ0FBYyxHQUFkO0FBQ0EsYUFBTyxHQUFQO0FBQ0EsTUFYRDtBQVlBLEtBYkQsTUFhTztBQUNOLFlBQU8scUNBQVA7QUFDQTtBQUNELElBbkJELE1BbUJPO0FBQ04sV0FBTyxxQ0FBUDtBQUNBO0FBQ0QsR0F2QkQsTUF1Qk87QUFDTixVQUFPLHFDQUFQO0FBQ0E7QUFDRCxFQTNCTSxDQUFQO0FBNEJBOztBQUVELFNBQVMsUUFBVCxDQUFrQixNQUFsQixFQUEwQixJQUExQixFQUFnQzs7QUFFL0IsU0FBUSxHQUFSLENBQVksU0FBWixFQUF1QixNQUF2QixFQUErQixJQUEvQjs7QUFFQSxLQUFJLFVBQVUsSUFBZCxFQUFvQjs7QUFFbkIsTUFBSSxRQUFRLE1BQU0saUJBQU4sRUFBWjtBQUNBLFdBQVMsY0FBVCxDQUF3QixpQkFBeEIsRUFBMkMsU0FBM0MsR0FBdUQsTUFBTSxTQUE3RDs7QUFFQSxXQUFTLGNBQVQsQ0FBd0IsWUFBeEIsRUFBc0MsU0FBdEMsQ0FBZ0QsTUFBaEQsQ0FBdUQsV0FBdkQ7QUFDQSxXQUFTLGNBQVQsQ0FBd0IsZUFBeEIsRUFBeUMsU0FBekMsQ0FBbUQsR0FBbkQsQ0FBdUQsV0FBdkQ7O0FBRUEsTUFBSSxrQkFBa0IsU0FBUyxjQUFULENBQXdCLGFBQXhCLENBQXRCO0FBQ0EsTUFBSSxtQkFBbUIsU0FBUyxjQUFULENBQXdCLGtCQUF4QixDQUF2QjtBQUNDLGtCQUFnQixLQUFoQixHQUF3QixNQUF4Qjs7QUFFRCxtQkFBaUIsZ0JBQWpCLENBQWtDLE9BQWxDLEVBQTJDLFVBQUMsQ0FBRCxFQUFPO0FBQ2pELE9BQUksZ0JBQWdCLElBQWhCLEtBQXlCLFVBQTdCLEVBQXlDO0FBQ3hDLG9CQUFnQixJQUFoQixHQUF1QixNQUF2QjtBQUNBLHFCQUFpQixTQUFqQixHQUE2QixNQUE3QjtBQUNBLHFCQUFpQixTQUFqQixDQUEyQixNQUEzQixDQUFrQyxXQUFsQztBQUNBLHFCQUFpQixTQUFqQixDQUEyQixHQUEzQixDQUErQixZQUEvQjtBQUNBLElBTEQsTUFLTztBQUNOLG9CQUFnQixJQUFoQixHQUF1QixVQUF2QjtBQUNBLHFCQUFpQixTQUFqQixHQUE2QixNQUE3QjtBQUNBLHFCQUFpQixTQUFqQixDQUEyQixNQUEzQixDQUFrQyxZQUFsQztBQUNBLHFCQUFpQixTQUFqQixDQUEyQixHQUEzQixDQUErQixXQUEvQjtBQUNBO0FBQ0QsR0FaRDs7QUFjQSxNQUFJLGtCQUFrQixTQUFTLGNBQVQsQ0FBd0IsZ0JBQXhCLENBQXRCO0FBQ0EsTUFBSSxtQkFBbUIsU0FBUyxjQUFULENBQXdCLGlCQUF4QixDQUF2Qjs7QUFFQSxtQkFBaUIsZ0JBQWpCLENBQWtDLE9BQWxDLEVBQTJDLFVBQUMsQ0FBRCxFQUFPO0FBQ2pELG9CQUFpQixTQUFqQixDQUEyQixHQUEzQixDQUErQixZQUEvQjtBQUNBLGtCQUFlLGdCQUFnQixLQUEvQixFQUFzQyxNQUF0QyxFQUE4QyxJQUE5QyxDQUFtRCxVQUFDLElBQUQsRUFBVTtBQUM1RCxRQUFJLE1BQUosQ0FBVyxLQUFYLGNBQTRCLGdCQUFnQixLQUE1QyxZQUF3RCxLQUFLLElBQUwsQ0FBVSxJQUFsRTtBQUNBLHFCQUFpQixTQUFqQixDQUEyQixNQUEzQixDQUFrQyxZQUFsQztBQUNBLGFBQVMsTUFBVCxFQUFpQixJQUFqQjtBQUNBLElBSkQsRUFJRyxLQUpILENBSVMsVUFBQyxLQUFELEVBQVc7QUFDbkIsWUFBUSxLQUFSLENBQWMsS0FBZDtBQUNBLFFBQUksTUFBSixDQUFXLEtBQVgsQ0FBaUIsUUFBUSxFQUF6QjtBQUNBLHFCQUFpQixTQUFqQixDQUEyQixNQUEzQixDQUFrQyxZQUFsQztBQUNBLElBUkQ7QUFTQSxHQVhEOztBQWFBLEtBQUcsR0FBSCx1QkFBMkIsSUFBM0IsRUFBbUMsWUFBbkMsQ0FBZ0QsUUFBaEQsRUFBMEQsT0FBMUQsQ0FBa0UsTUFBbEUsRUFBMEUsSUFBMUUsQ0FBK0UsT0FBL0UsRUFBd0YsVUFBQyxJQUFELEVBQVU7QUFDakcsT0FBSSxRQUFRLEtBQUssR0FBTCxNQUFjLEVBQTFCO0FBQ0EsT0FBSSxLQUFLLFNBQVMsY0FBVCxDQUF3QixnQkFBeEIsQ0FBVDtBQUNBLE1BQUcsU0FBSCxHQUFlLEVBQWY7QUFDQSxPQUFJLE9BQU8sSUFBUCxDQUFZLEtBQVosRUFBbUIsTUFBbkIsR0FBNEIsQ0FBaEMsRUFBbUM7QUFDbEMsU0FBSyxJQUFJLEdBQVQsSUFBZ0IsS0FBaEIsRUFBdUI7QUFDdEIsUUFBRyxTQUFILGFBQXVCLE1BQU0sR0FBTixFQUFXLEtBQWxDO0FBQ0E7QUFDRCxJQUpELE1BSU87QUFDTCxPQUFHLFNBQUg7QUFDRDtBQUNELEdBWEQ7O0FBYUEsTUFBSSxnQkFBZ0IsU0FBUyxjQUFULENBQXdCLFdBQXhCLENBQXBCO0FBQ0EsTUFBSSxpQkFBaUIsU0FBUyxjQUFULENBQXdCLGtCQUF4QixDQUFyQjtBQUNDLGdCQUFjLEtBQWQsR0FBc0IsS0FBSyxJQUFMLENBQVUsSUFBaEM7QUFDQSxZQUFVLGlCQUFWLEVBQTZCLEtBQUssSUFBTCxDQUFVLElBQXZDOztBQUVELGlCQUFlLGdCQUFmLENBQWdDLE9BQWhDLEVBQXlDLFVBQUMsQ0FBRCxFQUFPO0FBQy9DLE1BQUcsR0FBSCxnQkFBb0IsSUFBcEIsU0FBNEIsTUFBNUIsWUFBMkMsR0FBM0MsQ0FBK0MsY0FBYyxLQUE3RCxFQUFvRSxJQUFwRSxDQUF5RSxVQUFDLElBQUQsRUFBVTtBQUNsRixXQUFPLFFBQVAsQ0FBZ0IsTUFBaEI7QUFDQSxJQUZELEVBRUcsS0FGSCxDQUVTLFFBQVEsS0FGakI7QUFHQSxHQUpEOztBQU1BLE1BQUksZ0JBQWdCLFNBQVMsY0FBVCxDQUF3QixnQkFBeEIsQ0FBcEI7QUFDQSxNQUFJLGNBQWMsU0FBUyxjQUFULENBQXdCLGNBQXhCLENBQWxCOztBQUVBLGdCQUFjLFNBQWQsR0FBMEIsRUFBMUI7QUFDQSxjQUFZLFNBQVosR0FBd0IsRUFBeEI7QUFDQSxLQUFHLEdBQUgsaUJBQXFCLElBQXJCLFNBQTZCLE1BQTdCLEVBQXVDLEVBQXZDLENBQTBDLE9BQTFDLEVBQW1ELFVBQUMsSUFBRCxFQUFVO0FBQzVELE9BQUksTUFBTSxLQUFLLEdBQUwsTUFBYyxFQUF4QjtBQUNBLGlCQUFjLFNBQWQsR0FBMEIsRUFBMUI7QUFDQSxlQUFZLFNBQVosR0FBd0IsRUFBeEI7O0FBRUEsT0FBSSxDQUFDLElBQUksT0FBVCxFQUFrQjtBQUNqQixRQUFJLE9BQUosR0FBYyxFQUFkO0FBQ0E7O0FBRUQsT0FBSSxDQUFDLElBQUksS0FBVCxFQUFnQjtBQUNmLFFBQUksS0FBSixHQUFZLEVBQVo7QUFDQTs7QUFFRCxPQUFJLFFBQVEsTUFBTSxlQUFOLENBQXNCLEdBQXRCLENBQVo7QUFDQSxpQkFBYyxXQUFkLENBQTBCLEtBQTFCOztBQUVBLE9BQUksU0FBSjtBQUNBLE9BQUksUUFBUSxNQUFNLGFBQU4sQ0FBb0IsR0FBcEIsQ0FBWjtBQUNBLGVBQVksV0FBWixDQUF3QixLQUF4QjtBQUNBLEdBbkJEO0FBcUJBLEVBNUZELE1BNEZPO0FBQ04sVUFBUSxLQUFSLENBQWMsc0JBQWQsRUFBc0MsTUFBdEMsRUFBOEMsSUFBOUM7QUFDQTtBQUVEOztBQUVELFNBQVMsUUFBVCxDQUFrQixNQUFsQixFQUEwQixNQUExQixFQUFrQztBQUNqQyxLQUFJLE9BQU8sVUFBVSxhQUFyQjtBQUNBLEtBQUksQ0FBQyxJQUFMLEVBQVc7QUFDVixVQUFRLEtBQVIsQ0FBYyx3QkFBZDtBQUNBO0FBQ0QsS0FBSSxPQUFPLEVBQUMsU0FBUyxFQUFWLEVBQWMsT0FBTyxFQUFyQixFQUF5QixNQUFNLEVBQUMsTUFBTSxTQUFQLEVBQS9CLEVBQVg7QUFDQSxLQUFJLE1BQUosRUFBWTtBQUNYLFVBQVEsR0FBUixvQkFBNkIsTUFBN0I7QUFDQSxTQUFPLEtBQUssR0FBTCxDQUFTLE1BQVQsQ0FBUDtBQUNBLEVBSEQsTUFHTztBQUNOLFVBQVEsR0FBUjtBQUNBO0FBQ0QsVUFBUyxNQUFULEVBQWlCLElBQWpCO0FBQ0E7O0FBRUQsU0FBUyxTQUFULEdBQXFCOztBQUVwQixLQUFJLE9BQU8sYUFBWDtBQUNBLEtBQUksT0FBTyxnQkFBZ0IsS0FBSyxHQUFyQixDQUFYO0FBQ0EsS0FBSSxZQUFZLFNBQVMsY0FBVCxDQUF3QixpQkFBeEIsQ0FBaEI7QUFDQSxXQUFVLFNBQVYsR0FBc0IsRUFBdEI7QUFDQSxLQUFJLFFBQVEsTUFBTSxpQkFBTixDQUF3QjtBQUNuQyxRQUFNO0FBRDZCLEVBQXhCLENBQVo7QUFHQSxXQUFVLFdBQVYsQ0FBc0IsS0FBdEI7O0FBRUEsS0FBSSxnQkFBZ0IsU0FBUyxjQUFULENBQXdCLGdCQUF4QixDQUFwQjtBQUNBLGVBQWMsZ0JBQWQsQ0FBK0IsT0FBL0IsRUFBd0MsVUFBQyxDQUFELEVBQU87QUFDOUMsTUFBSSxNQUFKLENBQVcsTUFBWCxDQUFrQjtBQUNqQixZQUFTLFdBRFE7QUFFakIsYUFBVSxrQkFBQyxRQUFELEVBQWM7QUFDdkIsUUFBSSxRQUFKLEVBQWM7QUFDYixRQUFHLEdBQUgsZ0JBQW9CLElBQXBCLEVBQTRCLElBQTVCLENBQWlDO0FBQ2hDLFlBQU07QUFEMEIsTUFBakMsRUFFRyxJQUZILENBRVEsVUFBQyxJQUFELEVBQVU7QUFDakIsYUFBTyxRQUFQLENBQWdCLE1BQWhCO0FBQ0EsTUFKRCxFQUlHLEtBSkgsQ0FJUyxVQUFDLEtBQUQsRUFBVztBQUNuQixjQUFRLEtBQVIsQ0FBYyxLQUFkO0FBQ0EsTUFORDtBQU9BO0FBQ0Q7QUFaZ0IsR0FBbEI7QUFjQSxFQWZEOztBQWlCQSxLQUFJLGlCQUFpQixTQUFTLGNBQVQsQ0FBd0IsaUJBQXhCLENBQXJCO0FBQ0EsZ0JBQWUsZ0JBQWYsQ0FBZ0MsT0FBaEMsRUFBeUMsVUFBQyxDQUFELEVBQU87QUFDL0MsTUFBSSxNQUFKLENBQVcsTUFBWCxDQUFrQjtBQUNqQixxQ0FEaUI7QUFFakIsYUFBVSxrQkFBQyxLQUFELEVBQVc7QUFDcEIsUUFBSSxLQUFKLEVBQVc7QUFDVixTQUFJLFVBQVUsbUJBQW1CLEtBQW5CLENBQWQ7QUFDQSxTQUFJLE1BQU0sT0FBTixDQUFjLEdBQWQsSUFBcUIsQ0FBQyxDQUF0QixJQUEyQixPQUEvQixFQUF3QztBQUN2QyxTQUFHLEdBQUgsaUJBQXFCLElBQXJCLFNBQTZCLE9BQTdCLEVBQXdDLEdBQXhDLENBQTRDO0FBQzNDLGNBQU8sSUFEb0M7QUFFM0MsY0FBTztBQUZvQyxPQUE1QyxFQUdHLElBSEgsQ0FHUSxVQUFDLElBQUQsRUFBVTtBQUNqQixXQUFJLE1BQUosQ0FBVyxLQUFYLGNBQTRCLEtBQTVCO0FBQ0EsT0FMRCxFQUtHLEtBTEgsQ0FLUyxVQUFDLEdBQUQsRUFBUztBQUNqQixXQUFJLE1BQUosQ0FBVyxLQUFYLENBQWlCLFlBQVksR0FBN0I7QUFDQSxPQVBEO0FBUUEsTUFURCxNQVNPO0FBQ04sVUFBSSxNQUFKLENBQVcsS0FBWCxDQUFpQixxQ0FBakI7QUFDQTtBQUNEO0FBQ0Q7QUFsQmdCLEdBQWxCO0FBb0JBLEVBckJEOztBQXVCQSxLQUFJLG9CQUFvQixTQUFTLGNBQVQsQ0FBd0Isb0JBQXhCLENBQXhCO0FBQ0EsbUJBQWtCLGdCQUFsQixDQUFtQyxPQUFuQyxFQUE0QyxVQUFDLENBQUQsRUFBTztBQUNsRCxNQUFJLE9BQU8saUJBQWlCLEVBQTVCO0FBQ0EsTUFBSSxNQUFNLEVBQVY7QUFDQSxPQUFLLElBQUksR0FBVCxJQUFnQixLQUFLLEdBQXJCLEVBQTBCO0FBQ3pCLE9BQUksSUFBSixDQUFTLEdBQVQ7QUFDQTtBQUNELE1BQUksTUFBSixDQUFXLE1BQVgsQ0FBa0I7QUFDakIsMEJBQXFCLElBQUksTUFBekIsbUJBRGlCO0FBRWpCLFVBQU8sSUFBSSxJQUFKLENBQVMsR0FBVCxDQUZVO0FBR2pCLGFBQVUsb0JBQU0sQ0FBRTtBQUhELEdBQWxCO0FBS0EsRUFYRDtBQWFBOztBQUVELFNBQVMsUUFBVCxDQUFrQixNQUFsQixFQUEwQjtBQUN6QixRQUFRLFdBQVcsU0FBWixHQUF5QixJQUF6QixHQUFnQyxNQUF2QztBQUNBO0FBQ0EsS0FBSSxhQUFhLFNBQVMsYUFBVCwyQkFBakI7QUFDQSxLQUFJLFVBQUosRUFBZ0I7QUFDZixhQUFXLFNBQVgsQ0FBcUIsTUFBckIsQ0FBNEIsV0FBNUI7QUFDQTtBQUNELEtBQUksU0FBUyxTQUFTLGFBQVQsb0JBQXdDLE1BQXhDLFFBQWI7QUFDQSxLQUFJLE1BQUosRUFBWTtBQUNYLFNBQU8sU0FBUCxDQUFpQixHQUFqQixDQUFxQixXQUFyQjtBQUNBO0FBQ0Q7QUFDQSxPQUFNLElBQU4sQ0FBVyxTQUFTLGdCQUFULHNCQUFYLEVBQTRELE9BQTVELENBQW9FLFVBQUMsSUFBRCxFQUFVO0FBQzdFLE9BQUssU0FBTCxDQUFlLEdBQWYsQ0FBbUIsV0FBbkI7QUFDQSxFQUZEO0FBR0EsS0FBSSxVQUFVLFNBQVMsYUFBVCx5QkFBNkMsTUFBN0MsUUFBZDtBQUNBLEtBQUksT0FBSixFQUFhO0FBQ1osVUFBUSxTQUFSLENBQWtCLE1BQWxCLENBQXlCLFdBQXpCO0FBQ0E7QUFDRDs7QUFFRCxTQUFTLGNBQVQsQ0FBd0IsS0FBeEIsRUFBK0I7QUFDOUIsUUFBTyxJQUFJLE9BQUosQ0FBWSxVQUFDLE9BQUQsRUFBVSxNQUFWLEVBQXFCO0FBQ3ZDLE1BQUksVUFBVSxtQkFBbUIsS0FBbkIsQ0FBZDtBQUNBLEtBQUcsR0FBSCx1QkFBMkIsSUFBM0IsU0FBbUMsT0FBbkMsRUFBOEMsSUFBOUMsQ0FBbUQsT0FBbkQsRUFBNEQsVUFBQyxJQUFELEVBQVU7QUFDckUsT0FBSSxPQUFPLEtBQUssR0FBTCxFQUFYO0FBQ0EsT0FBSSxJQUFKLEVBQVU7QUFDVCxZQUFRLEtBQUssTUFBYjtBQUNBLElBRkQsTUFFTztBQUNOLFlBQVEsS0FBUjtBQUNBO0FBQ0QsR0FQRCxFQU9HLEtBUEgsQ0FPUyxNQVBUO0FBUUEsRUFWTSxDQUFQO0FBV0E7O0FBRUQsU0FBUyxLQUFULEdBQWlCO0FBQ2hCLFFBQU8sSUFBSSxPQUFKLENBQVksVUFBQyxPQUFELEVBQVUsTUFBVixFQUFxQjtBQUN2QyxNQUFJLFdBQVcsSUFBSSxTQUFTLElBQVQsQ0FBYyxrQkFBbEIsRUFBZjtBQUNBLFdBQVMsSUFBVCxHQUFnQixrQkFBaEIsQ0FBbUMsUUFBbkMsRUFBNkMsSUFBN0MsQ0FBa0QsVUFBQyxJQUFELEVBQVU7QUFDM0QsT0FBSSxPQUFPLEtBQUssSUFBaEI7QUFDQSxXQUFRLEdBQVIsQ0FBWSxJQUFaO0FBQ0EsR0FIRCxFQUdHLEtBSEgsQ0FHUyxNQUhUO0FBSUEsRUFOTSxDQUFQO0FBT0E7O0FBRUQsSUFBSSxlQUFlLEtBQW5COztBQUVBLElBQUksU0FBUzs7QUFFWixNQUFLLGFBQU07QUFDVixVQUFRLEdBQVIsQ0FBWSxTQUFaO0FBQ0EsV0FBUyxTQUFUO0FBQ0EsRUFMVzs7QUFPWixhQUFZLG1CQUFNO0FBQ2pCLFVBQVEsR0FBUixDQUFZLFNBQVo7QUFDQSxXQUFTLFNBQVQ7QUFDQSxFQVZXOztBQWFaLGlCQUFnQix1QkFBTTtBQUNyQixVQUFRLEdBQVIsQ0FBWSxhQUFaO0FBQ0EsV0FBUyxhQUFUO0FBQ0EsRUFoQlc7O0FBa0JaLFlBQVcsa0JBQU07QUFDaEIsVUFBUSxHQUFSLENBQVksUUFBWjtBQUNBLFdBQVMsUUFBVDtBQUNBLEVBckJXOztBQXVCWixVQUFTLGdCQUFNO0FBQ2QsVUFBUSxHQUFSLENBQVksTUFBWjtBQUNBLFdBQVMsTUFBVDtBQUNBLEVBMUJXOztBQTRCWixrQkFBaUIsb0JBQUMsTUFBRCxFQUFZO0FBQzVCLFVBQVEsR0FBUixXQUFvQixNQUFwQjtBQUNBLGlCQUFlLE1BQWY7QUFDQSxNQUFJLFFBQUosRUFBYztBQUNiLFlBQVMsTUFBVDtBQUNBO0FBQ0QsV0FBUyxNQUFUO0FBQ0EsRUFuQ1c7O0FBcUNaLG9CQUFtQixzQkFBQyxNQUFELEVBQVk7QUFDOUIsVUFBUSxHQUFSLGFBQXNCLE1BQXRCO0FBQ0EsTUFBSSxRQUFKLEVBQWM7QUFDYixPQUFJLE1BQUosQ0FBVyxPQUFYLENBQW1CO0FBQ2xCLG1EQUE2QyxNQUE3QyxPQURrQjtBQUVsQixjQUFVLGtCQUFDLEdBQUQsRUFBUztBQUNsQixTQUFJLEdBQUosRUFBUztBQUNSLFNBQUcsR0FBSCxnQkFBb0IsSUFBcEIsU0FBNEIsTUFBNUIsRUFBc0MsTUFBdEM7QUFDQSxTQUFHLEdBQUgsbUJBQXVCLElBQXZCLFNBQStCLE1BQS9CLEVBQXlDLE1BQXpDO0FBQ0EsU0FBRyxHQUFILGlCQUFxQixJQUFyQixTQUE2QixNQUE3QixFQUF1QyxNQUF2QztBQUNBLFNBQUcsR0FBSCx1QkFBMkIsSUFBM0IsRUFBbUMsWUFBbkMsQ0FBZ0QsUUFBaEQsRUFBMEQsT0FBMUQsQ0FBa0UsTUFBbEUsRUFBMEUsSUFBMUUsQ0FBK0UsT0FBL0UsRUFBd0YsVUFBQyxJQUFELEVBQVU7QUFDakcsV0FBSSxRQUFRLEtBQUssR0FBTCxNQUFjLEVBQTFCO0FBQ0EsWUFBSyxJQUFJLEdBQVQsSUFBZ0IsS0FBaEIsRUFBdUI7QUFDdEIsV0FBRyxHQUFILHVCQUEyQixJQUEzQixTQUFtQyxHQUFuQyxFQUEwQyxNQUExQztBQUNBO0FBQ0QsT0FMRDtBQU1BO0FBQ0Q7QUFkaUIsSUFBbkI7QUFnQkEsR0FqQkQsTUFpQk87QUFDTixZQUFTLFNBQVQ7QUFDQTtBQUNELEVBM0RXOztBQTZEWixXQUFVLGlCQUFNO0FBQ2YsVUFBUSxHQUFSLENBQVksT0FBWjtBQUNBLFdBQVMsT0FBVDtBQUNBOztBQWhFVyxDQUFiOztBQW9FQSxJQUFJLFNBQVMsT0FBTyxNQUFQLENBQWI7QUFDQSxPQUFPLElBQVA7QUFDQSxTQUFTLFNBQVQ7O0FBRUEsTUFBTSxJQUFOLENBQVcsU0FBUyxnQkFBVCxDQUEwQixVQUExQixDQUFYLEVBQWtELE9BQWxELENBQTBELFVBQUMsR0FBRCxFQUFTO0FBQ2xFLEtBQUksZ0JBQUosQ0FBcUIsT0FBckIsRUFBOEIsVUFBQyxDQUFELEVBQU87QUFDcEMsV0FBUyxJQUFULEdBQWdCLE9BQWhCO0FBQ0EsZUFBYSxVQUFiLENBQXdCLG1CQUF4QjtBQUNBLEVBSEQ7QUFJQSxDQUxEOztBQU9BLElBQUksV0FBVyxFQUFmOztBQUVBLFNBQVMsV0FBVCxHQUF1QjtBQUN0QixRQUFPLFFBQVA7QUFDQTs7QUFFRCxTQUFTLFVBQVQsR0FBc0I7QUFDckIsUUFBTyxJQUFJLE9BQUosQ0FBWSxVQUFDLE9BQUQsRUFBVSxNQUFWLEVBQXFCO0FBQ3ZDLE1BQUksVUFBVSxtQkFBbUIsS0FBSyxLQUF4QixDQUFkO0FBQ0EsS0FBRyxHQUFILGlCQUFxQixJQUFyQixTQUE2QixPQUE3QixFQUF3QyxJQUF4QyxDQUE2QyxPQUE3QyxFQUFzRCxVQUFDLElBQUQsRUFBVTtBQUMvRCxPQUFJLE1BQU0sS0FBSyxHQUFMLEVBQVY7QUFDQSxPQUFJLEdBQUosRUFBUztBQUNSLGVBQVcsSUFBWDtBQUNBLGFBQVMsYUFBVCxDQUF1QixxQkFBdkIsRUFBOEMsU0FBOUMsQ0FBd0QsTUFBeEQsQ0FBK0QsV0FBL0Q7QUFDQSxZQUFRLElBQVI7QUFDQSxJQUpELE1BSU87QUFDTixZQUFRLEtBQVI7QUFDQTtBQUNELEdBVEQsRUFTRyxLQVRILENBU1MsT0FUVDtBQVVBLEVBWk0sQ0FBUDtBQWFBOztBQUVELFNBQVMsSUFBVCxHQUFnQjs7QUFFZixjQUFhLElBQWIsQ0FBa0IsWUFBTTtBQUN2QixhQUFXLElBQVgsRUFBaUIsVUFBQyxHQUFELEVBQVM7QUFDekIsWUFBUyxJQUFULEVBQWUsVUFBQyxRQUFELEVBQWM7QUFDNUIsUUFBSSxPQUFPLFlBQVksR0FBWixFQUFpQixRQUFqQixDQUFYO0FBQ0EsWUFBUSxHQUFSLENBQVksSUFBWjtBQUNBLGVBQVcsSUFBWDtBQUNBLGdCQUFZLEtBQUssSUFBakIsRUFBdUIsS0FBSyxHQUE1QjtBQUNBLG9CQUFnQixLQUFLLElBQXJCLEVBQTJCLEtBQUssR0FBaEM7QUFDQTtBQUNBLFFBQUksQ0FBQyxRQUFMLEVBQWU7QUFDZCxvQkFBZSxLQUFLLEtBQXBCLEVBQTJCLElBQTNCLENBQWdDLFVBQUMsTUFBRCxFQUFZO0FBQzNDLGVBQVMsTUFBVCxFQUFpQixJQUFqQjtBQUNBLE1BRkQ7QUFHQTtBQUNELFFBQUksWUFBSixFQUFrQjtBQUNqQixjQUFTLFlBQVQ7QUFDQTtBQUNELGFBQVMsSUFBVDtBQUNBLElBaEJEO0FBaUJBLEdBbEJEO0FBbUJBLEVBcEJEOztBQXNCQSxJQUFHLEdBQUgsZ0JBQW9CLElBQXBCLFlBQWlDLEVBQWpDLENBQW9DLE9BQXBDLEVBQTZDLFVBQUMsSUFBRCxFQUFVO0FBQ3RELE1BQUksS0FBSyxLQUFLLEdBQUwsRUFBVDtBQUNBLFdBQVMsY0FBVCxDQUF3QixVQUF4QixFQUFvQyxTQUFwQyxpQkFBNEQsT0FBTyxFQUFQLEVBQVcsTUFBWCxDQUFrQixVQUFsQixDQUE1RDtBQUNBLEVBSEQ7QUFLQTs7QUFFRCxTQUFTLElBQVQsR0FBZ0I7O0FBRWYsS0FBSSxJQUFKLEVBQVU7QUFDVCxlQUFhLE9BQWIsQ0FBcUIsbUJBQXJCLEVBQTBDLElBQTFDO0FBQ0EsV0FBUyxJQUFULEdBQWdCLGtCQUFoQixDQUFtQyxVQUFTLElBQVQsRUFBZTtBQUNqRCxPQUFJLElBQUosRUFBVTtBQUNULGNBQVUsS0FBSyxHQUFmO0FBQ0EsV0FBTyxJQUFQO0FBQ0EsT0FBRyxHQUFILGlCQUFxQixJQUFyQixFQUE2QixJQUE3QixDQUFrQyxPQUFsQyxFQUEyQyxVQUFDLElBQUQsRUFBVTtBQUNwRCxTQUFJLE1BQU0sS0FBSyxHQUFMLEVBQVY7QUFDQSxTQUFJLEdBQUosRUFBUztBQUNSO0FBQ0EsTUFGRCxNQUVPO0FBQ04sVUFBSSxNQUFKLENBQVcsT0FBWCxDQUFtQjtBQUNsQixvRUFBMkQsSUFBM0QsT0FEa0I7QUFFbEIsaUJBQVUsa0JBQUMsR0FBRCxFQUFTO0FBQ2xCLFlBQUksR0FBSixFQUFTO0FBQ1IsYUFBSSxVQUFVLG1CQUFtQixLQUFLLEtBQXhCLENBQWQ7QUFDQSxZQUFHLEdBQUgsaUJBQXFCLElBQXJCLFNBQTZCLE9BQTdCLEVBQXdDLEdBQXhDLENBQTRDO0FBQzNDLGlCQUFPLElBRG9DO0FBRTNDLGlCQUFPLEtBQUs7QUFGK0IsVUFBNUMsRUFHRyxJQUhILENBR1EsVUFBQyxJQUFELEVBQVU7QUFDakIsaUJBQU8sUUFBUCxDQUFnQixNQUFoQjtBQUNBLFVBTEQsRUFLRyxLQUxILENBS1MsUUFBUSxLQUxqQjtBQU1BLFNBUkQsTUFRTztBQUNOLHNCQUFhLFVBQWIsQ0FBd0IsbUJBQXhCO0FBQ0E7QUFDRDtBQWRpQixPQUFuQjtBQWdCQTtBQUNELEtBdEJEO0FBdUJBLElBMUJELE1BMEJPO0FBQ047QUFDQTtBQUNELEdBOUJEO0FBK0JBLEVBakNELE1BaUNPO0FBQ04sTUFBSSxNQUFKLENBQVcsS0FBWCxDQUFpQixvREFBakI7QUFDQTtBQUVEOzs7Ozs7OztBQ3hyQkQ7QUFDQSxPQUFPLFNBQVAsQ0FBaUIsV0FBakIsR0FBK0IsVUFBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsRUFBaUI7QUFDL0MsS0FBSSxJQUFJLElBQVI7QUFBQSxLQUNBLElBQUksTUFBTSxJQUFJLEtBQUssR0FBTCxDQUFTLENBQVQsQ0FBVixJQUF5QixDQUF6QixHQUE2QixDQURqQztBQUFBLEtBRUEsSUFBSSxLQUFLLFNBQUwsR0FBaUIsR0FBakIsR0FBdUIsQ0FGM0I7QUFBQSxLQUdBLElBQUksS0FBSyxTQUFMLEdBQWlCLEdBQWpCLEdBQXVCLENBSDNCO0FBQUEsS0FJQSxJQUFJLElBQUksQ0FBSixHQUFRLEdBQVIsR0FBYyxFQUpsQjtBQUFBLEtBS0EsSUFBSSxPQUFPLFNBQVMsSUFBSSxLQUFLLEdBQUwsQ0FBUyxPQUFPLENBQVAsS0FBYSxDQUF0QixFQUF5QixPQUF6QixDQUFpQyxDQUFqQyxDQUFiLENBQVAsQ0FMSjtBQUFBLEtBTUEsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFQLElBQWlCLENBQWpCLEdBQXFCLElBQUksQ0FBekIsR0FBNkIsQ0FOakM7QUFPQSxRQUFPLEtBQUssSUFBSSxFQUFFLE1BQUYsQ0FBUyxDQUFULEVBQVksQ0FBWixJQUFpQixDQUFyQixHQUF5QixFQUE5QixJQUFvQyxFQUFFLE1BQUYsQ0FBUyxDQUFULEVBQVksT0FBWixDQUFvQixnQkFBcEIsRUFBc0MsT0FBTyxDQUE3QyxDQUFwQyxJQUF1RixJQUFJLElBQUksS0FBSyxHQUFMLENBQVMsSUFBSSxDQUFiLEVBQWdCLE9BQWhCLENBQXdCLENBQXhCLEVBQTJCLEtBQTNCLENBQWlDLENBQWpDLENBQVIsR0FBOEMsRUFBckksQ0FBUDtBQUNBLENBVEQ7O0FBV0EsSUFBSSxRQUFRLFNBQVIsS0FBUSxHQUFNOztBQUVqQixLQUFJLFFBQVE7O0FBRVgsa0JBQWdCLHdCQUFDLEtBQUQsRUFBVztBQUMxQixPQUFJLFNBQUo7QUFDQSxPQUFJLE1BQU0sSUFBTixDQUFXLE1BQVgsR0FBb0IsQ0FBeEIsRUFBMkI7QUFDMUIsUUFBSSxTQUFTLE1BQU0sSUFBTixDQUFXLENBQVgsRUFBYyxLQUFkLENBQW9CLE9BQWpDO0FBQ0E7QUFZQSxVQUFNLElBQU4sQ0FBVyxPQUFYLENBQW1CLFVBQUMsSUFBRCxFQUFVO0FBQzVCLFNBQUksV0FBVyxLQUFLLEtBQUwsQ0FBVyxPQUFYLEdBQXFCLE1BQXBDO0FBQ0EsU0FBSSxPQUFRLE9BQU8sUUFBUixHQUFvQixJQUEvQjtBQUNBLFNBQUksb0RBQWtELEtBQUssT0FBTCxDQUFhLENBQWIsQ0FBbEQsTUFBSjtBQUNBLFNBQUksV0FBVyxFQUFmO0FBQ0EsU0FBSSxLQUFLLElBQUwsS0FBYyxDQUFsQixFQUFxQjtBQUNwQjtBQUtBO0FBQ0Qsa0VBRWUsS0FBSyxJQUZwQixlQUVrQyxRQUZsQyxtQ0FHUyxLQUFLLElBQUwsQ0FBVSxJQUhuQiwyQ0FJZ0IsUUFKaEIsWUFJOEIsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixXQUFuQixDQUErQixDQUEvQixDQUo5QixtQ0FLUyxLQUFLLEtBQUwsQ0FBVyxLQUxwQjtBQVFBLEtBcEJEO0FBcUJBO0FBSUEsSUF2Q0QsTUF1Q087QUFDTjtBQUdBO0FBQ0QsT0FBSSxNQUFNLFNBQVMsYUFBVCxDQUF1QixLQUF2QixDQUFWO0FBQ0MsT0FBSSxTQUFKLEdBQWdCLElBQWhCO0FBQ0EsT0FBSSxTQUFKLENBQWMsR0FBZCxDQUFrQixjQUFsQjtBQUNELFVBQU8sR0FBUDtBQUNBLEdBcERVOztBQXNEWCxtQkFBaUIseUJBQUMsS0FBRCxFQUFXO0FBQzNCLE9BQUksU0FBSjtBQUNBLE9BQUksT0FBTyxPQUFPLElBQVAsQ0FBWSxNQUFNLE9BQWxCLEVBQTJCLEdBQTNCLENBQStCLFVBQUMsSUFBRDtBQUFBLFdBQVUsTUFBTSxPQUFOLENBQWMsSUFBZCxDQUFWO0FBQUEsSUFBL0IsRUFBOEQsSUFBOUQsQ0FBbUUsVUFBQyxDQUFELEVBQUksQ0FBSixFQUFVO0FBQ3ZGLFdBQU8sRUFBRSxTQUFGLEdBQWMsRUFBRSxTQUF2QjtBQUNBLElBRlUsQ0FBWDtBQUdBLE9BQUksS0FBSyxNQUFMLEdBQWMsQ0FBbEIsRUFBcUI7QUFDcEIsU0FBSyxPQUFMLENBQWEsVUFBQyxJQUFELEVBQVU7QUFDdEIsMkpBRzBDLE9BQU8sS0FBSyxTQUFaLEVBQXVCLE1BQXZCLENBQThCLFVBQTlCLENBSDFDLDJaQWdCYSxLQUFLLElBQUwsQ0FBVSxXQUFWLENBQXNCLENBQXRCLENBaEJiLHNJQW9CYSxLQUFLLE1BQUwsQ0FBWSxXQUFaLENBQXdCLENBQXhCLENBcEJiLHdJQXdCYSxLQUFLLFFBQUwsQ0FBYyxXQUFkLENBQTBCLENBQTFCLENBeEJiLDBJQTRCYSxLQUFLLFVBQUwsQ0FBZ0IsV0FBaEIsQ0FBNEIsQ0FBNUIsQ0E1QmI7QUF3Q0EsS0F6Q0Q7QUEwQ0EsSUEzQ0QsTUEyQ087QUFDTjtBQU1BO0FBQ0QsT0FBSSxNQUFNLFNBQVMsYUFBVCxDQUF1QixLQUF2QixDQUFWO0FBQ0MsT0FBSSxTQUFKLEdBQWdCLElBQWhCO0FBQ0QsVUFBTyxHQUFQO0FBQ0EsR0FqSFU7O0FBbUhYLGlCQUFlLHVCQUFDLEtBQUQsRUFBVztBQUN6QixPQUFJLFNBQUo7QUFDQSxPQUFJLE9BQU8sT0FBTyxJQUFQLENBQVksTUFBTSxLQUFsQixFQUF5QixHQUF6QixDQUE2QixVQUFDLElBQUQ7QUFBQSxXQUFVLE1BQU0sS0FBTixDQUFZLElBQVosQ0FBVjtBQUFBLElBQTdCLEVBQTBELElBQTFELENBQStELFVBQUMsQ0FBRCxFQUFJLENBQUosRUFBVTtBQUNuRixXQUFPLEVBQUUsU0FBRixHQUFjLEVBQUUsU0FBdkI7QUFDQSxJQUZVLENBQVg7QUFHQSxPQUFJLEtBQUssTUFBTCxHQUFjLENBQWxCLEVBQXFCO0FBQ3BCLFNBQUssT0FBTCxDQUFhLFVBQUMsSUFBRCxFQUFVO0FBQ3RCLDJKQUcwQyxPQUFPLEtBQUssU0FBWixFQUF1QixNQUF2QixDQUE4QixVQUE5QixDQUgxQztBQWVBLFVBQUssSUFBSSxHQUFULElBQWdCLElBQWhCLEVBQXNCO0FBQ3JCLFVBQUksUUFBUSxXQUFaLEVBQXlCO0FBQ3hCLCtFQUVlLEdBRmYseUNBR1UsTUFBTSxTQUFOLENBQWdCLEdBQWhCLENBSFY7QUFNQTtBQUNEO0FBQ0Q7QUFXQSxLQXJDRDtBQXNDQSxJQXZDRCxNQXVDTztBQUNOO0FBTUE7QUFDRCxPQUFJLE1BQU0sU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVY7QUFDQyxPQUFJLFNBQUosR0FBZ0IsSUFBaEI7QUFDRCxVQUFPLEdBQVA7QUFDQSxHQTFLVTs7QUE0S1gscUJBQW1CLDJCQUFDLEtBQUQsRUFBVztBQUM3QixPQUFJLFNBQUo7QUFDQSxPQUFJLE1BQU0sSUFBTixDQUFXLE1BQVgsR0FBb0IsQ0FBeEIsRUFBMkI7QUFDMUIsUUFBSSxTQUFTLE1BQU0sSUFBTixDQUFXLENBQVgsRUFBYyxLQUFkLENBQW9CLE9BQWpDO0FBQ0E7QUFjQSxVQUFNLElBQU4sQ0FBVyxPQUFYLENBQW1CLFVBQUMsSUFBRCxFQUFVO0FBQzVCLFNBQUksV0FBVyxLQUFLLEtBQUwsQ0FBVyxPQUFYLEdBQXFCLE1BQXBDO0FBQ0EsU0FBSSxPQUFRLE9BQU8sUUFBUixHQUFvQixJQUEvQjtBQUNBLFNBQUksb0RBQWtELEtBQUssT0FBTCxDQUFhLENBQWIsQ0FBbEQsTUFBSjtBQUNBLFNBQUksV0FBVyxFQUFmO0FBQ0EsU0FBSSxLQUFLLElBQUwsS0FBYyxDQUFsQixFQUFxQjtBQUNwQjtBQUtBO0FBQ0Qsa0VBRWUsS0FBSyxJQUZwQixlQUVrQyxRQUZsQyxtQ0FHUyxLQUFLLElBQUwsQ0FBVSxJQUhuQiwyQ0FJZ0IsUUFKaEIsWUFJOEIsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixXQUFuQixDQUErQixDQUEvQixDQUo5QixtQ0FLUyxLQUFLLEtBQUwsQ0FBVyxLQUxwQixzREFNMkIsS0FBSyxJQUFMLENBQVUsTUFOckMsZ0hBTzZCLEtBQUssSUFBTCxDQUFVLE1BUHZDO0FBVUEsS0F0QkQ7QUF1QkE7QUFJQSxJQTNDRCxNQTJDTztBQUNOO0FBR0E7QUFDRCxPQUFJLE1BQU0sU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVY7QUFDQyxPQUFJLFNBQUosR0FBZ0IsSUFBaEI7QUFDQSxPQUFJLFNBQUosQ0FBYyxHQUFkLENBQWtCLGNBQWxCO0FBQ0QsVUFBTyxHQUFQO0FBQ0EsR0FsT1U7O0FBb09YLHFCQUFtQiw2QkFBTTtBQUN4QixPQUFJLCsvQ0FBSjtBQXFDQSxPQUFJLE1BQU0sU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVY7QUFDQyxPQUFJLFNBQUosR0FBZ0IsSUFBaEI7QUFDRCxVQUFPLEdBQVA7QUFDQTs7QUE3UVUsRUFBWjs7QUFpUkEsUUFBTyxLQUFQO0FBRUEsQ0FyUkQ7O1FBdVJRLEssR0FBQSxLIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNvbnN0IENPTU1VTklUWV9BUkVBUyA9IHtcblx0XCIxXCI6IFwiUm9nZXJzIFBhcmtcIixcblx0XCIyXCI6IFwiV2VzdCBSaWRnZVwiLFxuXHRcIjNcIjogXCJVcHRvd25cIixcblx0XCI0XCI6IFwiTGluY29sbiBTcXVhcmVcIixcblx0XCI1XCI6IFwiTm9ydGggQ2VudGVyXCIsXG5cdFwiNlwiOiBcIkxha2UgVmlld1wiLFxuXHRcIjdcIjogXCJMaW5jb2xuIFBhcmtcIixcblx0XCI4XCI6IFwiTmVhciBOb3J0aCBTaWRlXCIsXG5cdFwiOVwiOiBcIkVkaXNvbiBQYXJrXCIsXG5cdFwiMTBcIjogXCJOb3J3b29kIFBhcmtcIixcblx0XCIxMVwiOiBcIkplZmZlcnNvbiBQYXJrXCIsXG5cdFwiMTJcIjogXCJGb3Jlc3QgR2xlblwiLFxuXHRcIjEzXCI6IFwiTm9ydGggUGFya1wiLFxuXHRcIjE0XCI6IFwiQWxiYW55IFBhcmtcIixcblx0XCIxNVwiOiBcIlBvcnRhZ2UgUGFya1wiLFxuXHRcIjE2XCI6IFwiSXJ2aW5nIFBhcmtcIixcblx0XCIxN1wiOiBcIkR1bm5pbmdcIixcblx0XCIxOFwiOiBcIk1vbnRjbGFyZVwiLFxuXHRcIjE5XCI6IFwiQmVsbW9udCBDcmFnaW5cIixcblx0XCIyMFwiOiBcIkhlcm1vc2FcIixcblx0XCIyMVwiOiBcIkF2b25kYWxlXCIsXG5cdFwiMjJcIjogXCJMb2dhbiBTcXVhcmVcIixcblx0XCIyM1wiOiBcIkh1bWJvbGR0IFBhcmtcIixcblx0XCIyNFwiOiBcIldlc3QgVG93blwiLFxuXHRcIjI1XCI6IFwiQXVzdGluXCIsXG5cdFwiMjZcIjogXCJXZXN0IEdhcmZpZWxkIFBhcmtcIixcblx0XCIyN1wiOiBcIkVhc3QgR2FyZmllbGQgUGFya1wiLFxuXHRcIjI4XCI6IFwiTmVhciBXZXN0IFNpZGVcIixcblx0XCIyOVwiOiBcIk5vcnRoIExhd25kYWxlXCIsXG5cdFwiMzBcIjogXCJTb3V0aCBMYXduZGFsZVwiLFxuXHRcIjMxXCI6IFwiTG93ZXIgV2VzdCBTaWRlXCIsXG5cdFwiMzJcIjogXCJMb29wXCIsXG5cdFwiMzNcIjogXCJOZWFyIFNvdXRoIFNpZGVcIixcblx0XCIzNFwiOiBcIkFybW91ciBTcXVhcmVcIixcblx0XCIzNVwiOiBcIkRvdWdsYXNcIixcblx0XCIzNlwiOiBcIk9ha2xhbmRcIixcblx0XCIzN1wiOiBcIkZ1bGxlciBQYXJrXCIsXG5cdFwiMzhcIjogXCJHcmFuZCBCb3VsZXZhcmRcIixcblx0XCIzOVwiOiBcIktlbndvb2RcIixcblx0XCI0MFwiOiBcIldhc2hpbmd0b24gUGFya1wiLFxuXHRcIjQxXCI6IFwiSHlkZSBQYXJrXCIsXG5cdFwiNDJcIjogXCJXb29kbGF3blwiLFxuXHRcIjQzXCI6IFwiU291dGggU2hvcmVcIixcblx0XCI0NFwiOiBcIkNoYXRoYW1cIixcblx0XCI0NVwiOiBcIkF2YWxvbiBQYXJrXCIsXG5cdFwiNDZcIjogXCJTb3V0aCBDaGljYWdvXCIsXG5cdFwiNDdcIjogXCJCdXJuc2lkZVwiLFxuXHRcIjQ4XCI6IFwiQ2FsdW1ldCBIZWlnaHRzXCIsXG5cdFwiNDlcIjogXCJSb3NlbGFuZFwiLFxuXHRcIjUwXCI6IFwiUHVsbG1hblwiLFxuXHRcIjUxXCI6IFwiU291dGggRGVlcmluZ1wiLFxuXHRcIjUyXCI6IFwiRWFzdCBTaWRlXCIsXG5cdFwiNTNcIjogXCJXZXN0IFB1bGxtYW5cIixcblx0XCI1NFwiOiBcIlJpdmVyZGFsZVwiLFxuXHRcIjU1XCI6IFwiSGVnZXdpc2NoXCIsXG5cdFwiNTZcIjogXCJHYXJmaWVsZCBSaWRnZVwiLFxuXHRcIjU3XCI6IFwiQXJjaGVyIEhlaWdodHNcIixcblx0XCI1OFwiOiBcIkJyaWdodG9uIFBhcmtcIixcblx0XCI1OVwiOiBcIk1ja2lubGV5IFBhcmtcIixcblx0XCI2MFwiOiBcIkJyaWRnZXBvcnRcIixcblx0XCI2MVwiOiBcIk5ldyBDaXR5XCIsXG5cdFwiNjJcIjogXCJXZXN0IEVsZHNvblwiLFxuXHRcIjYzXCI6IFwiR2FnZSBQYXJrXCIsXG5cdFwiNjRcIjogXCJDbGVhcmluZ1wiLFxuXHRcIjY1XCI6IFwiV2VzdCBMYXduXCIsXG5cdFwiNjdcIjogXCJXZXN0IEVuZ2xld29vZFwiLFxuXHRcIjY4XCI6IFwiRW5nbGV3b29kXCIsXG5cdFwiNjlcIjogXCJHcmVhdGVyIEdyYW5kIENyb3NzaW5nXCIsXG5cdFwiNzBcIjogXCJBc2hidXJuXCIsXG5cdFwiNzFcIjogXCJBdWJ1cm4gR3Jlc2hhbVwiLFxuXHRcIjcyXCI6IFwiQmV2ZXJseVwiLFxuXHRcIjczXCI6IFwiV2FzaGluZ3RvbiBIZWlnaHRzXCIsXG5cdFwiNzRcIjogXCJNb3VudCBHcmVlbndvb2RcIixcblx0XCI3NVwiOiBcIk1vcmdhbiBQYXJrXCIsXG5cdFwiNzZcIjogXCJPJ0hhcmVcIixcblx0XCI3N1wiOiBcIkVkZ2V3YXRlclwiLFxufTtcblxuZXhwb3J0IHtDT01NVU5JVFlfQVJFQVN9OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGFwaUtleTogXCJBSXphU3lDR1dFcHZ1eTRzUFIzbjV4endmQVRMenlNRHZ3RTZ0T1lcIixcbiAgICBhdXRoRG9tYWluOiBcImlsbGlub2lzLXRlY2gtYWNtLmZpcmViYXNlYXBwLmNvbVwiLFxuICAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vaWxsaW5vaXMtdGVjaC1hY20uZmlyZWJhc2Vpby5jb21cIixcbiAgICBwcm9qZWN0SWQ6IFwiaWxsaW5vaXMtdGVjaC1hY21cIixcbiAgICBzdG9yYWdlQnVja2V0OiBcImlsbGlub2lzLXRlY2gtYWNtLmFwcHNwb3QuY29tXCIsXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMzQ0NTMzNzM0MzEwXCJcbn0iLCJsZXQgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcblxuaW1wb3J0IHtWaWV3c30gZnJvbSAnLi92aWV3cyc7XG5sZXQgdmlld3MgPSBWaWV3cygpO1xuXG5pbXBvcnQge0NPTU1VTklUWV9BUkVBU30gZnJvbSAnLi9jb21tdW5pdHlhcmVhcyc7XG5cbmxldCBGaXJlYmFzZUFwcCA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcbmxldCBkYiA9IEZpcmViYXNlQXBwLmRhdGFiYXNlKCk7XG5cbmxldCBHQU1FID0gZmFsc2U7XG5HQU1FID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjbV9seWZ0X2dhbWVfa2V5Jyk7XG5pZiAoIUdBTUUpIHtcblx0R0FNRSA9IHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRtZXNzYWdlOiBcIkVudGVyIHlvdXIgZ2FtZSBrZXk6XCIsXG5cdFx0Y2FsbGJhY2s6IChnYW1la2V5KSA9PiB7XG5cdFx0XHRHQU1FID0gZ2FtZWtleTtcblx0XHRcdGluaXQoKTtcblx0XHR9XG5cdH0pO1xufSBlbHNlIHtcblx0aW5pdCgpO1xufVxuXG5sZXQgUEFHRSA9ICcnO1xubGV0IFVTRVJfSUQgPSBmYWxzZTtcbmxldCBVU0VSID0ge307XG5sZXQgSVNfQURNSU4gPSBmYWxzZTtcblxuY29uc3QgUElOSyA9IGAjRUEzOEI5YDtcbmNvbnN0IFBVUlBMRSA9IGAjNDIyRTZFYDtcblxuY29uc3QgQUxQSEFCRVQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLnRvVXBwZXJDYXNlKCkuc3BsaXQoJycpO1xuY29uc3QgQ09MT1JTID0gYCNlNjE5NGItIzNjYjQ0Yi0jZmZlMTE5LSMwMDgyYzgtI2Y1ODIzMS0jOTExZWI0LSM0NmYwZjAtI2YwMzJlNi0jZDJmNTNjLSNmYWJlYmUtIzAwODA4MC0jZTZiZWZmLSNhYTZlMjgtI2ZmZmFjOC0jODAwMDAwLSNhYWZmYzMtIzgwODAwMC0jZmZkOGIxLSMwMDAwODAtIzgwODA4MC0jMDAwMDAwYC5zcGxpdChgLWApLm1hcCgoaGV4KSA9PiBgJHtoZXh9YCkucmV2ZXJzZSgpO1xuXG5mdW5jdGlvbiBnZXRRdWVyeVBhcmFtcyhxcykge1xuXHRxcyA9IHFzLnNwbGl0KCcrJykuam9pbignICcpO1xuXHR2YXIgcGFyYW1zID0ge30sXG5cdFx0dG9rZW5zLFxuXHRcdHJlID0gL1s/Jl0/KFtePV0rKT0oW14mXSopL2c7XG5cdHdoaWxlICh0b2tlbnMgPSByZS5leGVjKHFzKSkge1xuXHRcdHBhcmFtc1tkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzFdKV0gPSBkZWNvZGVVUklDb21wb25lbnQodG9rZW5zWzJdKTtcblx0fVxuXHRyZXR1cm4gcGFyYW1zO1xufVxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTgwMzU0MC9ob3ctdG8tcmVtb3ZlLXNwZWNpYWwtY2hhcmFjdGVycy1mcm9tLWEtc3RyaW5nLXVzaW5nLWphdmFzY3JpcHRcbmZ1bmN0aW9uIHJlbW92ZVNwZWNpYWxDaGFycyhzdHIpIHtcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC8oPyFcXHd8XFxzKS4vZywgJycpXG5cdFx0LnJlcGxhY2UoL1xccysvZywgJyAnKVxuXHRcdC5yZXBsYWNlKC9eKFxccyopKFtcXFdcXHddKikoXFxiXFxzKiQpL2csICckMicpO1xufVxuXG5mdW5jdGlvbiBmaWxsU3BhbnMocXVlcnlTdHIsIHRleHQpIHtcblx0QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5U3RyKSkuZm9yRWFjaCgoZGl2KSA9PiB7XG5cdFx0ZGl2LmlubmVyVGV4dCA9IHRleHQ7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXRSZXN1bHRzKGdhbWVpZCwgY2FsbGJhY2spIHtcblx0ZGIucmVmKGBseWZ0L3Jlc3VsdHMvJHtnYW1laWR9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdGNhbGxiYWNrKHZhbCk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXRUZWFtcyhnYW1laWQsIGNhbGxiYWNrKSB7XG5cdGRiLnJlZihgbHlmdC9pbmZvLyR7Z2FtZWlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRsZXQgdmFsID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRjYWxsYmFjayh2YWwpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0VGVhbURhdGEocmVzLCBpbmZvKSB7XG5cdGxldCBpbk1hcCA9IHJlcyB8fCB7fTtcblx0bGV0IHNpbXMgPSBPYmplY3Qua2V5cyhpbk1hcCkubWFwKChrZXkpID0+IHJlc1trZXldKS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0cmV0dXJuIGEuc3RhcnQgLSBiLnN0YXJ0O1xuXHR9KTtcblx0bGV0IHRpbWUgPSBbXTtcblx0bGV0IG1hcCA9IHt9O1xuXHRpZiAoc2ltcy5sZW5ndGggPiAwKSB7XG5cdFx0bGV0IGZpcnN0ID0gc2ltc1swXTtcblx0XHRsZXQgY291bnRlciA9IDA7XG5cdFx0Zm9yIChsZXQgdGVhbWlkIGluIGZpcnN0LmRhdGEpIHtcblx0XHRcdGlmICghKHRlYW1pZCBpbiBtYXApKSB7XG5cdFx0XHRcdG1hcFt0ZWFtaWRdID0ge1xuXHRcdFx0XHRcdGluZm86IHtcblx0XHRcdFx0XHRcdHRlYW1pZDogdGVhbWlkLFxuXHRcdFx0XHRcdFx0bmFtZTogYFVudGl0bGVkIFRlYW0gJHtBTFBIQUJFVFtjb3VudGVyXX0gKCR7dGVhbWlkfSlgXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRyZXZlbnVlOiBbXSxcblx0XHRcdFx0XHR0cmlwczogW10sXG5cdFx0XHRcdFx0em9uZXM6IFtdXG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHRlYW1pZCBpbiBpbmZvKSB7XG5cdFx0XHRcdFx0bWFwW3RlYW1pZF0uaW5mbyA9IGluZm9bdGVhbWlkXTtcblx0XHRcdFx0XHRtYXBbdGVhbWlkXS5pbmZvLnRlYW1pZCA9IHRlYW1pZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Y291bnRlcisrO1xuXHRcdH1cblx0XHRzaW1zLmZvckVhY2goKHNpbSkgPT4ge1xuXHRcdFx0dGltZS5wdXNoKHNpbS5zdGFydCk7XG5cdFx0XHRmb3IgKGxldCB0ZWFtaWQgaW4gc2ltLmRhdGEpIHtcblx0XHRcdFx0aWYgKHRlYW1pZCBpbiBtYXApIHtcblx0XHRcdFx0XHRsZXQgc3RlcCA9IHNpbS5kYXRhW3RlYW1pZF07XG5cdFx0XHRcdFx0bWFwW3RlYW1pZF0udHJpcHMucHVzaChzdGVwLnRyaXBzKTtcblx0XHRcdFx0XHRsZXQgaW5SZXYgPSBzdGVwLnJldmVudWU7XG5cdFx0XHRcdFx0bGV0IHJldiA9IHtcblx0XHRcdFx0XHRcdGx5ZnQ6IHBhcnNlRmxvYXQoaW5SZXYubHlmdCksXG5cdFx0XHRcdFx0XHR0YXhpOiBwYXJzZUZsb2F0KGluUmV2LnRheGkpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1hcFt0ZWFtaWRdLnJldmVudWUucHVzaChyZXYpO1xuXHRcdFx0XHRcdGxldCB6b25lTWFwID0gc3RlcC56b25lcyB8fCB7fTtcblx0XHRcdFx0XHRmb3IgKGxldCB6aWQgaW4gem9uZU1hcCkge1xuXHRcdFx0XHRcdFx0bGV0IHpjID0gcGFyc2VGbG9hdCh6b25lTWFwW3ppZF0uY29zdCArICcnKTtcblx0XHRcdFx0XHRcdHpvbmVNYXBbemlkXS5jb3N0ID0gemM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1hcFt0ZWFtaWRdLnpvbmVzLnB1c2goem9uZU1hcCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRmb3IgKGxldCB0ZWFtaWQgaW4gaW5mbykge1xuXHRcdGlmICghKHRlYW1pZCBpbiBtYXApKSB7XG5cdFx0XHRsZXQgdGVhbUluZm8gPSBpbmZvW3RlYW1pZF07XG5cdFx0XHRcdHRlYW1JbmZvLnRlYW1pZCA9IHRlYW1pZDtcblx0XHRcdG1hcFt0ZWFtaWRdID0ge1xuXHRcdFx0XHRpbmZvOiB0ZWFtSW5mbyxcblx0XHRcdFx0cmV2ZW51ZTogW10sXG5cdFx0XHRcdHRyaXBzOiBbXVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHRpbWU6IHRpbWUsXG5cdFx0bWFwOiBtYXBcblx0fTtcbn1cblxuZnVuY3Rpb24gZ2V0VGVhbVNjb3JlKGRhdGEpIHtcblx0bGV0IHRvdGFsUmV2ID0gZGF0YS5yZXZlbnVlLnJlZHVjZSgoc3VtLCB2YWwpID0+IHtcblx0XHRyZXR1cm4gc3VtICsgdmFsLmx5ZnQ7XG5cdH0sIDApO1xuXHRsZXQgdG90YWxUcmlwcyA9IGRhdGEudHJpcHMucmVkdWNlKChzdW0sIHZhbCkgPT4ge1xuXHRcdHJldHVybiBzdW0gKyB2YWwubHlmdDtcblx0fSwgMCk7XG5cdHJldHVybiB7XG5cdFx0cmV2ZW51ZTogdG90YWxSZXYsXG5cdFx0dHJpcHM6IHRvdGFsVHJpcHNcblx0fVxufVxuXG5mdW5jdGlvbiBtYWluUmVzdWx0cyh0aW1lLCBtYXApIHtcblx0bGV0IGRhdGFzZXRzID0gW107XG5cdGxldCBpID0gMDtcblx0Zm9yIChsZXQgdGVhbWlkIGluIG1hcCkge1xuXHRcdGxldCBsaW5lID0gW107XG5cdFx0bGV0IHRvdGFsID0gMDtcblx0XHRtYXBbdGVhbWlkXS5yZXZlbnVlLmZvckVhY2goKHN0ZXAsIGlkeCkgPT4ge1xuXHRcdFx0dG90YWwgKz0gc3RlcC5seWZ0O1xuXHRcdFx0bGluZS5wdXNoKHtcblx0XHRcdFx0eDogdGltZVtpZHhdLFxuXHRcdFx0XHR5OiB0b3RhbFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0ZGF0YXNldHMucHVzaCh7XG5cdFx0XHRsYWJlbDogbWFwW3RlYW1pZF0uaW5mby5uYW1lLFxuXHRcdFx0Ym9yZGVyQ29sb3I6IENPTE9SU1tpXSxcblx0XHRcdGZpbGw6IGZhbHNlLFxuXHRcdFx0Y3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ21vbm90b25lJyxcblx0XHRcdGRhdGE6IGxpbmVcblx0XHR9KTtcblx0XHRpKys7XG5cdH1cblx0bGV0IGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbG90MScpLmdldENvbnRleHQoJzJkJyk7XG5cdGxldCBjaGFydCA9IG5ldyBDaGFydChjdHgsIHtcblx0XHR0eXBlOiBgbGluZWAsXG5cdFx0ZGF0YToge1xuXHRcdFx0ZGF0YXNldHM6IGRhdGFzZXRzXG5cdFx0fSxcblx0XHRvcHRpb25zOiB7XG5cdFx0XHRyZXNwb25zaXZlOiBmYWxzZSxcblx0XHRcdG1haW50YWluQXNwZWN0UmF0aW86IHRydWUsXG5cdFx0XHRsZWdlbmQ6IHtcblx0XHRcdFx0cG9zaXRpb246IGByaWdodGAsXG5cdFx0XHR9LFxuXHRcdFx0dGl0bGU6IHtcblx0XHRcdFx0ZGlzcGxheTogdHJ1ZSxcblx0XHRcdFx0dGV4dDogYFJldmVudWUgb3ZlciBUaW1lYFxuXHRcdFx0fSxcblx0XHRcdHNjYWxlczoge1xuXHRcdFx0XHR4QXhlczogW3tcblx0XHRcdFx0XHRkaXNwbGF5OiB0cnVlLFxuXHRcdFx0XHRcdHR5cGU6IGBsaW5lYXJgLFxuXHRcdFx0XHRcdHNjYWxlTGFiZWw6IHtcblx0XHRcdFx0XHRcdGRpc3BsYXk6IHRydWUsXG5cdFx0XHRcdFx0XHRsYWJlbFN0cmluZzogJ1RpbWUnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0aWNrczoge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2s6ICh0cykgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHRzKS5mb3JtYXQoJ00vRCcpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fV0sXG5cdFx0XHRcdHlBeGVzOiBbe1xuXHRcdFx0XHRcdGRpc3BsYXk6IHRydWUsXG5cdFx0XHRcdFx0dHlwZTogYGxpbmVhcmAsXG5cdFx0XHRcdFx0c2NhbGVMYWJlbDoge1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogdHJ1ZSxcblx0XHRcdFx0XHRcdGxhYmVsU3RyaW5nOiAnUmV2ZW51ZSAoJCknXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0aWNrczoge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2s6IChyZXYpID0+IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGAkJHtyZXYudG9GaXhlZCgwKX1gO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fV1cblx0XHRcdH0sXG5cdFx0XHRlbGVtZW50czoge1xuXHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdHJhZGl1czogMFxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bXVsdGlUb29sdGlwVGVtcGxhdGU6IGA8JSU9ZGF0YXNldExhYmVsJT46ICQ8JSU9dmFsdWUlPmBcblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXRUZWFtUmFua0xpc3QobWFwKSB7XG5cdGxldCBsaXN0ID0gW107XG5cdGZvciAobGV0IHRlYW1pZCBpbiBtYXApIHtcblx0XHRsZXQgc2NvcmUgPSBnZXRUZWFtU2NvcmUobWFwW3RlYW1pZF0pO1xuXHRcdGxpc3QucHVzaCh7XG5cdFx0XHRpbmZvOiBtYXBbdGVhbWlkXS5pbmZvLFxuXHRcdFx0c2NvcmU6IHNjb3JlXG5cdFx0fSk7XG5cdH1cblx0bGV0IHNvcnRlZCA9IGxpc3Quc29ydCgoYSwgYikgPT4ge1xuXHRcdHJldHVybiBiLnNjb3JlLnJldmVudWUgLSBhLnNjb3JlLnJldmVudWU7XG5cdH0pO1xuXHRsZXQgcmFuayA9IDA7XG5cdGxldCBzY29yZSA9IEluZmluaXR5O1xuXHRzb3J0ZWQuZm9yRWFjaCgodGVhbSkgPT4ge1xuXHRcdGlmICh0ZWFtLnNjb3JlLnJldmVudWUgPCBzY29yZSkge1xuXHRcdFx0c2NvcmUgPSB0ZWFtLnNjb3JlLnJldmVudWU7XG5cdFx0XHRyYW5rKys7XG5cdFx0fVxuXHRcdHRlYW0ucmFuayA9IHJhbms7XG5cdH0pO1xuXHRyZXR1cm4gc29ydGVkO1xufVxuXG5mdW5jdGlvbiBtYWluTGVhZGVyYm9hcmQodGltZSwgbWFwKSB7XG5cdGxldCBsaXN0ID0gZ2V0VGVhbVJhbmtMaXN0KG1hcCk7XG5cdGxldCB2aWV3ID0gdmlld3MuZ2V0TGVhZGVyYm9hcmQoe1xuXHRcdGxpc3Q6IGxpc3Rcblx0fSk7XG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWFkZXJib2FyZCcpLmFwcGVuZENoaWxkKHZpZXcpO1xufVxuXG5mdW5jdGlvbiBpbnZpdGVUZWFtbWF0ZSh0ZWFtbWF0ZUVtYWlsLCB0ZWFtaWQpIHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRpZiAodGVhbW1hdGVFbWFpbCkge1xuXHRcdFx0aWYgKHRlYW1tYXRlRW1haWwuaW5kZXhPZignQCcpID4gLTEpIHtcblx0XHRcdFx0bGV0IGVtYWlsaWQgPSByZW1vdmVTcGVjaWFsQ2hhcnModGVhbW1hdGVFbWFpbCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGBJbnZpdGUgJHtlbWFpbGlkfSB0byAke3RlYW1pZH1gKTtcblx0XHRcdFx0aWYgKGVtYWlsaWQgJiYgdGVhbWlkKSB7XG5cdFx0XHRcdFx0ZGIucmVmKGBseWZ0L2Fzc2lnbm1lbnRzLyR7R0FNRX0vJHtlbWFpbGlkfWApLnNldCh7XG5cdFx0XHRcdFx0XHR0ZWFtaWQ6IHRlYW1pZCxcblx0XHRcdFx0XHRcdGVtYWlsOiB0ZWFtbWF0ZUVtYWlsXG5cdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRcdFx0XHRcdGVtYWlsOiB0ZWFtbWF0ZUVtYWlsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KS5jYXRjaCgoZXJyKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHRcdFx0XHRyZWplY3QoZXJyKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZWplY3QoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlamVjdCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4nKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVqZWN0KCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLicpO1xuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1haW5UZWFtKHRlYW1pZCwgdGVhbSkge1xuXG5cdGNvbnNvbGUubG9nKCdpbiBoZXJlJywgdGVhbWlkLCB0ZWFtKVxuXG5cdGlmICh0ZWFtaWQgJiYgdGVhbSkge1xuXG5cdFx0bGV0IHJlc2V0ID0gdmlld3MuZ2V0VGVhbU1hbmFnZW1lbnQoKTtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS1tYW5hZ2VtZW50JykuaW5uZXJIVE1MID0gcmVzZXQuaW5uZXJIVE1MO1xuXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW0tc3BhY2UnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm8tdGVhbS1zcGFjZScpLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuXG5cdFx0bGV0IHRlYW1TZWNyZXRGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtLXNlY3JldCcpO1xuXHRcdGxldCB0ZWFtU2VjcmV0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3ctdGVhbS1zZWNyZXQnKTtcblx0XHRcdHRlYW1TZWNyZXRGaWVsZC52YWx1ZSA9IHRlYW1pZDtcblx0XHRcblx0XHR0ZWFtU2VjcmV0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdGlmICh0ZWFtU2VjcmV0RmllbGQudHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuXHRcdFx0XHR0ZWFtU2VjcmV0RmllbGQudHlwZSA9ICd0ZXh0Jztcblx0XHRcdFx0dGVhbVNlY3JldEJ1dHRvbi5pbm5lclRleHQgPSAnSGlkZSc7XG5cdFx0XHRcdHRlYW1TZWNyZXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtZGFuZ2VyJyk7XG5cdFx0XHRcdHRlYW1TZWNyZXRCdXR0b24uY2xhc3NMaXN0LmFkZCgnaXMtc3VjY2VzcycpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGVhbVNlY3JldEZpZWxkLnR5cGUgPSAncGFzc3dvcmQnO1xuXHRcdFx0XHR0ZWFtU2VjcmV0QnV0dG9uLmlubmVyVGV4dCA9ICdTaG93Jztcblx0XHRcdFx0dGVhbVNlY3JldEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1zdWNjZXNzJyk7XG5cdFx0XHRcdHRlYW1TZWNyZXRCdXR0b24uY2xhc3NMaXN0LmFkZCgnaXMtZGFuZ2VyJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRsZXQgdGVhbUludml0ZUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW1tYXRlLWVtYWlsJyk7XG5cdFx0bGV0IHRlYW1JbnZpdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW52aXRlLXRlYW1tYXRlJyk7XG5cdFx0XG5cdFx0dGVhbUludml0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHR0ZWFtSW52aXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLWxvYWRpbmcnKTtcblx0XHRcdGludml0ZVRlYW1tYXRlKHRlYW1JbnZpdGVGaWVsZC52YWx1ZSwgdGVhbWlkKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoYEludml0ZWQgJHt0ZWFtSW52aXRlRmllbGQudmFsdWV9IHRvICR7dGVhbS5pbmZvLm5hbWV9LmApO1xuXHRcdFx0XHR0ZWFtSW52aXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWxvYWRpbmcnKTtcblx0XHRcdFx0bWFpblRlYW0odGVhbWlkLCB0ZWFtKTtcblx0XHRcdH0pLmNhdGNoKChlcnJvcikgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHRcdFx0dmV4LmRpYWxvZy5hbGVydChlcnJvciArICcnKTtcblx0XHRcdFx0dGVhbUludml0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdGRiLnJlZihgbHlmdC9hc3NpZ25tZW50cy8ke0dBTUV9YCkub3JkZXJCeUNoaWxkKCd0ZWFtaWQnKS5lcXVhbFRvKHRlYW1pZCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0bGV0IG5vZGVzID0gc25hcC52YWwoKSB8fCB7fTtcblx0XHRcdGxldCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtbWF0ZXMtbGlzdCcpO1xuXHRcdFx0dWwuaW5uZXJIVE1MID0gJyc7XG5cdFx0XHRpZiAoT2JqZWN0LmtleXMobm9kZXMpLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Zm9yIChsZXQgbmlkIGluIG5vZGVzKSB7XG5cdFx0XHRcdFx0dWwuaW5uZXJIVE1MICs9IGA8bGk+JHtub2Rlc1tuaWRdLmVtYWlsfTwvbGk+YFxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHVsLmlubmVySFRNTCArPSBgPGxpPk5vIHRlYW1tYXRlcyB5ZXQuPC9saT5gXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRsZXQgdGVhbU5hbWVGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtLW5hbWUnKTtcblx0XHRsZXQgdGVhbU5hbWVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlLXRlYW0tbmFtZScpO1xuXHRcdFx0dGVhbU5hbWVGaWVsZC52YWx1ZSA9IHRlYW0uaW5mby5uYW1lO1xuXHRcdFx0ZmlsbFNwYW5zKCcuZmlsbC10ZWFtLW5hbWUnLCB0ZWFtLmluZm8ubmFtZSk7XG5cblx0XHR0ZWFtTmFtZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRkYi5yZWYoYGx5ZnQvaW5mby8ke0dBTUV9LyR7dGVhbWlkfS9uYW1lYCkuc2V0KHRlYW1OYW1lRmllbGQudmFsdWUpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdFx0fSkuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cdFx0fSk7XG5cblx0XHRsZXQgcHJpY2luZ0hvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob2xkZXItcHJpY2luZycpO1xuXHRcdGxldCB6b25lc0hvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob2xkZXItem9uZXMnKTtcblxuXHRcdHByaWNpbmdIb2xkZXIuaW5uZXJIVE1MID0gJyc7XG5cdFx0em9uZXNIb2xkZXIuaW5uZXJIVE1MID0gJyc7XG5cdFx0ZGIucmVmKGBseWZ0L3RlYW1zLyR7R0FNRX0vJHt0ZWFtaWR9YCkub24oJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0cHJpY2luZ0hvbGRlci5pbm5lckhUTUwgPSAnJztcblx0XHRcdHpvbmVzSG9sZGVyLmlubmVySFRNTCA9ICcnO1xuXG5cdFx0XHRpZiAoIXZhbC5wcmljaW5nKSB7XG5cdFx0XHRcdHZhbC5wcmljaW5nID0ge307XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdmFsLnpvbmVzKSB7XG5cdFx0XHRcdHZhbC56b25lcyA9IHt9O1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgcFZpZXcgPSB2aWV3cy5nZXRQcmljaW5nQ2FyZHModmFsKTtcblx0XHRcdHByaWNpbmdIb2xkZXIuYXBwZW5kQ2hpbGQocFZpZXcpO1xuXG5cdFx0XHR2YWwuY29tbXVuaXR5ID0gQ09NTVVOSVRZX0FSRUFTO1xuXHRcdFx0bGV0IHpWaWV3ID0gdmlld3MuZ2V0Wm9uZXNDYXJkcyh2YWwpO1xuXHRcdFx0em9uZXNIb2xkZXIuYXBwZW5kQ2hpbGQoelZpZXcpO1xuXHRcdH0pO1xuXG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS5lcnJvcignQ2Fubm90IGFjY2VzcyB0ZWFtOiAnLCB0ZWFtaWQsIHRlYW0pO1xuXHR9XG5cbn1cblxuZnVuY3Rpb24gc2hvd1RlYW0odGVhbWlkLCBpbkRhdGEpIHtcblx0bGV0IGRhdGEgPSBpbkRhdGEgfHwgZ2V0R2FtZURhdGEoKTtcblx0aWYgKCFkYXRhKSB7XG5cdFx0Y29uc29sZS5lcnJvcignTm8gZ2FtZSBkYXRhIGF2YWlsYWJsZScpO1xuXHR9XG5cdGxldCB0ZWFtID0ge3JldmVudWU6IFtdLCB0cmlwczogW10sIGluZm86IHtuYW1lOiAnTm8gVGVhbSd9fTtcblx0aWYgKHRlYW1pZCkge1xuXHRcdGNvbnNvbGUubG9nKGBZb3VyIHRlYW0gaXM6ICR7dGVhbWlkfWApO1xuXHRcdHRlYW0gPSBkYXRhLm1hcFt0ZWFtaWRdO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUubG9nKGBZb3UgZG8gbm90IGhhdmUgYSB0ZWFtLmApO1xuXHR9XG5cdG1haW5UZWFtKHRlYW1pZCwgdGVhbSk7XG59XG5cbmZ1bmN0aW9uIG1haW5BZG1pbigpIHtcblx0XG5cdGxldCBkYXRhID0gZ2V0R2FtZURhdGEoKTtcblx0bGV0IGxpc3QgPSBnZXRUZWFtUmFua0xpc3QoZGF0YS5tYXApO1xuXHRsZXQgdGVhbVRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbC10ZWFtcy10YWJsZScpO1xuXHR0ZWFtVGFibGUuaW5uZXJIVE1MID0gJyc7XG5cdGxldCB0YWJsZSA9IHZpZXdzLmdldEFkbWluVGVhbVRhYmxlKHtcblx0XHRsaXN0OiBsaXN0XG5cdH0pO1xuXHR0ZWFtVGFibGUuYXBwZW5kQ2hpbGQodGFibGUpO1xuXG5cdGxldCBhZGRUZWFtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluLWFkZC10ZWFtJyk7XG5cdGFkZFRlYW1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdG1lc3NhZ2U6ICdUZWFtIE5hbWUnLFxuXHRcdFx0Y2FsbGJhY2s6ICh0ZWFtTmFtZSkgPT4ge1xuXHRcdFx0XHRpZiAodGVhbU5hbWUpIHtcblx0XHRcdFx0XHRkYi5yZWYoYGx5ZnQvaW5mby8ke0dBTUV9YCkucHVzaCh7XG5cdFx0XHRcdFx0XHRuYW1lOiB0ZWFtTmFtZVxuXHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdFx0XHR9KS5jYXRjaCgoZXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdGxldCBhZGRBZG1pbkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZG1pbi1hZGQtYWRtaW4nKTtcblx0YWRkQWRtaW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdG1lc3NhZ2U6IGBFbnRlciBhbiBlbWFpbCBhZGRyZXNzOmAsXG5cdFx0XHRjYWxsYmFjazogKGVtYWlsKSA9PiB7XG5cdFx0XHRcdGlmIChlbWFpbCkge1xuXHRcdFx0XHRcdGxldCBlbWFpbGlkID0gcmVtb3ZlU3BlY2lhbENoYXJzKGVtYWlsKTtcblx0XHRcdFx0XHRpZiAoZW1haWwuaW5kZXhPZignQCcpID4gLTEgJiYgZW1haWxpZCkge1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBseWZ0L2FkbWluLyR7R0FNRX0vJHtlbWFpbGlkfWApLnNldCh7XG5cdFx0XHRcdFx0XHRcdGxldmVsOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRlbWFpbDogZW1haWxcblx0XHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdFx0dmV4LmRpYWxvZy5hbGVydChgSW52aXRlZCAke2VtYWlsfSBhcyBhbiBhZG1pbi5gKTtcblx0XHRcdFx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0XHRcdFx0dmV4LmRpYWxvZy5hbGVydCgnRXJyb3I6ICcgKyBlcnIpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdGxldCBleHBvcnRUZWFtc0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZG1pbi1leHBvcnQtdGVhbXMnKTtcblx0ZXhwb3J0VGVhbXNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdGxldCBkYXRhID0gZ2V0R2FtZURhdGEoKSB8fCB7fTtcblx0XHRsZXQgb3V0ID0gW107XG5cdFx0Zm9yIChsZXQgdGlkIGluIGRhdGEubWFwKSB7XG5cdFx0XHRvdXQucHVzaCh0aWQpXG5cdFx0fVxuXHRcdHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRcdG1lc3NhZ2U6IGBFeHBvcnRlZCAke291dC5sZW5ndGh9IHRlYW0gc2VjcmV0czpgLFxuXHRcdFx0dmFsdWU6IG91dC5qb2luKCcsJyksXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge31cblx0XHR9KTtcblx0fSk7XG5cbn1cblxuZnVuY3Rpb24gc2hvd1BhZ2UocGFnZWlkKSB7XG5cdFBBR0UgPSAocGFnZWlkID09PSAnbG9hZGluZycpID8gUEFHRSA6IHBhZ2VpZDtcblx0Ly8gVGFic1xuXHRsZXQgY3VycmVudFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxpW2RhdGEtcGFnZV0uaXMtYWN0aXZlYCk7XG5cdGlmIChjdXJyZW50VGFiKSB7XG5cdFx0Y3VycmVudFRhYi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcblx0fVxuXHRsZXQgbmV3VGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgbGlbZGF0YS1wYWdlPVwiJHtwYWdlaWR9XCJdYCk7XG5cdGlmIChuZXdUYWIpIHtcblx0XHRuZXdUYWIuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG5cdH1cblx0Ly8gU2VjdGlvbnNcblx0QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBzZWN0aW9uW2RhdGEtcGFnZV1gKSkuZm9yRWFjaCgocGFnZSkgPT4ge1xuXHRcdHBhZ2UuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG5cdH0pO1xuXHRsZXQgbmV3UGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNlY3Rpb25bZGF0YS1wYWdlPVwiJHtwYWdlaWR9XCJdYCk7XG5cdGlmIChuZXdQYWdlKSB7XG5cdFx0bmV3UGFnZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRUZWFtQnlFbWFpbChlbWFpbCkge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGxldCBlbWFpbGlkID0gcmVtb3ZlU3BlY2lhbENoYXJzKGVtYWlsKTtcblx0XHRkYi5yZWYoYGx5ZnQvYXNzaWdubWVudHMvJHtHQU1FfS8ke2VtYWlsaWR9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0bGV0IG5vZGUgPSBzbmFwLnZhbCgpO1xuXHRcdFx0aWYgKG5vZGUpIHtcblx0XHRcdFx0cmVzb2x2ZShub2RlLnRlYW1pZCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXNvbHZlKGZhbHNlKTtcblx0XHRcdH1cblx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gbG9naW4oKSB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0dmFyIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG5cdFx0ZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhSZWRpcmVjdChwcm92aWRlcikudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0dmFyIHVzZXIgPSBkYXRhLnVzZXI7XG5cdFx0XHRjb25zb2xlLmxvZyh1c2VyKTtcblx0XHR9KS5jYXRjaChyZWplY3QpO1xuXHR9KTtcbn1cblxubGV0IFNIT1dfVEVBTV9JRCA9IGZhbHNlO1xuXG5sZXQgcm91dGVzID0ge1xuXG5cdCcvJzogKCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKCdsYW5kaW5nJylcblx0XHRzaG93UGFnZSgncmVzdWx0cycpO1xuXHR9LFxuXG5cdCcvcmVzdWx0cyc6ICgpID0+IHtcblx0XHRjb25zb2xlLmxvZygncmVzdWx0cycpXG5cdFx0c2hvd1BhZ2UoJ3Jlc3VsdHMnKTtcblx0fSxcblxuXG5cdCcvbGVhZGVyYm9hcmQnOiAoKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ2xlYWRlcmJvYXJkJylcblx0XHRzaG93UGFnZSgnbGVhZGVyYm9hcmQnKTtcblx0fSxcblxuXHQnL3NlYXJjaCc6ICgpID0+IHtcblx0XHRjb25zb2xlLmxvZygnc2VhcmNoJylcblx0XHRzaG93UGFnZSgnc2VhcmNoJyk7XG5cdH0sXG5cblx0Jy90ZWFtJzogKCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKCd0ZWFtJylcblx0XHRzaG93UGFnZSgndGVhbScpO1xuXHR9LFxuXG5cdCcvdGVhbS86dGVhbWlkJzogKHRlYW1pZCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKGB0ZWFtLyR7dGVhbWlkfWApO1xuXHRcdFNIT1dfVEVBTV9JRCA9IHRlYW1pZDtcblx0XHRpZiAoSVNfQURNSU4pIHtcblx0XHRcdHNob3dUZWFtKHRlYW1pZCk7XG5cdFx0fVxuXHRcdHNob3dQYWdlKCd0ZWFtJyk7XG5cdH0sXG5cblx0Jy9kZWxldGUvOnRlYW1pZCc6ICh0ZWFtaWQpID0+IHtcblx0XHRjb25zb2xlLmxvZyhgZGVsZXRlLyR7dGVhbWlkfWApO1xuXHRcdGlmIChJU19BRE1JTikge1xuXHRcdFx0dmV4LmRpYWxvZy5jb25maXJtKHtcblx0XHRcdFx0bWVzc2FnZTogYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgeyR7dGVhbWlkfX0/YCxcblx0XHRcdFx0Y2FsbGJhY2s6ICh5ZXMpID0+IHtcblx0XHRcdFx0XHRpZiAoeWVzKSB7XG5cdFx0XHRcdFx0XHRkYi5yZWYoYGx5ZnQvaW5mby8ke0dBTUV9LyR7dGVhbWlkfWApLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBseWZ0L3Jlc3VsdHMvJHtHQU1FfS8ke3RlYW1pZH1gKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGRiLnJlZihgbHlmdC90ZWFtcy8ke0dBTUV9LyR7dGVhbWlkfWApLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBseWZ0L2Fzc2lnbm1lbnRzLyR7R0FNRX1gKS5vcmRlckJ5Q2hpbGQoJ3RlYW1pZCcpLmVxdWFsVG8odGVhbWlkKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCBub2RlcyA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdFx0XHRcdGZvciAobGV0IG5pZCBpbiBub2Rlcykge1xuXHRcdFx0XHRcdFx0XHRcdGRiLnJlZihgbHlmdC9hc3NpZ25tZW50cy8ke0dBTUV9LyR7bmlkfWApLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzaG93UGFnZSgncmVzdWx0cycpO1xuXHRcdH1cblx0fSxcblxuXHQnL2FkbWluJzogKCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKCdhZG1pbicpXG5cdFx0c2hvd1BhZ2UoJ2FkbWluJyk7XG5cdH0sXG5cbn1cblxubGV0IHJvdXRlciA9IFJvdXRlcihyb3V0ZXMpO1xucm91dGVyLmluaXQoKTtcbnNob3dQYWdlKCdsb2FkaW5nJyk7XG5cbkFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNpZ25vdXQnKSkuZm9yRWFjaCgoYnRuKSA9PiB7XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0ZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKTtcblx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWNtX2x5ZnRfZ2FtZV9rZXknKTtcblx0fSk7XG59KTtcblxubGV0IGdhbWVEYXRhID0ge307XG5cbmZ1bmN0aW9uIGdldEdhbWVEYXRhKCkge1xuXHRyZXR1cm4gZ2FtZURhdGE7XG59XG5cbmZ1bmN0aW9uIGNoZWNrQWRtaW4oKSB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0bGV0IGVtYWlsaWQgPSByZW1vdmVTcGVjaWFsQ2hhcnMoVVNFUi5lbWFpbCk7XG5cdFx0ZGIucmVmKGBseWZ0L2FkbWluLyR7R0FNRX0vJHtlbWFpbGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpO1xuXHRcdFx0aWYgKHZhbCkge1xuXHRcdFx0XHRJU19BRE1JTiA9IHRydWU7XG5cdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXBhZ2U9XCJhZG1pblwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpO1xuXHRcdFx0XHRyZXNvbHZlKHRydWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzb2x2ZShmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fSkuY2F0Y2gocmVzb2x2ZSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBtYWluKCkge1xuXG5cdGNoZWNrQWRtaW4oKS50aGVuKCgpID0+IHtcblx0XHRnZXRSZXN1bHRzKEdBTUUsIChyZXMpID0+IHtcblx0XHRcdGdldFRlYW1zKEdBTUUsICh0ZWFtSW5mbykgPT4ge1xuXHRcdFx0XHRsZXQgZGF0YSA9IGdldFRlYW1EYXRhKHJlcywgdGVhbUluZm8pO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcblx0XHRcdFx0Z2FtZURhdGEgPSBkYXRhO1xuXHRcdFx0XHRtYWluUmVzdWx0cyhkYXRhLnRpbWUsIGRhdGEubWFwKTtcblx0XHRcdFx0bWFpbkxlYWRlcmJvYXJkKGRhdGEudGltZSwgZGF0YS5tYXApO1xuXHRcdFx0XHRtYWluQWRtaW4oKTtcblx0XHRcdFx0aWYgKCFJU19BRE1JTikge1xuXHRcdFx0XHRcdGdldFRlYW1CeUVtYWlsKFVTRVIuZW1haWwpLnRoZW4oKHRlYW1pZCkgPT4ge1xuXHRcdFx0XHRcdFx0c2hvd1RlYW0odGVhbWlkLCBkYXRhKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoU0hPV19URUFNX0lEKSB7XG5cdFx0XHRcdFx0c2hvd1RlYW0oU0hPV19URUFNX0lEKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzaG93UGFnZShQQUdFKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9KTtcblxuXHRkYi5yZWYoYGx5ZnQvdGltZS8ke0dBTUV9L3RpbWVgKS5vbigndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdGxldCB0cyA9IHNuYXAudmFsKCk7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpbS10aW1lJykuaW5uZXJUZXh0ID0gYFRvZGF5IGlzICR7bW9tZW50KHRzKS5mb3JtYXQoJ00vRC9ZWVlZJyl9IGluIHNpbXVsYXRpb24gdGltZS5gO1xuXHR9KTtcblxufVxuXG5mdW5jdGlvbiBpbml0KCkge1xuXG5cdGlmIChHQU1FKSB7XG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjbV9seWZ0X2dhbWVfa2V5JywgR0FNRSk7XG5cdFx0ZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbih1c2VyKSB7XG5cdFx0XHRpZiAodXNlcikge1xuXHRcdFx0XHRVU0VSX0lEID0gdXNlci51aWQ7XG5cdFx0XHRcdFVTRVIgPSB1c2VyO1xuXHRcdFx0XHRkYi5yZWYoYGx5ZnQvYWRtaW4vJHtHQU1FfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdFx0XHRpZiAodmFsKSB7XG5cdFx0XHRcdFx0XHRtYWluKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZleC5kaWFsb2cuY29uZmlybSh7XG5cdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IGBEbyB5b3Ugd2FudCB0byBzdGFydCBhIG5ldyBnYW1lIHdpdGggdGhlIGNvZGUgeyR7R0FNRX19P2AsXG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrOiAoeWVzKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHllcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGV0IGVtYWlsaWQgPSByZW1vdmVTcGVjaWFsQ2hhcnMoVVNFUi5lbWFpbCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRkYi5yZWYoYGx5ZnQvYWRtaW4vJHtHQU1FfS8ke2VtYWlsaWR9YCkuc2V0KHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGV2ZWw6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVtYWlsOiBVU0VSLmVtYWlsXG5cdFx0XHRcdFx0XHRcdFx0XHR9KS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWNtX2x5ZnRfZ2FtZV9rZXknKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsb2dpbigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHZleC5kaWFsb2cuYWxlcnQoJ1BsZWFzZSByZWxvYWQgdGhlIHBhZ2UgYW5kIGVudGVyIGEgdmFsaWQgZ2FtZSBrZXkuJyk7XG5cdH1cblxufVxuIiwiLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ5MDU1L2hvdy1jYW4taS1mb3JtYXQtbnVtYmVycy1hcy1kb2xsYXJzLWN1cnJlbmN5LXN0cmluZy1pbi1qYXZhc2NyaXB0XG5OdW1iZXIucHJvdG90eXBlLmZvcm1hdE1vbmV5ID0gZnVuY3Rpb24oYywgZCwgdCl7XG5cdHZhciBuID0gdGhpcywgXG5cdGMgPSBpc05hTihjID0gTWF0aC5hYnMoYykpID8gMiA6IGMsIFxuXHRkID0gZCA9PSB1bmRlZmluZWQgPyBcIi5cIiA6IGQsIFxuXHR0ID0gdCA9PSB1bmRlZmluZWQgPyBcIixcIiA6IHQsIFxuXHRzID0gbiA8IDAgPyBcIi1cIiA6IFwiXCIsIFxuXHRpID0gU3RyaW5nKHBhcnNlSW50KG4gPSBNYXRoLmFicyhOdW1iZXIobikgfHwgMCkudG9GaXhlZChjKSkpLCBcblx0aiA9IChqID0gaS5sZW5ndGgpID4gMyA/IGogJSAzIDogMDtcblx0cmV0dXJuIHMgKyAoaiA/IGkuc3Vic3RyKDAsIGopICsgdCA6IFwiXCIpICsgaS5zdWJzdHIoaikucmVwbGFjZSgvKFxcZHszfSkoPz1cXGQpL2csIFwiJDFcIiArIHQpICsgKGMgPyBkICsgTWF0aC5hYnMobiAtIGkpLnRvRml4ZWQoYykuc2xpY2UoMikgOiBcIlwiKTtcbn07XG5cbmxldCBWaWV3cyA9ICgpID0+IHtcblxuXHRsZXQgdmlld3MgPSB7XG5cblx0XHRnZXRMZWFkZXJib2FyZDogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBgO1xuXHRcdFx0aWYgKG1vZGVsLmxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRsZXQgbWF4UmV2ID0gbW9kZWwubGlzdFswXS5zY29yZS5yZXZlbnVlO1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8dGFibGUgY2xhc3M9XCJpcy1mdWxsd2lkdGhcIj5cblx0XHRcdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5SYW5rPC90aD5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+VGVhbTwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPlJldmVudWU8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5UcmlwczwvdGg+XG5cdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0PHRib2R5PlxuXHRcdFx0XHRgO1xuXHRcdFx0XHRtb2RlbC5saXN0LmZvckVhY2goKHRlYW0pID0+IHtcblx0XHRcdFx0XHRsZXQgcmV2UmF0aW8gPSB0ZWFtLnNjb3JlLnJldmVudWUgLyBtYXhSZXY7XG5cdFx0XHRcdFx0bGV0IG9wYWMgPSAoMC45NSAqIHJldlJhdGlvKSArIDAuMDU7XG5cdFx0XHRcdFx0bGV0IHN0eWxlU3RyID0gYGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzUsIDIwOSwgOTYsICR7b3BhYy50b0ZpeGVkKDMpfSlgO1xuXHRcdFx0XHRcdGxldCBzcGFuSFRNTCA9ICcnO1xuXHRcdFx0XHRcdGlmICh0ZWFtLnJhbmsgPT09IDEpIHtcblx0XHRcdFx0XHRcdHNwYW5IVE1MID0gYFxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImljb24gZmEgZmEtdHJvcGh5XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZD48c3Bhbj4ke3RlYW0ucmFua308L3NwYW4+JHtzcGFuSFRNTH08L3RkPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZD4ke3RlYW0uaW5mby5uYW1lfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0PHRkIHN0eWxlPVwiJHtzdHlsZVN0cn1cIj4kJHt0ZWFtLnNjb3JlLnJldmVudWUuZm9ybWF0TW9uZXkoMil9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHQ8dGQ+JHt0ZWFtLnNjb3JlLnRyaXBzfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHQ8L3RhYmxlPlxuXHRcdFx0XHRgO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHA+VGhlcmUgYXJlIG5vIHRlYW1zIGluIHRoaXMgZ2FtZSB5ZXQuPC9wPlxuXHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLWhvbGRlcicpO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0UHJpY2luZ0NhcmRzOiAobW9kZWwpID0+IHtcblx0XHRcdGxldCBodG1sID0gYGA7XG5cdFx0XHRsZXQgbGlzdCA9IE9iamVjdC5rZXlzKG1vZGVsLnByaWNpbmcpLm1hcCgodGtleSkgPT4gbW9kZWwucHJpY2luZ1t0a2V5XSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYi5pbl9lZmZlY3QgLSBhLmluX2VmZmVjdDtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKGxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRsaXN0LmZvckVhY2goKHN0ZXApID0+IHtcblx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkXCI+XG5cdFx0XHRcdFx0XHRcdDxoZWFkZXIgY2xhc3M9XCJjYXJkLWhlYWRlclwiPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiY2FyZC1oZWFkZXItdGl0bGVcIj5XZWVrIG9mICR7bW9tZW50KHN0ZXAuaW5fZWZmZWN0KS5mb3JtYXQoJ00vRC9ZWVlZJyl9PC9wPlxuXHRcdFx0XHRcdFx0XHQ8L2hlYWRlcj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHRcdDx0YWJsZT5cblx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0aD5DYXRlZ29yeTwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoPkNvc3Q8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5CYXNlPC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JCR7c3RlcC5iYXNlLmZvcm1hdE1vbmV5KDIpfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+UGlja3VwPC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JCR7c3RlcC5waWNrdXAuZm9ybWF0TW9uZXkoMil9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5QZXIgTWlsZTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPiQke3N0ZXAucGVyX21pbGUuZm9ybWF0TW9uZXkoMil9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5QZXIgTWludXRlPC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JCR7c3RlcC5wZXJfbWludXRlLmZvcm1hdE1vbmV5KDIpfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8IS0tPGZvb3RlciBjbGFzcz1cImNhcmQtZm9vdGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhcmQtZm9vdGVyLWl0ZW1cIj5TYXZlPC9hPlxuXHRcdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJkLWZvb3Rlci1pdGVtXCI+RWRpdDwvYT5cblx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzPVwiY2FyZC1mb290ZXItaXRlbVwiPkRlbGV0ZTwvYT5cblx0XHRcdFx0XHRcdFx0PC9mb290ZXI+LS0+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRgO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24gaXMtcHJpbWFyeVwiPlxuXHRcdFx0XHRcdFx0PGgyIGNsYXNzPVwidGl0bGUgaXMtM1wiPk5vIHRyaXAgY29zdHMgc2V0LjwvaDI+XG5cdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj5NYWtlIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSAvcHJpY2luZyBlbmRwb2ludC48L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Wm9uZXNDYXJkczogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBgO1xuXHRcdFx0bGV0IGxpc3QgPSBPYmplY3Qua2V5cyhtb2RlbC56b25lcykubWFwKCh0a2V5KSA9PiBtb2RlbC56b25lc1t0a2V5XSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gYi5pbl9lZmZlY3QgLSBhLmluX2VmZmVjdDtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKGxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRsaXN0LmZvckVhY2goKHN0ZXApID0+IHtcblx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkXCI+XG5cdFx0XHRcdFx0XHRcdDxoZWFkZXIgY2xhc3M9XCJjYXJkLWhlYWRlclwiPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiY2FyZC1oZWFkZXItdGl0bGVcIj5XZWVrIG9mICR7bW9tZW50KHN0ZXAuaW5fZWZmZWN0KS5mb3JtYXQoJ00vRC9ZWVlZJyl9PC9wPlxuXHRcdFx0XHRcdFx0XHQ8L2hlYWRlcj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHRcdDx0YWJsZT5cblx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0aD5ab25lPC90aD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGg+Q29tbXVuaXR5IEFyZWE8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keT5cblx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdGZvciAobGV0IHppZCBpbiBzdGVwKSB7XG5cdFx0XHRcdFx0XHRpZiAoemlkICE9PSAnaW5fZWZmZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5ab25lICR7emlkfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPiR7bW9kZWwuY29tbXVuaXR5W3ppZF19PC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0XHRcdFx0YDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8IS0tPGZvb3RlciBjbGFzcz1cImNhcmQtZm9vdGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhcmQtZm9vdGVyLWl0ZW1cIj5TYXZlPC9hPlxuXHRcdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJkLWZvb3Rlci1pdGVtXCI+RWRpdDwvYT5cblx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzPVwiY2FyZC1mb290ZXItaXRlbVwiPkRlbGV0ZTwvYT5cblx0XHRcdFx0XHRcdFx0PC9mb290ZXI+LS0+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRgO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24gaXMtcHJpbWFyeVwiPlxuXHRcdFx0XHRcdFx0PGgyIGNsYXNzPVwidGl0bGUgaXMtM1wiPk5vIHBvd2VyIHpvbmVzIHNldC48L2gyPlxuXHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJzdWJ0aXRsZSBpcy02XCI+TWFrZSBhIFBPU1QgcmVxdWVzdCB0byB0aGUgL3pvbmVzIGVuZHBvaW50LjwvcD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YDtcblx0XHRcdH1cblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH0sXG5cblx0XHRnZXRBZG1pblRlYW1UYWJsZTogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBgO1xuXHRcdFx0aWYgKG1vZGVsLmxpc3QubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRsZXQgbWF4UmV2ID0gbW9kZWwubGlzdFswXS5zY29yZS5yZXZlbnVlO1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8dGFibGUgY2xhc3M9XCJpcy1mdWxsd2lkdGhcIj5cblx0XHRcdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5SYW5rPC90aD5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+VGVhbTwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPlJldmVudWU8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5UcmlwczwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPlZpZXc8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5EZWxldGU8L3RoPlxuXHRcdFx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRcdFx0PC90aGVhZD5cblx0XHRcdFx0XHRcdDx0Ym9keT5cblx0XHRcdFx0YDtcblx0XHRcdFx0bW9kZWwubGlzdC5mb3JFYWNoKCh0ZWFtKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHJldlJhdGlvID0gdGVhbS5zY29yZS5yZXZlbnVlIC8gbWF4UmV2O1xuXHRcdFx0XHRcdGxldCBvcGFjID0gKDAuOTUgKiByZXZSYXRpbykgKyAwLjA1O1xuXHRcdFx0XHRcdGxldCBzdHlsZVN0ciA9IGBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDM1LCAyMDksIDk2LCAke29wYWMudG9GaXhlZCgzKX0pYDtcblx0XHRcdFx0XHRsZXQgc3BhbkhUTUwgPSAnJztcblx0XHRcdFx0XHRpZiAodGVhbS5yYW5rID09PSAxKSB7XG5cdFx0XHRcdFx0XHRzcGFuSFRNTCA9IGBcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJpY29uIGZhIGZhLXRyb3BoeVwiPjwvaT5cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0YDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdFx0XHQ8dGQ+PHNwYW4+JHt0ZWFtLnJhbmt9PC9zcGFuPiR7c3BhbkhUTUx9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHQ8dGQ+JHt0ZWFtLmluZm8ubmFtZX08L3RkPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZCBzdHlsZT1cIiR7c3R5bGVTdHJ9XCI+JCR7dGVhbS5zY29yZS5yZXZlbnVlLmZvcm1hdE1vbmV5KDIpfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0PHRkPiR7dGVhbS5zY29yZS50cmlwc308L3RkPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZD48YSBocmVmPVwiLi8jL3RlYW0vJHt0ZWFtLmluZm8udGVhbWlkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIj5WaWV3IFRlYW08L2E+PC90ZD5cblx0XHRcdFx0XHRcdFx0XHQ8dGQ+PGEgaHJlZj1cIi4vIy9kZWxldGUvJHt0ZWFtLmluZm8udGVhbWlkfVwiIGNsYXNzPVwiYnV0dG9uIGlzLWRhbmdlciBpcy1vdXRsaW5lZFwiPkRlbGV0ZSBUZWFtPC9hPjwvdGQ+XG5cdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHQ8L3RhYmxlPlxuXHRcdFx0XHRgO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHA+VGhlcmUgYXJlIG5vIHRlYW1zIGluIHRoaXMgZ2FtZSB5ZXQuPC9wPlxuXHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLWhvbGRlcicpO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbU1hbmFnZW1lbnQ6ICgpID0+IHtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uc1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtNlwiPlxuXHRcdFx0XHRcdFx0PGg0IGNsYXNzPVwidGl0bGUgaXMtNFwiPlRlYW0gTmFtZTwvaDQ+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZmllbGQgaGFzLWFkZG9uc1wiPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgaWQ9XCJ0ZWFtLW5hbWVcIiBjbGFzcz1cImlucHV0XCIgdHlwZT1cInRleHRcIj5cblx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwidXBkYXRlLXRlYW0tbmFtZVwiIGNsYXNzPVwiYnV0dG9uIGlzLXN1Y2Nlc3NcIj5VcGRhdGU8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8aDQgY2xhc3M9XCJ0aXRsZSBpcy00XCI+VGVhbSBTZWNyZXQ8L2g0PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZpZWxkIGhhcy1hZGRvbnNcIj5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJjb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IGlkPVwidGVhbS1zZWNyZXRcIiBjbGFzcz1cImlucHV0IGlzLXN0YXRpY1wiIHR5cGU9XCJwYXNzd29yZFwiIHZhbHVlPVwic2VjcmV0dGV4dFwiIHJlYWRvbmx5PlxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b24gaWQ9XCJzaG93LXRlYW0tc2VjcmV0XCIgY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyXCI+U2hvdzwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTZcIj5cblx0XHRcdFx0XHRcdDxoNCBjbGFzcz1cInRpdGxlIGlzLTRcIj5JbnZpdGUgVGVhbW1hdGU8L2g0PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZpZWxkIGhhcy1hZGRvbnNcIj5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJjb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IGlkPVwidGVhbW1hdGUtZW1haWxcIiBjbGFzcz1cImlucHV0XCIgdHlwZT1cInRleHRcIj5cblx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwiaW52aXRlLXRlYW1tYXRlXCIgY2xhc3M9XCJidXR0b24gaXMtc3VjY2Vzc1wiPkludml0ZTwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxoNCBjbGFzcz1cInRpdGxlIGlzLTRcIj5DdXJyZW50IFRlYW1tYXRlczwvaDQ+XG5cdFx0XHRcdFx0XHQ8dWwgaWQ9XCJ0ZWFtbWF0ZXMtbGlzdFwiPjwvdWw+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHZpZXdzO1xuXG59XG5cbmV4cG9ydCB7Vmlld3N9O1xuIl19\n"]}
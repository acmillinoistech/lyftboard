{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Object","defineProperty","value","COMMUNITY_AREAS","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","67","68","69","70","71","72","73","74","75","76","77","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","removeSpecialChars","str","replace","fillSpans","queryStr","text","Array","from","document","querySelectorAll","forEach","div","innerText","getResults","gameid","callback","db","ref","once","snap","val","getTeams","getTeamData","res","info","inMap","sims","keys","map","key","sort","b","start","time","first","counter","teamid","data","name","ALPHABET","revenue","trips","zones","sim","push","_teamid","step","inRev","rev","lyft","parseFloat","taxi","zoneMap","zid","zc","cost","_teamid2","teamInfo","getTeamScore","totalRev","reduce","sum","totalTrips","totalLoss","loss","net","mainResults","showFinal","datasets","line","total","idx","losses","x","y","label","borderColor","COLORS","fill","cubicInterpolationMode","_loop","ctx","getElementById","getContext","Chart","type","options","responsive","maintainAspectRatio","legend","position","labels","boxWidth","padding","generateLabels","chart","dataset","j","fillStyle","hidden","isDatasetVisible","lineCap","borderCapStyle","lineDash","borderDash","lineDashOffset","borderDashOffset","lineJoin","borderJoinStyle","lineWidth","borderWidth","strokeStyle","pointStyle","datasetIndex","title","display","scales","xAxes","scaleLabel","labelString","ticks","ts","moment","format","yAxes","toFixed","elements","point","radius","multiTooltipTemplate","getTeamRankList","useFinalRanking","list","_score","score","sorted","finalScore","rank","Infinity","team","mainLeaderboard","SHOW_FINAL_SCORES","view","views","getLeaderboard","innerHTML","appendChild","inviteTeammate","teammateEmail","Promise","resolve","reject","indexOf","emailid","console","log","GAME","set","email","then","done","success","catch","err","error","mainTeam","reset","getTeamManagement","classList","remove","add","teamSecretField","teamSecretButton","addEventListener","teamInviteField","teamInviteButton","vex","dialog","alert","orderByChild","equalTo","nodes","ul","nid","teamNameField","teamNameButton","window","location","reload","pricingHolder","zonesHolder","on","learnSnap","learnVal","pricing","learnPricing","tkey","note","learnZones","_tkey","pView","getPricingCards","community","_communityareas","zView","getZonesCards","btn","form","querySelector","timestamp","Date","now","complete","showTeam","inData","getGameData","mainAdmin","teamTable","table","admin","prompt","message","teamName","level","out","tid","join","gs","newMode","final","showPage","pageid","PAGE","currentTab","newTab","page","newPage","getTeamByEmail","node","login","provider","firebase","auth","GoogleAuthProvider","signInWithRedirect","user","gameData","checkAdmin","USER","IS_ADMIN","main","mode","SHOW_TEAM_ID","span","init","localStorage","setItem","onAuthStateChanged","USER_ID","uid","confirm","yes","removeItem","_views","config","Views","initializeApp","database","getItem","gamekey","toUpperCase","split","hex","routes","/","/results","/leaderboard","/search","/team","/team/:teamid","/delete/:teamid","/admin","Router","signOut","./communityareas","./config","./views","getMoneyStyleStr","ratio","Number","prototype","formatMoney","c","d","this","isNaN","Math","abs","undefined","String","parseInt","substr","slice","model","html","entry","in_effect","base","pickup","per_mile","per_minute","createElement","maxRev","maxNet","revRatio","netRatio","spanHTML"],"mappings":"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","file":"../main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar COMMUNITY_AREAS = {\n\t\"1\": \"Rogers Park\",\n\t\"2\": \"West Ridge\",\n\t\"3\": \"Uptown\",\n\t\"4\": \"Lincoln Square\",\n\t\"5\": \"North Center\",\n\t\"6\": \"Lake View\",\n\t\"7\": \"Lincoln Park\",\n\t\"8\": \"Near North Side\",\n\t\"9\": \"Edison Park\",\n\t\"10\": \"Norwood Park\",\n\t\"11\": \"Jefferson Park\",\n\t\"12\": \"Forest Glen\",\n\t\"13\": \"North Park\",\n\t\"14\": \"Albany Park\",\n\t\"15\": \"Portage Park\",\n\t\"16\": \"Irving Park\",\n\t\"17\": \"Dunning\",\n\t\"18\": \"Montclare\",\n\t\"19\": \"Belmont Cragin\",\n\t\"20\": \"Hermosa\",\n\t\"21\": \"Avondale\",\n\t\"22\": \"Logan Square\",\n\t\"23\": \"Humboldt Park\",\n\t\"24\": \"West Town\",\n\t\"25\": \"Austin\",\n\t\"26\": \"West Garfield Park\",\n\t\"27\": \"East Garfield Park\",\n\t\"28\": \"Near West Side\",\n\t\"29\": \"North Lawndale\",\n\t\"30\": \"South Lawndale\",\n\t\"31\": \"Lower West Side\",\n\t\"32\": \"Loop\",\n\t\"33\": \"Near South Side\",\n\t\"34\": \"Armour Square\",\n\t\"35\": \"Douglas\",\n\t\"36\": \"Oakland\",\n\t\"37\": \"Fuller Park\",\n\t\"38\": \"Grand Boulevard\",\n\t\"39\": \"Kenwood\",\n\t\"40\": \"Washington Park\",\n\t\"41\": \"Hyde Park\",\n\t\"42\": \"Woodlawn\",\n\t\"43\": \"South Shore\",\n\t\"44\": \"Chatham\",\n\t\"45\": \"Avalon Park\",\n\t\"46\": \"South Chicago\",\n\t\"47\": \"Burnside\",\n\t\"48\": \"Calumet Heights\",\n\t\"49\": \"Roseland\",\n\t\"50\": \"Pullman\",\n\t\"51\": \"South Deering\",\n\t\"52\": \"East Side\",\n\t\"53\": \"West Pullman\",\n\t\"54\": \"Riverdale\",\n\t\"55\": \"Hegewisch\",\n\t\"56\": \"Garfield Ridge\",\n\t\"57\": \"Archer Heights\",\n\t\"58\": \"Brighton Park\",\n\t\"59\": \"Mckinley Park\",\n\t\"60\": \"Bridgeport\",\n\t\"61\": \"New City\",\n\t\"62\": \"West Eldson\",\n\t\"63\": \"Gage Park\",\n\t\"64\": \"Clearing\",\n\t\"65\": \"West Lawn\",\n\t\"67\": \"West Englewood\",\n\t\"68\": \"Englewood\",\n\t\"69\": \"Greater Grand Crossing\",\n\t\"70\": \"Ashburn\",\n\t\"71\": \"Auburn Gresham\",\n\t\"72\": \"Beverly\",\n\t\"73\": \"Washington Heights\",\n\t\"74\": \"Mount Greenwood\",\n\t\"75\": \"Morgan Park\",\n\t\"76\": \"O'Hare\",\n\t\"77\": \"Edgewater\"\n};\n\nexports.COMMUNITY_AREAS = COMMUNITY_AREAS;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {\n    apiKey: \"AIzaSyCGWEpvuy4sPR3n5xzwfATLzyMDvwE6tOY\",\n    authDomain: \"illinois-tech-acm.firebaseapp.com\",\n    databaseURL: \"https://illinois-tech-acm.firebaseio.com\",\n    projectId: \"illinois-tech-acm\",\n    storageBucket: \"illinois-tech-acm.appspot.com\",\n    messagingSenderId: \"344533734310\"\n};\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _views = require('./views');\n\nvar _communityareas = require('./communityareas');\n\nvar config = require('./config');\n\nvar views = (0, _views.Views)();\n\nvar FirebaseApp = firebase.initializeApp(config);\nvar db = FirebaseApp.database();\n\nvar GAME = false;\nGAME = localStorage.getItem('acm_lyft_game_key');\nif (!GAME) {\n\tGAME = vex.dialog.prompt({\n\t\tmessage: \"Enter your game key:\",\n\t\tcallback: function callback(gamekey) {\n\t\t\tGAME = gamekey;\n\t\t\tinit();\n\t\t}\n\t});\n} else {\n\tinit();\n}\n\nvar PAGE = '';\nvar USER_ID = false;\nvar USER = {};\nvar IS_ADMIN = false;\nvar SHOW_FINAL_SCORES = false;\n\nvar PINK = '#EA38B9';\nvar PURPLE = '#422E6E';\n\nvar ALPHABET = 'abcdefghijklmnopqrstuvwxyz'.toUpperCase().split('');\nvar COLORS = '#e6194b-#3cb44b-#ffe119-#0082c8-#f58231-#911eb4-#46f0f0-#f032e6-#d2f53c-#fabebe-#008080-#e6beff-#aa6e28-#fffac8-#800000-#aaffc3-#808000-#ffd8b1-#000080-#808080-#000000'.split('-').map(function (hex) {\n\treturn '' + hex;\n}); //.reverse();\n\nfunction getQueryParams(qs) {\n\tqs = qs.split('+').join(' ');\n\tvar params = {},\n\t    tokens,\n\t    re = /[?&]?([^=]+)=([^&]*)/g;\n\twhile (tokens = re.exec(qs)) {\n\t\tparams[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\treturn params;\n}\n\n// https://stackoverflow.com/questions/35803540/how-to-remove-special-characters-from-a-string-using-javascript\nfunction removeSpecialChars(str) {\n\treturn str.replace(/(?!\\w|\\s)./g, '').replace(/\\s+/g, ' ').replace(/^(\\s*)([\\W\\w]*)(\\b\\s*$)/g, '$2');\n}\n\nfunction fillSpans(queryStr, text) {\n\tArray.from(document.querySelectorAll(queryStr)).forEach(function (div) {\n\t\tdiv.innerText = text;\n\t});\n}\n\nfunction getResults(gameid, callback) {\n\tdb.ref('lyft/results/' + gameid).once('value', function (snap) {\n\t\tvar val = snap.val() || {};\n\t\tcallback(val);\n\t});\n}\n\nfunction getTeams(gameid, callback) {\n\tdb.ref('lyft/info/' + gameid).once('value', function (snap) {\n\t\tvar val = snap.val() || {};\n\t\tcallback(val);\n\t});\n}\n\nfunction getTeamData(res, info) {\n\tvar inMap = res || {};\n\tvar sims = Object.keys(inMap).map(function (key) {\n\t\treturn res[key];\n\t}).sort(function (a, b) {\n\t\treturn a.start - b.start;\n\t});\n\tvar time = [];\n\tvar map = {};\n\tif (sims.length > 0) {\n\t\tvar first = sims[0];\n\t\tvar counter = 0;\n\t\tfor (var teamid in first.data) {\n\t\t\tif (!(teamid in map)) {\n\t\t\t\tmap[teamid] = {\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tteamid: teamid,\n\t\t\t\t\t\tname: 'Untitled Team ' + ALPHABET[counter] + ' (' + teamid + ')'\n\t\t\t\t\t},\n\t\t\t\t\trevenue: [],\n\t\t\t\t\ttrips: [],\n\t\t\t\t\tzones: []\n\t\t\t\t};\n\t\t\t\tif (teamid in info) {\n\t\t\t\t\tmap[teamid].info = info[teamid];\n\t\t\t\t\tmap[teamid].info.teamid = teamid;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcounter++;\n\t\t}\n\t\tsims.forEach(function (sim) {\n\t\t\ttime.push(sim.start);\n\t\t\tfor (var _teamid in sim.data) {\n\t\t\t\tif (_teamid in map) {\n\t\t\t\t\tvar step = sim.data[_teamid];\n\t\t\t\t\tmap[_teamid].trips.push(step.trips);\n\t\t\t\t\tvar inRev = step.revenue;\n\t\t\t\t\tvar rev = {\n\t\t\t\t\t\tlyft: parseFloat(inRev.lyft),\n\t\t\t\t\t\ttaxi: parseFloat(inRev.taxi)\n\t\t\t\t\t};\n\t\t\t\t\tmap[_teamid].revenue.push(rev);\n\t\t\t\t\tvar zoneMap = step.zones || {};\n\t\t\t\t\tfor (var zid in zoneMap) {\n\t\t\t\t\t\tvar zc = parseFloat(zoneMap[zid].cost + '');\n\t\t\t\t\t\tzoneMap[zid].cost = zc;\n\t\t\t\t\t}\n\t\t\t\t\tmap[_teamid].zones.push(zoneMap);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tfor (var _teamid2 in info) {\n\t\tif (!(_teamid2 in map)) {\n\t\t\tvar teamInfo = info[_teamid2];\n\t\t\tteamInfo.teamid = _teamid2;\n\t\t\tmap[_teamid2] = {\n\t\t\t\tinfo: teamInfo,\n\t\t\t\trevenue: [],\n\t\t\t\ttrips: [],\n\t\t\t\tzones: []\n\t\t\t};\n\t\t}\n\t}\n\treturn {\n\t\ttime: time,\n\t\tmap: map\n\t};\n}\n\nfunction getTeamScore(data) {\n\tvar totalRev = data.revenue.reduce(function (sum, val) {\n\t\treturn sum + val.lyft;\n\t}, 0);\n\tvar totalTrips = data.trips.reduce(function (sum, val) {\n\t\treturn sum + val.lyft;\n\t}, 0);\n\tvar totalLoss = data.zones.reduce(function (sum, map) {\n\t\tvar loss = 0;\n\t\tfor (var zid in map) {\n\t\t\tvar cost = map[zid].cost;\n\t\t\tloss += cost;\n\t\t}\n\t\treturn sum + loss;\n\t}, 0);\n\treturn {\n\t\trevenue: totalRev,\n\t\ttrips: totalTrips,\n\t\tloss: totalLoss,\n\t\tnet: totalRev - totalLoss\n\t};\n}\n\nfunction mainResults(time, map, showFinal) {\n\tvar datasets = [];\n\tvar i = 0;\n\n\tvar _loop = function _loop(teamid) {\n\t\tvar line = [];\n\t\tvar total = 0;\n\t\tmap[teamid].revenue.forEach(function (step, idx) {\n\t\t\ttotal += step.lyft;\n\t\t\tif (showFinal) {\n\t\t\t\tfor (var zid in map[teamid].zones[idx]) {\n\t\t\t\t\tvar losses = map[teamid].zones[idx][zid].cost;\n\t\t\t\t\ttotal -= losses;\n\t\t\t\t}\n\t\t\t}\n\t\t\tline.push({\n\t\t\t\tx: time[idx],\n\t\t\t\ty: total\n\t\t\t});\n\t\t});\n\t\tdatasets.push({\n\t\t\tlabel: map[teamid].info.name,\n\t\t\tborderColor: COLORS[i],\n\t\t\tfill: false,\n\t\t\tcubicInterpolationMode: 'monotone',\n\t\t\tdata: line\n\t\t});\n\t\ti++;\n\t};\n\n\tfor (var teamid in map) {\n\t\t_loop(teamid);\n\t}\n\tvar ctx = document.getElementById('plot1').getContext('2d');\n\tvar chart = new Chart(ctx, {\n\t\ttype: 'line',\n\t\tdata: {\n\t\t\tdatasets: datasets\n\t\t},\n\t\toptions: {\n\t\t\tresponsive: false,\n\t\t\tmaintainAspectRatio: true,\n\t\t\tlegend: {\n\t\t\t\tposition: 'right',\n\t\t\t\t// https://github.com/chartjs/Chart.js/issues/4212\n\t\t\t\tlabels: {\n\t\t\t\t\tboxWidth: 40,\n\t\t\t\t\tpadding: 10,\n\t\t\t\t\tgenerateLabels: function generateLabels(chart) {\n\t\t\t\t\t\tvar data = chart.data;\n\t\t\t\t\t\treturn data.datasets.map(function (dataset, j) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttext: dataset.label,\n\t\t\t\t\t\t\t\tfillStyle: COLORS[j],\n\t\t\t\t\t\t\t\thidden: !chart.isDatasetVisible(j),\n\t\t\t\t\t\t\t\tlineCap: dataset.borderCapStyle,\n\t\t\t\t\t\t\t\tlineDash: dataset.borderDash,\n\t\t\t\t\t\t\t\tlineDashOffset: dataset.borderDashOffset,\n\t\t\t\t\t\t\t\tlineJoin: dataset.borderJoinStyle,\n\t\t\t\t\t\t\t\tlineWidth: dataset.borderWidth,\n\t\t\t\t\t\t\t\tstrokeStyle: dataset.borderColor,\n\t\t\t\t\t\t\t\tpointStyle: dataset.pointStyle,\n\t\t\t\t\t\t\t\t// Below is extra data used for toggling the datasets\n\t\t\t\t\t\t\t\tdatasetIndex: j\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\tdisplay: true,\n\t\t\t\ttext: 'Revenue over Time'\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\txAxes: [{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: 'Time'\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tcallback: function callback(ts) {\n\t\t\t\t\t\t\treturn moment(ts).format('M/D');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\tyAxes: [{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: 'Revenue ($)'\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tcallback: function callback(rev) {\n\t\t\t\t\t\t\treturn '$' + rev.toFixed(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t},\n\t\t\telements: {\n\t\t\t\tpoint: {\n\t\t\t\t\tradius: 0\n\t\t\t\t}\n\t\t\t},\n\t\t\tmultiTooltipTemplate: '<%%=datasetLabel%>: $<%%=value%>'\n\t\t}\n\t});\n}\n\nfunction getTeamRankList(map, useFinalRanking) {\n\tvar list = [];\n\tfor (var teamid in map) {\n\t\tvar _score = getTeamScore(map[teamid]);\n\t\tlist.push({\n\t\t\tinfo: map[teamid].info,\n\t\t\tscore: _score\n\t\t});\n\t}\n\tvar sorted = list.map(function (t) {\n\t\tif (useFinalRanking) {\n\t\t\tt.finalScore = t.score.net;\n\t\t} else {\n\t\t\tt.finalScore = t.score.revenue;\n\t\t}\n\t\treturn t;\n\t}).sort(function (a, b) {\n\t\treturn b.finalScore - a.finalScore;\n\t});\n\tvar rank = 0;\n\tvar score = Infinity;\n\tsorted.forEach(function (team) {\n\t\tif (team.finalScore < score) {\n\t\t\tscore = team.finalScore;\n\t\t\trank++;\n\t\t}\n\t\tteam.rank = rank;\n\t});\n\treturn sorted;\n}\n\nfunction mainLeaderboard(time, map) {\n\tvar list = getTeamRankList(map, SHOW_FINAL_SCORES);\n\tvar view = views.getLeaderboard({\n\t\tlist: list,\n\t\tshowFinal: SHOW_FINAL_SCORES\n\t});\n\tdocument.getElementById('leaderboard').innerHTML = '';\n\tdocument.getElementById('leaderboard').appendChild(view);\n}\n\nfunction inviteTeammate(teammateEmail, teamid) {\n\treturn new Promise(function (resolve, reject) {\n\t\tif (teammateEmail) {\n\t\t\tif (teammateEmail.indexOf('@') > -1) {\n\t\t\t\tvar emailid = removeSpecialChars(teammateEmail);\n\t\t\t\tconsole.log('Invite ' + emailid + ' to ' + teamid);\n\t\t\t\tif (emailid && teamid) {\n\t\t\t\t\tdb.ref('lyft/assignments/' + GAME + '/' + emailid).set({\n\t\t\t\t\t\tteamid: teamid,\n\t\t\t\t\t\temail: teammateEmail\n\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tsuccess: true,\n\t\t\t\t\t\t\temail: teammateEmail\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treject('Please enter a valid email address.');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treject('Please enter a valid email address.');\n\t\t\t}\n\t\t} else {\n\t\t\treject('Please enter a valid email address.');\n\t\t}\n\t});\n}\n\nfunction mainTeam(teamid, team) {\n\n\tconsole.log('in here', teamid, team);\n\n\tif (teamid && team) {\n\n\t\tvar reset = views.getTeamManagement();\n\t\tdocument.getElementById('team-management').innerHTML = reset.innerHTML;\n\n\t\tdocument.getElementById('team-space').classList.remove('is-hidden');\n\t\tdocument.getElementById('no-team-space').classList.add('is-hidden');\n\n\t\tvar teamSecretField = document.getElementById('team-secret');\n\t\tvar teamSecretButton = document.getElementById('show-team-secret');\n\t\tteamSecretField.value = teamid;\n\n\t\tteamSecretButton.addEventListener('click', function (e) {\n\t\t\tif (teamSecretField.type === 'password') {\n\t\t\t\tteamSecretField.type = 'text';\n\t\t\t\tteamSecretButton.innerText = 'Hide';\n\t\t\t\tteamSecretButton.classList.remove('is-danger');\n\t\t\t\tteamSecretButton.classList.add('is-success');\n\t\t\t} else {\n\t\t\t\tteamSecretField.type = 'password';\n\t\t\t\tteamSecretButton.innerText = 'Show';\n\t\t\t\tteamSecretButton.classList.remove('is-success');\n\t\t\t\tteamSecretButton.classList.add('is-danger');\n\t\t\t}\n\t\t});\n\n\t\tvar teamInviteField = document.getElementById('teammate-email');\n\t\tvar teamInviteButton = document.getElementById('invite-teammate');\n\n\t\tteamInviteButton.addEventListener('click', function (e) {\n\t\t\tteamInviteButton.classList.add('is-loading');\n\t\t\tinviteTeammate(teamInviteField.value, teamid).then(function (done) {\n\t\t\t\tvex.dialog.alert('Invited ' + teamInviteField.value + ' to ' + team.info.name + '.');\n\t\t\t\tteamInviteButton.classList.remove('is-loading');\n\t\t\t\tmainTeam(teamid, team);\n\t\t\t}).catch(function (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t\tvex.dialog.alert(error + '');\n\t\t\t\tteamInviteButton.classList.remove('is-loading');\n\t\t\t});\n\t\t});\n\n\t\tdb.ref('lyft/assignments/' + GAME).orderByChild('teamid').equalTo(teamid).once('value', function (snap) {\n\t\t\tvar nodes = snap.val() || {};\n\t\t\tvar ul = document.getElementById('teammates-list');\n\t\t\tul.innerHTML = '';\n\t\t\tif (Object.keys(nodes).length > 0) {\n\t\t\t\tfor (var nid in nodes) {\n\t\t\t\t\tul.innerHTML += '<li>' + nodes[nid].email + '</li>';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tul.innerHTML += '<li>No teammates yet.</li>';\n\t\t\t}\n\t\t});\n\n\t\tvar teamNameField = document.getElementById('team-name');\n\t\tvar teamNameButton = document.getElementById('update-team-name');\n\t\tteamNameField.value = team.info.name;\n\t\tfillSpans('.fill-team-name', team.info.name);\n\n\t\tteamNameButton.addEventListener('click', function (e) {\n\t\t\tdb.ref('lyft/info/' + GAME + '/' + teamid + '/name').set(teamNameField.value).then(function (done) {\n\t\t\t\twindow.location.reload();\n\t\t\t}).catch(console.error);\n\t\t});\n\n\t\tvar pricingHolder = document.getElementById('holder-pricing');\n\t\tvar zonesHolder = document.getElementById('holder-zones');\n\n\t\tpricingHolder.innerHTML = '';\n\t\tzonesHolder.innerHTML = '';\n\t\tdb.ref('lyft/teams/' + GAME + '/' + teamid).on('value', function (snap) {\n\t\t\tdb.ref('lyft/learnings/' + GAME + '/' + teamid).on('value', function (learnSnap) {\n\t\t\t\tvar learnVal = learnSnap.val() || {};\n\t\t\t\tvar val = snap.val() || {};\n\t\t\t\tpricingHolder.innerHTML = '';\n\t\t\t\tzonesHolder.innerHTML = '';\n\n\t\t\t\tif (!val.pricing) {\n\t\t\t\t\tval.pricing = {};\n\t\t\t\t}\n\n\t\t\t\tif (!val.zones) {\n\t\t\t\t\tval.zones = {};\n\t\t\t\t}\n\n\t\t\t\tvar learnPricing = learnVal.pricing || {};\n\t\t\t\tfor (var tkey in learnPricing) {\n\t\t\t\t\tif (tkey in val.pricing) {\n\t\t\t\t\t\tval.pricing[tkey].note = learnPricing[tkey].note;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar learnZones = learnVal.zones || {};\n\t\t\t\tfor (var _tkey in learnZones) {\n\t\t\t\t\tif (_tkey in val.zones) {\n\t\t\t\t\t\tval.zones[_tkey].note = learnZones[_tkey].note;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar pView = views.getPricingCards(val);\n\t\t\t\tpricingHolder.appendChild(pView);\n\n\t\t\t\tval.community = _communityareas.COMMUNITY_AREAS;\n\t\t\t\tvar zView = views.getZonesCards(val);\n\t\t\t\tzonesHolder.appendChild(zView);\n\n\t\t\t\tArray.from(pricingHolder.querySelectorAll('.button[data-tkey]')).forEach(function (btn) {\n\t\t\t\t\tbtn.addEventListener('click', function (e) {\n\t\t\t\t\t\tvar tkey = btn.dataset.tkey;\n\t\t\t\t\t\tvar form = pricingHolder.querySelector('.textarea[data-tkey=\"' + tkey + '\"]');\n\t\t\t\t\t\tconsole.log(teamid, tkey, form.value);\n\t\t\t\t\t\tif (form.value) {\n\t\t\t\t\t\t\tbtn.classList.add('is-loading');\n\t\t\t\t\t\t\tdb.ref('lyft/learnings/' + GAME + '/' + teamid + '/pricing/' + tkey).set({\n\t\t\t\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\t\t\t\tnote: form.value\n\t\t\t\t\t\t\t}).then(function (complete) {\n\t\t\t\t\t\t\t\tbtn.classList.remove('is-loading');\n\t\t\t\t\t\t\t\tvex.dialog.alert('Reflection saved successfully!');\n\t\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\t\tvex.dialog.alert('Error: ' + err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tArray.from(zonesHolder.querySelectorAll('.button[data-tkey]')).forEach(function (btn) {\n\t\t\t\t\tbtn.addEventListener('click', function (e) {\n\t\t\t\t\t\tvar tkey = btn.dataset.tkey;\n\t\t\t\t\t\tvar form = zonesHolder.querySelector('.textarea[data-tkey=\"' + tkey + '\"]');\n\t\t\t\t\t\tconsole.log(teamid, tkey, form.value);\n\t\t\t\t\t\tif (form.value) {\n\t\t\t\t\t\t\tbtn.classList.add('is-loading');\n\t\t\t\t\t\t\tdb.ref('lyft/learnings/' + GAME + '/' + teamid + '/zones/' + tkey).set({\n\t\t\t\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\t\t\t\tnote: form.value\n\t\t\t\t\t\t\t}).then(function (complete) {\n\t\t\t\t\t\t\t\tbtn.classList.remove('is-loading');\n\t\t\t\t\t\t\t\tvex.dialog.alert('Reflection saved successfully!');\n\t\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\t\tvex.dialog.alert('Error: ' + err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t} else {\n\t\tconsole.error('Cannot access team: ', teamid, team);\n\t}\n}\n\nfunction showTeam(teamid, inData) {\n\tvar data = inData || getGameData();\n\tif (!data) {\n\t\tconsole.error('No game data available');\n\t}\n\tvar team = { revenue: [], trips: [], info: { name: 'No Team' } };\n\tif (teamid) {\n\t\tconsole.log('Your team is: ' + teamid);\n\t\tteam = data.map[teamid];\n\t} else {\n\t\tconsole.log('You do not have a team.');\n\t}\n\tmainTeam(teamid, team);\n}\n\nfunction mainAdmin() {\n\n\tvar data = getGameData();\n\tvar list = getTeamRankList(data.map, true);\n\tvar teamTable = document.getElementById('all-teams-table');\n\tteamTable.innerHTML = '';\n\tvar table = views.getLeaderboard({\n\t\tlist: list,\n\t\tadmin: true,\n\t\tshowFinal: true\n\t});\n\tteamTable.appendChild(table);\n\n\tvar addTeamButton = document.getElementById('admin-add-team');\n\taddTeamButton.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Team Name',\n\t\t\tcallback: function callback(teamName) {\n\t\t\t\tif (teamName) {\n\t\t\t\t\tdb.ref('lyft/info/' + GAME).push({\n\t\t\t\t\t\tname: teamName\n\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tvar addAdminButton = document.getElementById('admin-add-admin');\n\taddAdminButton.addEventListener('click', function (e) {\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Enter an email address:',\n\t\t\tcallback: function callback(email) {\n\t\t\t\tif (email) {\n\t\t\t\t\tvar emailid = removeSpecialChars(email);\n\t\t\t\t\tif (email.indexOf('@') > -1 && emailid) {\n\t\t\t\t\t\tdb.ref('lyft/admin/' + GAME + '/' + emailid).set({\n\t\t\t\t\t\t\tlevel: true,\n\t\t\t\t\t\t\temail: email\n\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\tvex.dialog.alert('Invited ' + email + ' as an admin.');\n\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\tvex.dialog.alert('Error: ' + err);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvex.dialog.alert('Please enter a valid email address.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tvar exportTeamsButton = document.getElementById('admin-export-teams');\n\texportTeamsButton.addEventListener('click', function (e) {\n\t\tvar data = getGameData() || {};\n\t\tvar out = [];\n\t\tfor (var tid in data.map) {\n\t\t\tout.push(tid);\n\t\t}\n\t\tvex.dialog.prompt({\n\t\t\tmessage: 'Exported ' + out.length + ' team secrets:',\n\t\t\tvalue: out.join(','),\n\t\t\tcallback: function callback() {}\n\t\t});\n\t});\n\n\tvar toggleFinalButton = document.getElementById('admin-toggle-final');\n\ttoggleFinalButton.addEventListener('click', function (e) {\n\t\tdb.ref('lyft/mode/' + GAME).once('value', function (gs) {\n\t\t\tvar val = gs.val() || {};\n\t\t\tvar currMode = val.final || false;\n\t\t\tvar newMode = !currMode;\n\t\t\tdb.ref('lyft/mode/' + GAME + '/final').set(newMode);\n\t\t});\n\t});\n}\n\nfunction showPage(pageid) {\n\tPAGE = pageid === 'loading' ? PAGE : pageid;\n\t// Tabs\n\tvar currentTab = document.querySelector('li[data-page].is-active');\n\tif (currentTab) {\n\t\tcurrentTab.classList.remove('is-active');\n\t}\n\tvar newTab = document.querySelector('li[data-page=\"' + pageid + '\"]');\n\tif (newTab) {\n\t\tnewTab.classList.add('is-active');\n\t}\n\t// Sections\n\tArray.from(document.querySelectorAll('section[data-page]')).forEach(function (page) {\n\t\tpage.classList.add('is-hidden');\n\t});\n\tvar newPage = document.querySelector('section[data-page=\"' + pageid + '\"]');\n\tif (newPage) {\n\t\tnewPage.classList.remove('is-hidden');\n\t}\n}\n\nfunction getTeamByEmail(email) {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar emailid = removeSpecialChars(email);\n\t\tdb.ref('lyft/assignments/' + GAME + '/' + emailid).once('value', function (snap) {\n\t\t\tvar node = snap.val();\n\t\t\tif (node) {\n\t\t\t\tresolve(node.teamid);\n\t\t\t} else {\n\t\t\t\tresolve(false);\n\t\t\t}\n\t\t}).catch(reject);\n\t});\n}\n\nfunction login() {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar provider = new firebase.auth.GoogleAuthProvider();\n\t\tfirebase.auth().signInWithRedirect(provider).then(function (data) {\n\t\t\tvar user = data.user;\n\t\t\tconsole.log(user);\n\t\t}).catch(reject);\n\t});\n}\n\nvar SHOW_TEAM_ID = false;\n\nvar routes = {\n\n\t'/': function _() {\n\t\tconsole.log('landing');\n\t\tshowPage('landing');\n\t},\n\n\t'/results': function results() {\n\t\tconsole.log('results');\n\t\tshowPage('results');\n\t},\n\n\t'/leaderboard': function leaderboard() {\n\t\tconsole.log('leaderboard');\n\t\tshowPage('leaderboard');\n\t},\n\n\t'/search': function search() {\n\t\tconsole.log('search');\n\t\tshowPage('search');\n\t},\n\n\t'/team': function team() {\n\t\tconsole.log('team');\n\t\tshowPage('team');\n\t},\n\n\t'/team/:teamid': function teamTeamid(teamid) {\n\t\tconsole.log('team/' + teamid);\n\t\tSHOW_TEAM_ID = teamid;\n\t\tif (IS_ADMIN) {\n\t\t\tshowTeam(teamid);\n\t\t}\n\t\tshowPage('team');\n\t},\n\n\t'/delete/:teamid': function deleteTeamid(teamid) {\n\t\tconsole.log('delete/' + teamid);\n\t\tif (IS_ADMIN) {\n\t\t\tvex.dialog.confirm({\n\t\t\t\tmessage: 'Are you sure you want to delete {' + teamid + '}?',\n\t\t\t\tcallback: function callback(yes) {\n\t\t\t\t\tif (yes) {\n\t\t\t\t\t\tdb.ref('lyft/info/' + GAME + '/' + teamid).remove();\n\t\t\t\t\t\tdb.ref('lyft/results/' + GAME + '/' + teamid).remove();\n\t\t\t\t\t\tdb.ref('lyft/teams/' + GAME + '/' + teamid).remove();\n\t\t\t\t\t\tdb.ref('lyft/assignments/' + GAME).orderByChild('teamid').equalTo(teamid).once('value', function (snap) {\n\t\t\t\t\t\t\tvar nodes = snap.val() || {};\n\t\t\t\t\t\t\tfor (var nid in nodes) {\n\t\t\t\t\t\t\t\tdb.ref('lyft/assignments/' + GAME + '/' + nid).remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tshowPage('results');\n\t\t}\n\t},\n\n\t'/admin': function admin() {\n\t\tconsole.log('admin');\n\t\tshowPage('admin');\n\t}\n\n};\n\nvar router = Router(routes);\nrouter.init();\nshowPage('loading');\n\nArray.from(document.querySelectorAll('.signout')).forEach(function (btn) {\n\tbtn.addEventListener('click', function (e) {\n\t\tfirebase.auth().signOut();\n\t\tlocalStorage.removeItem('acm_lyft_game_key');\n\t});\n});\n\nvar gameData = {};\n\nfunction getGameData() {\n\treturn gameData;\n}\n\nfunction checkAdmin() {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar emailid = removeSpecialChars(USER.email);\n\t\tdb.ref('lyft/admin/' + GAME + '/' + emailid).once('value', function (snap) {\n\t\t\tvar val = snap.val();\n\t\t\tif (val) {\n\t\t\t\tIS_ADMIN = true;\n\t\t\t\tdocument.querySelector('[data-page=\"admin\"]').classList.remove('is-hidden');\n\t\t\t\tresolve(true);\n\t\t\t} else {\n\t\t\t\tresolve(false);\n\t\t\t}\n\t\t}).catch(resolve);\n\t});\n}\n\nfunction main() {\n\n\tcheckAdmin().then(function () {\n\t\tgetResults(GAME, function (res) {\n\t\t\tgetTeams(GAME, function (teamInfo) {\n\t\t\t\tvar data = getTeamData(res, teamInfo);\n\t\t\t\tconsole.log(data);\n\t\t\t\tgameData = data;\n\n\t\t\t\ttry {\n\t\t\t\t\tdb.ref('lyft/mode/' + GAME).on('value', function (gs) {\n\t\t\t\t\t\tvar mode = gs.val() || {};\n\t\t\t\t\t\tSHOW_FINAL_SCORES = mode.final || false;\n\t\t\t\t\t\tmainResults(data.time, data.map, SHOW_FINAL_SCORES);\n\t\t\t\t\t\tmainLeaderboard(data.time, data.map);\n\t\t\t\t\t});\n\t\t\t\t} catch (err) {\n\t\t\t\t\tvex.dialog.alert('Error: ' + err);\n\t\t\t\t}\n\n\t\t\t\tmainAdmin();\n\t\t\t\tif (!IS_ADMIN) {\n\t\t\t\t\tgetTeamByEmail(USER.email).then(function (teamid) {\n\t\t\t\t\t\tshowTeam(teamid, data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (SHOW_TEAM_ID) {\n\t\t\t\t\tshowTeam(SHOW_TEAM_ID);\n\t\t\t\t}\n\t\t\t\t// console.log(`showPage(PAGE) = showPage(${PAGE})`);\n\t\t\t\t// showPage(PAGE);\n\t\t\t\tArray.from(document.querySelectorAll('.show-game-key')).forEach(function (span) {\n\t\t\t\t\tspan.innerText = GAME;\n\t\t\t\t});\n\t\t\t\tshowPage('landing');\n\t\t\t\t// const DOCS_URL = `https://raw.githubusercontent.com/acmillinoistech/lyftserver/master/README.md`;\n\t\t\t\t// $.get().then((res) => {\n\t\t\t\t// \tconsole.log(\"Got it.\");\n\t\t\t\t// });\n\t\t\t});\n\t\t});\n\t});\n\n\tdb.ref('lyft/time/' + GAME + '/time').on('value', function (snap) {\n\t\tvar ts = snap.val();\n\t\tArray.from(document.querySelectorAll(\".sim-time\")).forEach(function (span) {\n\t\t\tspan.innerText = 'Today is ' + moment(ts).format('M/D/YYYY') + ' in simulation time.';\n\t\t});\n\t});\n}\n\nfunction init() {\n\n\tif (GAME) {\n\t\tlocalStorage.setItem('acm_lyft_game_key', GAME);\n\t\tfirebase.auth().onAuthStateChanged(function (user) {\n\t\t\tif (user) {\n\t\t\t\tUSER_ID = user.uid;\n\t\t\t\tUSER = user;\n\t\t\t\tdb.ref('lyft/admin/' + GAME).once('value', function (snap) {\n\t\t\t\t\tvar val = snap.val();\n\t\t\t\t\tif (val) {\n\t\t\t\t\t\tmain();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvex.dialog.confirm({\n\t\t\t\t\t\t\tmessage: 'Do you want to start a new game with the code {' + GAME + '}?',\n\t\t\t\t\t\t\tcallback: function callback(yes) {\n\t\t\t\t\t\t\t\tif (yes) {\n\t\t\t\t\t\t\t\t\tvar emailid = removeSpecialChars(USER.email);\n\t\t\t\t\t\t\t\t\tdb.ref('lyft/admin/' + GAME + '/' + emailid).set({\n\t\t\t\t\t\t\t\t\t\tlevel: true,\n\t\t\t\t\t\t\t\t\t\temail: USER.email\n\t\t\t\t\t\t\t\t\t}).then(function (done) {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}).catch(console.error);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('acm_lyft_game_key');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlogin();\n\t\t\t}\n\t\t});\n\t} else {\n\t\tvex.dialog.alert('Please reload the page and enter a valid game key.');\n\t}\n}\n\n},{\"./communityareas\":1,\"./config\":2,\"./views\":4}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n// https://stackoverflow.com/questions/149055/how-can-i-format-numbers-as-dollars-currency-string-in-javascript\nNumber.prototype.formatMoney = function (c, d, t) {\n\tvar n = this,\n\t    c = isNaN(c = Math.abs(c)) ? 2 : c,\n\t    d = d == undefined ? \".\" : d,\n\t    t = t == undefined ? \",\" : t,\n\t    s = n < 0 ? \"-\" : \"\",\n\t    i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\n\t    j = (j = i.length) > 3 ? j % 3 : 0;\n\treturn s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\n};\n\nfunction getMoneyStyleStr(ratio) {\n\tvar opac = 0.95 * ratio + 0.05;\n\tvar styleStr = \"background-color: rgba(35, 209, 96, \" + opac.toFixed(3) + \")\";\n\treturn styleStr;\n}\n\nvar Views = function Views() {\n\n\tvar views = {\n\n\t\t/*getLeaderboard: (model) => {\n  \tlet html = ``;\n  \tif (model.list.length > 0) {\n  \t\tlet maxRev = model.list[0].score.revenue;\n  \t\thtml += `\n  \t\t\t<table class=\"is-fullwidth\">\n  \t\t\t\t<thead>\n  \t\t\t\t\t<tr>\n  \t\t\t\t\t\t<th>Rank</th>\n  \t\t\t\t\t\t<th>Team</th>\n  \t\t\t\t\t\t<th>Net Revenue</th>\n  \t\t\t\t\t\t<th>Gross Revenue</th>\n  \t\t\t\t\t\t<th>Trips</th>\n  \t\t\t\t\t</tr>\n  \t\t\t\t</thead>\n  \t\t\t\t<tbody>\n  \t\t`;\n  \t\tmodel.list.forEach((team) => {\n  \t\t\tlet revRatio = team.score.revenue / maxRev;\n  \t\t\tlet opac = (0.95 * revRatio) + 0.05;\n  \t\t\tlet styleStr = `background-color: rgba(35, 209, 96, ${opac.toFixed(3)})`;\n  \t\t\tlet spanHTML = '';\n  \t\t\tif (team.rank === 1) {\n  \t\t\t\tspanHTML = `\n  \t\t\t\t\t<span class=\"icon\">\n  \t\t\t\t\t\t<i class=\"icon fa fa-trophy\"></i>\n  \t\t\t\t\t</span>\n  \t\t\t\t`;\n  \t\t\t}\n  \t\t\thtml += `\n  \t\t\t\t\t<tr>\n  \t\t\t\t\t\t<td><span>${team.rank}</span>${spanHTML}</td>\n  \t\t\t\t\t\t<td>${team.info.name}</td>\n  \t\t\t\t\t\t<td>???</td>\n  \t\t\t\t\t\t<td style=\"${styleStr}\">$${team.score.revenue.formatMoney(2)}</td>\n  \t\t\t\t\t\t<td>${team.score.trips}</td>\n  \t\t\t\t\t</tr>\n  \t\t\t`;\n  \t\t});\n  \t\thtml += `\n  \t\t\t\t</tbody>\n  \t\t\t</table>\n  \t\t`;\n  \t} else {\n  \t\thtml += `\n  \t\t\t<p>There are no teams in this game yet.</p>\n  \t\t`;\n  \t}\n  \tlet div = document.createElement('div');\n  \t\tdiv.innerHTML = html;\n  \t\tdiv.classList.add('table-holder');\n  \treturn div;\n  },*/\n\n\t\tgetPricingCards: function getPricingCards(model) {\n\t\t\tvar html = \"\";\n\t\t\tvar list = Object.keys(model.pricing).map(function (tkey) {\n\t\t\t\tvar entry = model.pricing[tkey];\n\t\t\t\tentry.tkey = tkey;\n\t\t\t\treturn entry;\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn b.in_effect - a.in_effect;\n\t\t\t});\n\t\t\tif (list.length > 0) {\n\t\t\t\tlist.forEach(function (step) {\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-content\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h5 class=\\\"title is-5\\\">Week of \" + moment(step.in_effect).format('M/D/YYYY') + \"</h5>\\n\\t\\t\\t\\t\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Category</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Cost</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Base</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>$\" + step.base.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Pickup</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>$\" + step.pickup.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Per Mile</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>$\" + step.per_mile.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Per Minute</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>$\" + step.per_minute.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t\\t<h5 class=\\\"title is-5\\\">Reflection</h5>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\tif (step.note) {\n\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<textarea class=\\\"textarea\\\" data-tkey=\\\"\" + step.tkey + \"\\\">\" + step.note + \"</textarea>\\n\\t\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<textarea class=\\\"textarea\\\" data-tkey=\\\"\" + step.tkey + \"\\\" placeholder=\\\"Why did you choose these prices?\\\"></textarea>\\n\\t\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-tkey=\\\"\" + step.tkey + \"\\\" class=\\\"button is-primary\\\">Save</button>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<!--<footer class=\\\"card-footer\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Save</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Edit</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Delete</a>\\n\\t\\t\\t\\t\\t\\t\\t</footer>-->\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<div class=\\\"notification is-primary\\\">\\n\\t\\t\\t\\t\\t\\t<h2 class=\\\"title is-3\\\">No trip costs set.</h2>\\n\\t\\t\\t\\t\\t\\t<p class=\\\"subtitle is-6\\\">Make a POST request to the /pricing endpoint.</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\";\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\tgetZonesCards: function getZonesCards(model) {\n\t\t\tvar html = \"\";\n\t\t\tvar list = Object.keys(model.zones).map(function (tkey) {\n\t\t\t\tvar entry = model.zones[tkey];\n\t\t\t\tentry.tkey = tkey;\n\t\t\t\treturn entry;\n\t\t\t}).sort(function (a, b) {\n\t\t\t\treturn b.in_effect - a.in_effect;\n\t\t\t});\n\t\t\tif (list.length > 0) {\n\t\t\t\tlist.forEach(function (step) {\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t\\t\\t<header class=\\\"card-header\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"card-header-title\\\">Week of \" + moment(step.in_effect).format('M/D/YYYY') + \"</p>\\n\\t\\t\\t\\t\\t\\t\\t</header>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-content\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<table>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Zone</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>Community Area</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t\tfor (var zid in step) {\n\t\t\t\t\t\tif (zid !== 'in_effect' && zid !== 'tkey' && zid !== 'note') {\n\t\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>Zone \" + zid + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\" + model.community[zid] + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t\\t<h5 class=\\\"title is-5\\\">Reflection</h5>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\tif (step.note) {\n\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<textarea class=\\\"textarea\\\" data-tkey=\\\"\" + step.tkey + \"\\\">\" + step.note + \"</textarea>\\n\\t\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<textarea class=\\\"textarea\\\" data-tkey=\\\"\" + step.tkey + \"\\\" placeholder=\\\"Why did you choose these zones?\\\"></textarea>\\n\\t\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<button data-tkey=\\\"\" + step.tkey + \"\\\" class=\\\"button is-primary\\\">Save</button>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<!--<footer class=\\\"card-footer\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Save</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Edit</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"card-footer-item\\\">Delete</a>\\n\\t\\t\\t\\t\\t\\t\\t</footer>-->\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<div class=\\\"notification is-primary\\\">\\n\\t\\t\\t\\t\\t\\t<h2 class=\\\"title is-3\\\">No power zones set.</h2>\\n\\t\\t\\t\\t\\t\\t<p class=\\\"subtitle is-6\\\">Make a POST request to the /zones endpoint.</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\";\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t},\n\n\t\t//getAdminTeamTable: (model) => {\n\t\tgetLeaderboard: function getLeaderboard(model) {\n\t\t\tvar html = \"\";\n\t\t\tif (model.list.length > 0) {\n\t\t\t\tvar maxRev = model.list[0].score.revenue;\n\t\t\t\tvar maxNet = model.list[0].score.net;\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<table class=\\\"is-fullwidth\\\">\\n\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Rank</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Team</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Net Revenue</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Gross Revenue</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Trips</th>\\n\\t\\t\\t\\t\";\n\t\t\t\tif (model.admin) {\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>View</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t<th>Delete</th>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t}\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\";\n\t\t\t\tmodel.list.forEach(function (team) {\n\t\t\t\t\tvar revRatio = team.score.revenue / maxRev;\n\t\t\t\t\tvar netRatio = team.score.net / maxNet;\n\t\t\t\t\tvar spanHTML = '';\n\t\t\t\t\tif (team.rank === 1) {\n\t\t\t\t\t\tspanHTML = \"\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<i class=\\\"icon fa fa-trophy\\\"></i>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><span>\" + team.rank + \"</span>\" + spanHTML + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>\" + team.info.name + \"</td>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t\tif (model.showFinal) {\n\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"\" + getMoneyStyleStr(netRatio) + \"\\\">$\" + team.score.net.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>???</td>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<td style=\\\"\" + getMoneyStyleStr(revRatio) + \"\\\">$\" + team.score.revenue.formatMoney(2) + \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td>\" + team.score.trips + \"</td>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t\tif (model.admin) {\n\t\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><a href=\\\"./#/team/\" + team.info.teamid + \"\\\" class=\\\"button is-primary is-outlined\\\">View</a></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td><a href=\\\"./#/delete/\" + team.info.teamid + \"\\\" class=\\\"button is-danger is-outlined\\\">Delete</a></td>\\n\\t\\t\\t\\t\\t\\t\\t\";\n\t\t\t\t\t}\n\t\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\";\n\t\t\t\t});\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\";\n\t\t\t} else {\n\t\t\t\thtml += \"\\n\\t\\t\\t\\t\\t<p>There are no teams in this game yet.</p>\\n\\t\\t\\t\\t\";\n\t\t\t}\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\tdiv.classList.add('table-holder');\n\t\t\treturn div;\n\t\t},\n\n\t\tgetTeamManagement: function getTeamManagement() {\n\t\t\tvar html = \"\\n\\t\\t\\t\\t<div class=\\\"columns\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"column is-6\\\">\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"title is-4\\\">Team Name</h4>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field has-addons\\\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\\\"team-name\\\" class=\\\"input\\\" type=\\\"text\\\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button id=\\\"update-team-name\\\" class=\\\"button is-success\\\">Update</button>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"title is-4\\\">Team Secret</h4>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field has-addons\\\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\\\"team-secret\\\" class=\\\"input is-static\\\" type=\\\"password\\\" value=\\\"secrettext\\\" readonly>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button id=\\\"show-team-secret\\\" class=\\\"button is-danger\\\">Show</button>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"column is-6\\\">\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"title is-4\\\">Invite Teammate</h4>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field has-addons\\\">\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input id=\\\"teammate-email\\\" class=\\\"input\\\" type=\\\"text\\\">\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button id=\\\"invite-teammate\\\" class=\\\"button is-success\\\">Invite</button>\\n\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"title is-4\\\">Current Teammates</h4>\\n\\t\\t\\t\\t\\t\\t<ul id=\\\"teammates-list\\\"></ul>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\";\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\t\t\treturn div;\n\t\t}\n\n\t};\n\n\treturn views;\n};\n\nexports.Views = Views;\n\n},{}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29tbXVuaXR5YXJlYXMuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL21haW4uanMiLCJzcmMvanMvdmlld3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQ0FBLElBQU0sa0JBQWtCO0FBQ3ZCLE1BQUssYUFEa0I7QUFFdkIsTUFBSyxZQUZrQjtBQUd2QixNQUFLLFFBSGtCO0FBSXZCLE1BQUssZ0JBSmtCO0FBS3ZCLE1BQUssY0FMa0I7QUFNdkIsTUFBSyxXQU5rQjtBQU92QixNQUFLLGNBUGtCO0FBUXZCLE1BQUssaUJBUmtCO0FBU3ZCLE1BQUssYUFUa0I7QUFVdkIsT0FBTSxjQVZpQjtBQVd2QixPQUFNLGdCQVhpQjtBQVl2QixPQUFNLGFBWmlCO0FBYXZCLE9BQU0sWUFiaUI7QUFjdkIsT0FBTSxhQWRpQjtBQWV2QixPQUFNLGNBZmlCO0FBZ0J2QixPQUFNLGFBaEJpQjtBQWlCdkIsT0FBTSxTQWpCaUI7QUFrQnZCLE9BQU0sV0FsQmlCO0FBbUJ2QixPQUFNLGdCQW5CaUI7QUFvQnZCLE9BQU0sU0FwQmlCO0FBcUJ2QixPQUFNLFVBckJpQjtBQXNCdkIsT0FBTSxjQXRCaUI7QUF1QnZCLE9BQU0sZUF2QmlCO0FBd0J2QixPQUFNLFdBeEJpQjtBQXlCdkIsT0FBTSxRQXpCaUI7QUEwQnZCLE9BQU0sb0JBMUJpQjtBQTJCdkIsT0FBTSxvQkEzQmlCO0FBNEJ2QixPQUFNLGdCQTVCaUI7QUE2QnZCLE9BQU0sZ0JBN0JpQjtBQThCdkIsT0FBTSxnQkE5QmlCO0FBK0J2QixPQUFNLGlCQS9CaUI7QUFnQ3ZCLE9BQU0sTUFoQ2lCO0FBaUN2QixPQUFNLGlCQWpDaUI7QUFrQ3ZCLE9BQU0sZUFsQ2lCO0FBbUN2QixPQUFNLFNBbkNpQjtBQW9DdkIsT0FBTSxTQXBDaUI7QUFxQ3ZCLE9BQU0sYUFyQ2lCO0FBc0N2QixPQUFNLGlCQXRDaUI7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LENBQTNCLENBRDlDO0FBR0EsTUFKRCxNQUlPO0FBQ047QUFHQTtBQUNGLGdEQUNnQixpQkFBaUIsUUFBakIsQ0FEaEIsWUFDZ0QsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixXQUFuQixDQUErQixDQUEvQixDQURoRCxtQ0FFUyxLQUFLLEtBQUwsQ0FBVyxLQUZwQjtBQUlDLFNBQUksTUFBTSxLQUFWLEVBQWlCO0FBQ2hCLDREQUN5QixLQUFLLElBQUwsQ0FBVSxNQURuQywyR0FFMkIsS0FBSyxJQUFMLENBQVUsTUFGckM7QUFJQTtBQUNGO0FBR0EsS0F0Q0Q7QUF1Q0E7QUFJQSxJQW5FRCxNQW1FTztBQUNOO0FBR0E7QUFDRCxPQUFJLE1BQU0sU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVY7QUFDQyxPQUFJLFNBQUosR0FBZ0IsSUFBaEI7QUFDQSxPQUFJLFNBQUosQ0FBYyxHQUFkLENBQWtCLGNBQWxCO0FBQ0QsVUFBTyxHQUFQO0FBQ0EsR0E3UlU7O0FBK1JYLHFCQUFtQiw2QkFBTTtBQUN4QixPQUFJLCsvQ0FBSjtBQXFDQSxPQUFJLE1BQU0sU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVY7QUFDQyxPQUFJLFNBQUosR0FBZ0IsSUFBaEI7QUFDRCxVQUFPLEdBQVA7QUFDQTs7QUF4VVUsRUFBWjs7QUE0VUEsUUFBTyxLQUFQO0FBRUEsQ0FoVkQ7O1FBa1ZRLEssR0FBQSxLIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImNvbnN0IENPTU1VTklUWV9BUkVBUyA9IHtcblx0XCIxXCI6IFwiUm9nZXJzIFBhcmtcIixcblx0XCIyXCI6IFwiV2VzdCBSaWRnZVwiLFxuXHRcIjNcIjogXCJVcHRvd25cIixcblx0XCI0XCI6IFwiTGluY29sbiBTcXVhcmVcIixcblx0XCI1XCI6IFwiTm9ydGggQ2VudGVyXCIsXG5cdFwiNlwiOiBcIkxha2UgVmlld1wiLFxuXHRcIjdcIjogXCJMaW5jb2xuIFBhcmtcIixcblx0XCI4XCI6IFwiTmVhciBOb3J0aCBTaWRlXCIsXG5cdFwiOVwiOiBcIkVkaXNvbiBQYXJrXCIsXG5cdFwiMTBcIjogXCJOb3J3b29kIFBhcmtcIixcblx0XCIxMVwiOiBcIkplZmZlcnNvbiBQYXJrXCIsXG5cdFwiMTJcIjogXCJGb3Jlc3QgR2xlblwiLFxuXHRcIjEzXCI6IFwiTm9ydGggUGFya1wiLFxuXHRcIjE0XCI6IFwiQWxiYW55IFBhcmtcIixcblx0XCIxNVwiOiBcIlBvcnRhZ2UgUGFya1wiLFxuXHRcIjE2XCI6IFwiSXJ2aW5nIFBhcmtcIixcblx0XCIxN1wiOiBcIkR1bm5pbmdcIixcblx0XCIxOFwiOiBcIk1vbnRjbGFyZVwiLFxuXHRcIjE5XCI6IFwiQmVsbW9udCBDcmFnaW5cIixcblx0XCIyMFwiOiBcIkhlcm1vc2FcIixcblx0XCIyMVwiOiBcIkF2b25kYWxlXCIsXG5cdFwiMjJcIjogXCJMb2dhbiBTcXVhcmVcIixcblx0XCIyM1wiOiBcIkh1bWJvbGR0IFBhcmtcIixcblx0XCIyNFwiOiBcIldlc3QgVG93blwiLFxuXHRcIjI1XCI6IFwiQXVzdGluXCIsXG5cdFwiMjZcIjogXCJXZXN0IEdhcmZpZWxkIFBhcmtcIixcblx0XCIyN1wiOiBcIkVhc3QgR2FyZmllbGQgUGFya1wiLFxuXHRcIjI4XCI6IFwiTmVhciBXZXN0IFNpZGVcIixcblx0XCIyOVwiOiBcIk5vcnRoIExhd25kYWxlXCIsXG5cdFwiMzBcIjogXCJTb3V0aCBMYXduZGFsZVwiLFxuXHRcIjMxXCI6IFwiTG93ZXIgV2VzdCBTaWRlXCIsXG5cdFwiMzJcIjogXCJMb29wXCIsXG5cdFwiMzNcIjogXCJOZWFyIFNvdXRoIFNpZGVcIixcblx0XCIzNFwiOiBcIkFybW91ciBTcXVhcmVcIixcblx0XCIzNVwiOiBcIkRvdWdsYXNcIixcblx0XCIzNlwiOiBcIk9ha2xhbmRcIixcblx0XCIzN1wiOiBcIkZ1bGxlciBQYXJrXCIsXG5cdFwiMzhcIjogXCJHcmFuZCBCb3VsZXZhcmRcIixcblx0XCIzOVwiOiBcIktlbndvb2RcIixcblx0XCI0MFwiOiBcIldhc2hpbmd0b24gUGFya1wiLFxuXHRcIjQxXCI6IFwiSHlkZSBQYXJrXCIsXG5cdFwiNDJcIjogXCJXb29kbGF3blwiLFxuXHRcIjQzXCI6IFwiU291dGggU2hvcmVcIixcblx0XCI0NFwiOiBcIkNoYXRoYW1cIixcblx0XCI0NVwiOiBcIkF2YWxvbiBQYXJrXCIsXG5cdFwiNDZcIjogXCJTb3V0aCBDaGljYWdvXCIsXG5cdFwiNDdcIjogXCJCdXJuc2lkZVwiLFxuXHRcIjQ4XCI6IFwiQ2FsdW1ldCBIZWlnaHRzXCIsXG5cdFwiNDlcIjogXCJSb3NlbGFuZFwiLFxuXHRcIjUwXCI6IFwiUHVsbG1hblwiLFxuXHRcIjUxXCI6IFwiU291dGggRGVlcmluZ1wiLFxuXHRcIjUyXCI6IFwiRWFzdCBTaWRlXCIsXG5cdFwiNTNcIjogXCJXZXN0IFB1bGxtYW5cIixcblx0XCI1NFwiOiBcIlJpdmVyZGFsZVwiLFxuXHRcIjU1XCI6IFwiSGVnZXdpc2NoXCIsXG5cdFwiNTZcIjogXCJHYXJmaWVsZCBSaWRnZVwiLFxuXHRcIjU3XCI6IFwiQXJjaGVyIEhlaWdodHNcIixcblx0XCI1OFwiOiBcIkJyaWdodG9uIFBhcmtcIixcblx0XCI1OVwiOiBcIk1ja2lubGV5IFBhcmtcIixcblx0XCI2MFwiOiBcIkJyaWRnZXBvcnRcIixcblx0XCI2MVwiOiBcIk5ldyBDaXR5XCIsXG5cdFwiNjJcIjogXCJXZXN0IEVsZHNvblwiLFxuXHRcIjYzXCI6IFwiR2FnZSBQYXJrXCIsXG5cdFwiNjRcIjogXCJDbGVhcmluZ1wiLFxuXHRcIjY1XCI6IFwiV2VzdCBMYXduXCIsXG5cdFwiNjdcIjogXCJXZXN0IEVuZ2xld29vZFwiLFxuXHRcIjY4XCI6IFwiRW5nbGV3b29kXCIsXG5cdFwiNjlcIjogXCJHcmVhdGVyIEdyYW5kIENyb3NzaW5nXCIsXG5cdFwiNzBcIjogXCJBc2hidXJuXCIsXG5cdFwiNzFcIjogXCJBdWJ1cm4gR3Jlc2hhbVwiLFxuXHRcIjcyXCI6IFwiQmV2ZXJseVwiLFxuXHRcIjczXCI6IFwiV2FzaGluZ3RvbiBIZWlnaHRzXCIsXG5cdFwiNzRcIjogXCJNb3VudCBHcmVlbndvb2RcIixcblx0XCI3NVwiOiBcIk1vcmdhbiBQYXJrXCIsXG5cdFwiNzZcIjogXCJPJ0hhcmVcIixcblx0XCI3N1wiOiBcIkVkZ2V3YXRlclwiLFxufTtcblxuZXhwb3J0IHtDT01NVU5JVFlfQVJFQVN9OyIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGFwaUtleTogXCJBSXphU3lDR1dFcHZ1eTRzUFIzbjV4endmQVRMenlNRHZ3RTZ0T1lcIixcbiAgICBhdXRoRG9tYWluOiBcImlsbGlub2lzLXRlY2gtYWNtLmZpcmViYXNlYXBwLmNvbVwiLFxuICAgIGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vaWxsaW5vaXMtdGVjaC1hY20uZmlyZWJhc2Vpby5jb21cIixcbiAgICBwcm9qZWN0SWQ6IFwiaWxsaW5vaXMtdGVjaC1hY21cIixcbiAgICBzdG9yYWdlQnVja2V0OiBcImlsbGlub2lzLXRlY2gtYWNtLmFwcHNwb3QuY29tXCIsXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMzQ0NTMzNzM0MzEwXCJcbn0iLCJsZXQgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcblxuaW1wb3J0IHtWaWV3c30gZnJvbSAnLi92aWV3cyc7XG5sZXQgdmlld3MgPSBWaWV3cygpO1xuXG5pbXBvcnQge0NPTU1VTklUWV9BUkVBU30gZnJvbSAnLi9jb21tdW5pdHlhcmVhcyc7XG5cbmxldCBGaXJlYmFzZUFwcCA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnKTtcbmxldCBkYiA9IEZpcmViYXNlQXBwLmRhdGFiYXNlKCk7XG5cbmxldCBHQU1FID0gZmFsc2U7XG5HQU1FID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjbV9seWZ0X2dhbWVfa2V5Jyk7XG5pZiAoIUdBTUUpIHtcblx0R0FNRSA9IHZleC5kaWFsb2cucHJvbXB0KHtcblx0XHRtZXNzYWdlOiBcIkVudGVyIHlvdXIgZ2FtZSBrZXk6XCIsXG5cdFx0Y2FsbGJhY2s6IChnYW1la2V5KSA9PiB7XG5cdFx0XHRHQU1FID0gZ2FtZWtleTtcblx0XHRcdGluaXQoKTtcblx0XHR9XG5cdH0pO1xufSBlbHNlIHtcblx0aW5pdCgpO1xufVxuXG5sZXQgUEFHRSA9ICcnO1xubGV0IFVTRVJfSUQgPSBmYWxzZTtcbmxldCBVU0VSID0ge307XG5sZXQgSVNfQURNSU4gPSBmYWxzZTtcbmxldCBTSE9XX0ZJTkFMX1NDT1JFUyA9IGZhbHNlO1xuXG5jb25zdCBQSU5LID0gYCNFQTM4QjlgO1xuY29uc3QgUFVSUExFID0gYCM0MjJFNkVgO1xuXG5jb25zdCBBTFBIQUJFVCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicudG9VcHBlckNhc2UoKS5zcGxpdCgnJyk7XG5jb25zdCBDT0xPUlMgPSBgI2U2MTk0Yi0jM2NiNDRiLSNmZmUxMTktIzAwODJjOC0jZjU4MjMxLSM5MTFlYjQtIzQ2ZjBmMC0jZjAzMmU2LSNkMmY1M2MtI2ZhYmViZS0jMDA4MDgwLSNlNmJlZmYtI2FhNmUyOC0jZmZmYWM4LSM4MDAwMDAtI2FhZmZjMy0jODA4MDAwLSNmZmQ4YjEtIzAwMDA4MC0jODA4MDgwLSMwMDAwMDBgLnNwbGl0KGAtYCkubWFwKChoZXgpID0+IGAke2hleH1gKTsvLy5yZXZlcnNlKCk7XG5cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1zKHFzKSB7XG5cdHFzID0gcXMuc3BsaXQoJysnKS5qb2luKCcgJyk7XG5cdHZhciBwYXJhbXMgPSB7fSxcblx0XHR0b2tlbnMsXG5cdFx0cmUgPSAvWz8mXT8oW149XSspPShbXiZdKikvZztcblx0d2hpbGUgKHRva2VucyA9IHJlLmV4ZWMocXMpKSB7XG5cdFx0cGFyYW1zW2RlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMV0pXSA9IGRlY29kZVVSSUNvbXBvbmVudCh0b2tlbnNbMl0pO1xuXHR9XG5cdHJldHVybiBwYXJhbXM7XG59XG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1ODAzNTQwL2hvdy10by1yZW1vdmUtc3BlY2lhbC1jaGFyYWN0ZXJzLWZyb20tYS1zdHJpbmctdXNpbmctamF2YXNjcmlwdFxuZnVuY3Rpb24gcmVtb3ZlU3BlY2lhbENoYXJzKHN0cikge1xuXHRyZXR1cm4gc3RyLnJlcGxhY2UoLyg/IVxcd3xcXHMpLi9nLCAnJylcblx0XHQucmVwbGFjZSgvXFxzKy9nLCAnICcpXG5cdFx0LnJlcGxhY2UoL14oXFxzKikoW1xcV1xcd10qKShcXGJcXHMqJCkvZywgJyQyJyk7XG59XG5cbmZ1bmN0aW9uIGZpbGxTcGFucyhxdWVyeVN0ciwgdGV4dCkge1xuXHRBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnlTdHIpKS5mb3JFYWNoKChkaXYpID0+IHtcblx0XHRkaXYuaW5uZXJUZXh0ID0gdGV4dDtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldFJlc3VsdHMoZ2FtZWlkLCBjYWxsYmFjaykge1xuXHRkYi5yZWYoYGx5ZnQvcmVzdWx0cy8ke2dhbWVpZH1gKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0bGV0IHZhbCA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0Y2FsbGJhY2sodmFsKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldFRlYW1zKGdhbWVpZCwgY2FsbGJhY2spIHtcblx0ZGIucmVmKGBseWZ0L2luZm8vJHtnYW1laWR9YCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdGNhbGxiYWNrKHZhbCk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXRUZWFtRGF0YShyZXMsIGluZm8pIHtcblx0bGV0IGluTWFwID0gcmVzIHx8IHt9O1xuXHRsZXQgc2ltcyA9IE9iamVjdC5rZXlzKGluTWFwKS5tYXAoKGtleSkgPT4gcmVzW2tleV0pLnNvcnQoKGEsIGIpID0+IHtcblx0XHRyZXR1cm4gYS5zdGFydCAtIGIuc3RhcnQ7XG5cdH0pO1xuXHRsZXQgdGltZSA9IFtdO1xuXHRsZXQgbWFwID0ge307XG5cdGlmIChzaW1zLmxlbmd0aCA+IDApIHtcblx0XHRsZXQgZmlyc3QgPSBzaW1zWzBdO1xuXHRcdGxldCBjb3VudGVyID0gMDtcblx0XHRmb3IgKGxldCB0ZWFtaWQgaW4gZmlyc3QuZGF0YSkge1xuXHRcdFx0aWYgKCEodGVhbWlkIGluIG1hcCkpIHtcblx0XHRcdFx0bWFwW3RlYW1pZF0gPSB7XG5cdFx0XHRcdFx0aW5mbzoge1xuXHRcdFx0XHRcdFx0dGVhbWlkOiB0ZWFtaWQsXG5cdFx0XHRcdFx0XHRuYW1lOiBgVW50aXRsZWQgVGVhbSAke0FMUEhBQkVUW2NvdW50ZXJdfSAoJHt0ZWFtaWR9KWBcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHJldmVudWU6IFtdLFxuXHRcdFx0XHRcdHRyaXBzOiBbXSxcblx0XHRcdFx0XHR6b25lczogW11cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGVhbWlkIGluIGluZm8pIHtcblx0XHRcdFx0XHRtYXBbdGVhbWlkXS5pbmZvID0gaW5mb1t0ZWFtaWRdO1xuXHRcdFx0XHRcdG1hcFt0ZWFtaWRdLmluZm8udGVhbWlkID0gdGVhbWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjb3VudGVyKys7XG5cdFx0fVxuXHRcdHNpbXMuZm9yRWFjaCgoc2ltKSA9PiB7XG5cdFx0XHR0aW1lLnB1c2goc2ltLnN0YXJ0KTtcblx0XHRcdGZvciAobGV0IHRlYW1pZCBpbiBzaW0uZGF0YSkge1xuXHRcdFx0XHRpZiAodGVhbWlkIGluIG1hcCkge1xuXHRcdFx0XHRcdGxldCBzdGVwID0gc2ltLmRhdGFbdGVhbWlkXTtcblx0XHRcdFx0XHRtYXBbdGVhbWlkXS50cmlwcy5wdXNoKHN0ZXAudHJpcHMpO1xuXHRcdFx0XHRcdGxldCBpblJldiA9IHN0ZXAucmV2ZW51ZTtcblx0XHRcdFx0XHRsZXQgcmV2ID0ge1xuXHRcdFx0XHRcdFx0bHlmdDogcGFyc2VGbG9hdChpblJldi5seWZ0KSxcblx0XHRcdFx0XHRcdHRheGk6IHBhcnNlRmxvYXQoaW5SZXYudGF4aSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bWFwW3RlYW1pZF0ucmV2ZW51ZS5wdXNoKHJldik7XG5cdFx0XHRcdFx0bGV0IHpvbmVNYXAgPSBzdGVwLnpvbmVzIHx8IHt9O1xuXHRcdFx0XHRcdGZvciAobGV0IHppZCBpbiB6b25lTWFwKSB7XG5cdFx0XHRcdFx0XHRsZXQgemMgPSBwYXJzZUZsb2F0KHpvbmVNYXBbemlkXS5jb3N0ICsgJycpO1xuXHRcdFx0XHRcdFx0em9uZU1hcFt6aWRdLmNvc3QgPSB6Yztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bWFwW3RlYW1pZF0uem9uZXMucHVzaCh6b25lTWFwKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdGZvciAobGV0IHRlYW1pZCBpbiBpbmZvKSB7XG5cdFx0aWYgKCEodGVhbWlkIGluIG1hcCkpIHtcblx0XHRcdGxldCB0ZWFtSW5mbyA9IGluZm9bdGVhbWlkXTtcblx0XHRcdFx0dGVhbUluZm8udGVhbWlkID0gdGVhbWlkO1xuXHRcdFx0bWFwW3RlYW1pZF0gPSB7XG5cdFx0XHRcdGluZm86IHRlYW1JbmZvLFxuXHRcdFx0XHRyZXZlbnVlOiBbXSxcblx0XHRcdFx0dHJpcHM6IFtdLFxuXHRcdFx0XHR6b25lczogW11cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHR0aW1lOiB0aW1lLFxuXHRcdG1hcDogbWFwXG5cdH07XG59XG5cbmZ1bmN0aW9uIGdldFRlYW1TY29yZShkYXRhKSB7XG5cdGxldCB0b3RhbFJldiA9IGRhdGEucmV2ZW51ZS5yZWR1Y2UoKHN1bSwgdmFsKSA9PiB7XG5cdFx0cmV0dXJuIHN1bSArIHZhbC5seWZ0O1xuXHR9LCAwKTtcblx0bGV0IHRvdGFsVHJpcHMgPSBkYXRhLnRyaXBzLnJlZHVjZSgoc3VtLCB2YWwpID0+IHtcblx0XHRyZXR1cm4gc3VtICsgdmFsLmx5ZnQ7XG5cdH0sIDApO1xuXHRsZXQgdG90YWxMb3NzID0gZGF0YS56b25lcy5yZWR1Y2UoKHN1bSwgbWFwKSA9PiB7XG5cdFx0bGV0IGxvc3MgPSAwO1xuXHRcdGZvciAobGV0IHppZCBpbiBtYXApIHtcblx0XHRcdGxldCBjb3N0ID0gbWFwW3ppZF0uY29zdDtcblx0XHRcdGxvc3MgKz0gY29zdDtcblx0XHR9XG5cdFx0cmV0dXJuIHN1bSArIGxvc3M7XG5cdH0sIDApO1xuXHRyZXR1cm4ge1xuXHRcdHJldmVudWU6IHRvdGFsUmV2LFxuXHRcdHRyaXBzOiB0b3RhbFRyaXBzLFxuXHRcdGxvc3M6IHRvdGFsTG9zcyxcblx0XHRuZXQ6IHRvdGFsUmV2IC0gdG90YWxMb3NzXG5cdH1cbn1cblxuZnVuY3Rpb24gbWFpblJlc3VsdHModGltZSwgbWFwLCBzaG93RmluYWwpIHtcblx0bGV0IGRhdGFzZXRzID0gW107XG5cdGxldCBpID0gMDtcblx0Zm9yIChsZXQgdGVhbWlkIGluIG1hcCkge1xuXHRcdGxldCBsaW5lID0gW107XG5cdFx0bGV0IHRvdGFsID0gMDtcblx0XHRtYXBbdGVhbWlkXS5yZXZlbnVlLmZvckVhY2goKHN0ZXAsIGlkeCkgPT4ge1xuXHRcdFx0dG90YWwgKz0gc3RlcC5seWZ0O1xuXHRcdFx0aWYgKHNob3dGaW5hbCkge1xuXHRcdFx0XHRmb3IgKGxldCB6aWQgaW4gbWFwW3RlYW1pZF0uem9uZXNbaWR4XSkge1xuXHRcdFx0XHRcdGxldCBsb3NzZXMgPSBtYXBbdGVhbWlkXS56b25lc1tpZHhdW3ppZF0uY29zdDtcblx0XHRcdFx0XHR0b3RhbCAtPSBsb3NzZXM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGxpbmUucHVzaCh7XG5cdFx0XHRcdHg6IHRpbWVbaWR4XSxcblx0XHRcdFx0eTogdG90YWxcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdGRhdGFzZXRzLnB1c2goe1xuXHRcdFx0bGFiZWw6IG1hcFt0ZWFtaWRdLmluZm8ubmFtZSxcblx0XHRcdGJvcmRlckNvbG9yOiBDT0xPUlNbaV0sXG5cdFx0XHRmaWxsOiBmYWxzZSxcblx0XHRcdGN1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXG5cdFx0XHRkYXRhOiBsaW5lXG5cdFx0fSk7XG5cdFx0aSsrO1xuXHR9XG5cdGxldCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxvdDEnKS5nZXRDb250ZXh0KCcyZCcpO1xuXHRsZXQgY2hhcnQgPSBuZXcgQ2hhcnQoY3R4LCB7XG5cdFx0dHlwZTogYGxpbmVgLFxuXHRcdGRhdGE6IHtcblx0XHRcdGRhdGFzZXRzOiBkYXRhc2V0c1xuXHRcdH0sXG5cdFx0b3B0aW9uczoge1xuXHRcdFx0cmVzcG9uc2l2ZTogZmFsc2UsXG5cdFx0XHRtYWludGFpbkFzcGVjdFJhdGlvOiB0cnVlLFxuXHRcdFx0bGVnZW5kOiB7XG5cdFx0XHRcdHBvc2l0aW9uOiBgcmlnaHRgLFxuXHRcdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vY2hhcnRqcy9DaGFydC5qcy9pc3N1ZXMvNDIxMlxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHRib3hXaWR0aDogNDAsXG5cdFx0XHRcdFx0cGFkZGluZzogMTAsXG5cdFx0XHRcdFx0Z2VuZXJhdGVMYWJlbHM6IGZ1bmN0aW9uKGNoYXJ0KSB7XG5cdFx0XHRcdFx0XHR2YXIgZGF0YSA9IGNoYXJ0LmRhdGE7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0YS5kYXRhc2V0cy5tYXAoKGRhdGFzZXQsIGopID0+IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHR0ZXh0OiBkYXRhc2V0LmxhYmVsLFxuXHRcdFx0XHRcdFx0XHRcdGZpbGxTdHlsZTogQ09MT1JTW2pdLFxuXHRcdFx0XHRcdFx0XHRcdGhpZGRlbjogIWNoYXJ0LmlzRGF0YXNldFZpc2libGUoaiksXG5cdFx0XHRcdFx0XHRcdFx0bGluZUNhcDogZGF0YXNldC5ib3JkZXJDYXBTdHlsZSxcblx0XHRcdFx0XHRcdFx0XHRsaW5lRGFzaDogZGF0YXNldC5ib3JkZXJEYXNoLFxuXHRcdFx0XHRcdFx0XHRcdGxpbmVEYXNoT2Zmc2V0OiBkYXRhc2V0LmJvcmRlckRhc2hPZmZzZXQsXG5cdFx0XHRcdFx0XHRcdFx0bGluZUpvaW46IGRhdGFzZXQuYm9yZGVySm9pblN0eWxlLFxuXHRcdFx0XHRcdFx0XHRcdGxpbmVXaWR0aDogZGF0YXNldC5ib3JkZXJXaWR0aCxcblx0XHRcdFx0XHRcdFx0XHRzdHJva2VTdHlsZTogZGF0YXNldC5ib3JkZXJDb2xvcixcblx0XHRcdFx0XHRcdFx0XHRwb2ludFN0eWxlOiBkYXRhc2V0LnBvaW50U3R5bGUsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQmVsb3cgaXMgZXh0cmEgZGF0YSB1c2VkIGZvciB0b2dnbGluZyB0aGUgZGF0YXNldHNcblx0XHRcdFx0XHRcdFx0XHRkYXRhc2V0SW5kZXg6IGpcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0dGl0bGU6IHtcblx0XHRcdFx0ZGlzcGxheTogdHJ1ZSxcblx0XHRcdFx0dGV4dDogYFJldmVudWUgb3ZlciBUaW1lYFxuXHRcdFx0fSxcblx0XHRcdHNjYWxlczoge1xuXHRcdFx0XHR4QXhlczogW3tcblx0XHRcdFx0XHRkaXNwbGF5OiB0cnVlLFxuXHRcdFx0XHRcdHR5cGU6IGBsaW5lYXJgLFxuXHRcdFx0XHRcdHNjYWxlTGFiZWw6IHtcblx0XHRcdFx0XHRcdGRpc3BsYXk6IHRydWUsXG5cdFx0XHRcdFx0XHRsYWJlbFN0cmluZzogJ1RpbWUnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0aWNrczoge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2s6ICh0cykgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHRzKS5mb3JtYXQoJ00vRCcpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fV0sXG5cdFx0XHRcdHlBeGVzOiBbe1xuXHRcdFx0XHRcdGRpc3BsYXk6IHRydWUsXG5cdFx0XHRcdFx0dHlwZTogYGxpbmVhcmAsXG5cdFx0XHRcdFx0c2NhbGVMYWJlbDoge1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogdHJ1ZSxcblx0XHRcdFx0XHRcdGxhYmVsU3RyaW5nOiAnUmV2ZW51ZSAoJCknXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR0aWNrczoge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2s6IChyZXYpID0+IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGAkJHtyZXYudG9GaXhlZCgwKX1gO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fV1cblx0XHRcdH0sXG5cdFx0XHRlbGVtZW50czoge1xuXHRcdFx0XHRwb2ludDoge1xuXHRcdFx0XHRcdHJhZGl1czogMFxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0bXVsdGlUb29sdGlwVGVtcGxhdGU6IGA8JSU9ZGF0YXNldExhYmVsJT46ICQ8JSU9dmFsdWUlPmBcblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXRUZWFtUmFua0xpc3QobWFwLCB1c2VGaW5hbFJhbmtpbmcpIHtcblx0bGV0IGxpc3QgPSBbXTtcblx0Zm9yIChsZXQgdGVhbWlkIGluIG1hcCkge1xuXHRcdGxldCBzY29yZSA9IGdldFRlYW1TY29yZShtYXBbdGVhbWlkXSk7XG5cdFx0bGlzdC5wdXNoKHtcblx0XHRcdGluZm86IG1hcFt0ZWFtaWRdLmluZm8sXG5cdFx0XHRzY29yZTogc2NvcmVcblx0XHR9KTtcblx0fVxuXHRsZXQgc29ydGVkID0gbGlzdC5tYXAoKHQpID0+IHtcblx0XHRpZiAodXNlRmluYWxSYW5raW5nKSB7XG5cdFx0XHR0LmZpbmFsU2NvcmUgPSB0LnNjb3JlLm5ldDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dC5maW5hbFNjb3JlID0gdC5zY29yZS5yZXZlbnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gdDtcblx0fSkuc29ydCgoYSwgYikgPT4ge1xuXHRcdHJldHVybiBiLmZpbmFsU2NvcmUgLSBhLmZpbmFsU2NvcmU7XG5cdH0pO1xuXHRsZXQgcmFuayA9IDA7XG5cdGxldCBzY29yZSA9IEluZmluaXR5O1xuXHRzb3J0ZWQuZm9yRWFjaCgodGVhbSkgPT4ge1xuXHRcdGlmICh0ZWFtLmZpbmFsU2NvcmUgPCBzY29yZSkge1xuXHRcdFx0c2NvcmUgPSB0ZWFtLmZpbmFsU2NvcmU7XG5cdFx0XHRyYW5rKys7XG5cdFx0fVxuXHRcdHRlYW0ucmFuayA9IHJhbms7XG5cdH0pO1xuXHRyZXR1cm4gc29ydGVkO1xufVxuXG5mdW5jdGlvbiBtYWluTGVhZGVyYm9hcmQodGltZSwgbWFwKSB7XG5cdGxldCBsaXN0ID0gZ2V0VGVhbVJhbmtMaXN0KG1hcCwgU0hPV19GSU5BTF9TQ09SRVMpO1xuXHRsZXQgdmlldyA9IHZpZXdzLmdldExlYWRlcmJvYXJkKHtcblx0XHRsaXN0OiBsaXN0LFxuXHRcdHNob3dGaW5hbDogU0hPV19GSU5BTF9TQ09SRVNcblx0fSk7XG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWFkZXJib2FyZCcpLmlubmVySFRNTCA9ICcnO1xuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhZGVyYm9hcmQnKS5hcHBlbmRDaGlsZCh2aWV3KTtcbn1cblxuZnVuY3Rpb24gaW52aXRlVGVhbW1hdGUodGVhbW1hdGVFbWFpbCwgdGVhbWlkKSB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0aWYgKHRlYW1tYXRlRW1haWwpIHtcblx0XHRcdGlmICh0ZWFtbWF0ZUVtYWlsLmluZGV4T2YoJ0AnKSA+IC0xKSB7XG5cdFx0XHRcdGxldCBlbWFpbGlkID0gcmVtb3ZlU3BlY2lhbENoYXJzKHRlYW1tYXRlRW1haWwpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgSW52aXRlICR7ZW1haWxpZH0gdG8gJHt0ZWFtaWR9YCk7XG5cdFx0XHRcdGlmIChlbWFpbGlkICYmIHRlYW1pZCkge1xuXHRcdFx0XHRcdGRiLnJlZihgbHlmdC9hc3NpZ25tZW50cy8ke0dBTUV9LyR7ZW1haWxpZH1gKS5zZXQoe1xuXHRcdFx0XHRcdFx0dGVhbWlkOiB0ZWFtaWQsXG5cdFx0XHRcdFx0XHRlbWFpbDogdGVhbW1hdGVFbWFpbFxuXHRcdFx0XHRcdH0pLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHRcdHJlc29sdmUoe1xuXHRcdFx0XHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRlbWFpbDogdGVhbW1hdGVFbWFpbFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSkuY2F0Y2goKGVycikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdFx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVqZWN0KCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWplY3QoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlamVjdCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4nKTtcblx0XHR9XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBtYWluVGVhbSh0ZWFtaWQsIHRlYW0pIHtcblxuXHRjb25zb2xlLmxvZygnaW4gaGVyZScsIHRlYW1pZCwgdGVhbSlcblxuXHRpZiAodGVhbWlkICYmIHRlYW0pIHtcblxuXHRcdGxldCByZXNldCA9IHZpZXdzLmdldFRlYW1NYW5hZ2VtZW50KCk7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlYW0tbWFuYWdlbWVudCcpLmlubmVySFRNTCA9IHJlc2V0LmlubmVySFRNTDtcblxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtLXNwYWNlJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vLXRlYW0tc3BhY2UnKS5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKTtcblxuXHRcdGxldCB0ZWFtU2VjcmV0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS1zZWNyZXQnKTtcblx0XHRsZXQgdGVhbVNlY3JldEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93LXRlYW0tc2VjcmV0Jyk7XG5cdFx0XHR0ZWFtU2VjcmV0RmllbGQudmFsdWUgPSB0ZWFtaWQ7XG5cdFx0XG5cdFx0dGVhbVNlY3JldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG5cdFx0XHRpZiAodGVhbVNlY3JldEZpZWxkLnR5cGUgPT09ICdwYXNzd29yZCcpIHtcblx0XHRcdFx0dGVhbVNlY3JldEZpZWxkLnR5cGUgPSAndGV4dCc7XG5cdFx0XHRcdHRlYW1TZWNyZXRCdXR0b24uaW5uZXJUZXh0ID0gJ0hpZGUnO1xuXHRcdFx0XHR0ZWFtU2VjcmV0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWRhbmdlcicpO1xuXHRcdFx0XHR0ZWFtU2VjcmV0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLXN1Y2Nlc3MnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRlYW1TZWNyZXRGaWVsZC50eXBlID0gJ3Bhc3N3b3JkJztcblx0XHRcdFx0dGVhbVNlY3JldEJ1dHRvbi5pbm5lclRleHQgPSAnU2hvdyc7XG5cdFx0XHRcdHRlYW1TZWNyZXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtc3VjY2VzcycpO1xuXHRcdFx0XHR0ZWFtU2VjcmV0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLWRhbmdlcicpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0bGV0IHRlYW1JbnZpdGVGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWFtbWF0ZS1lbWFpbCcpO1xuXHRcdGxldCB0ZWFtSW52aXRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludml0ZS10ZWFtbWF0ZScpO1xuXHRcdFxuXHRcdHRlYW1JbnZpdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0dGVhbUludml0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRpbnZpdGVUZWFtbWF0ZSh0ZWFtSW52aXRlRmllbGQudmFsdWUsIHRlYW1pZCkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KGBJbnZpdGVkICR7dGVhbUludml0ZUZpZWxkLnZhbHVlfSB0byAke3RlYW0uaW5mby5uYW1lfS5gKTtcblx0XHRcdFx0dGVhbUludml0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRcdG1haW5UZWFtKHRlYW1pZCwgdGVhbSk7XG5cdFx0XHR9KS5jYXRjaCgoZXJyb3IpID0+IHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XG5cdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoZXJyb3IgKyAnJyk7XG5cdFx0XHRcdHRlYW1JbnZpdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtbG9hZGluZycpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRkYi5yZWYoYGx5ZnQvYXNzaWdubWVudHMvJHtHQU1FfWApLm9yZGVyQnlDaGlsZCgndGVhbWlkJykuZXF1YWxUbyh0ZWFtaWQpLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdGxldCBub2RlcyA9IHNuYXAudmFsKCkgfHwge307XG5cdFx0XHRsZXQgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbW1hdGVzLWxpc3QnKTtcblx0XHRcdHVsLmlubmVySFRNTCA9ICcnO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKG5vZGVzKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGZvciAobGV0IG5pZCBpbiBub2Rlcykge1xuXHRcdFx0XHRcdHVsLmlubmVySFRNTCArPSBgPGxpPiR7bm9kZXNbbmlkXS5lbWFpbH08L2xpPmBcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR1bC5pbm5lckhUTUwgKz0gYDxsaT5ObyB0ZWFtbWF0ZXMgeWV0LjwvbGk+YFxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0bGV0IHRlYW1OYW1lRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVhbS1uYW1lJyk7XG5cdFx0bGV0IHRlYW1OYW1lQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZS10ZWFtLW5hbWUnKTtcblx0XHRcdHRlYW1OYW1lRmllbGQudmFsdWUgPSB0ZWFtLmluZm8ubmFtZTtcblx0XHRcdGZpbGxTcGFucygnLmZpbGwtdGVhbS1uYW1lJywgdGVhbS5pbmZvLm5hbWUpO1xuXG5cdFx0dGVhbU5hbWVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0ZGIucmVmKGBseWZ0L2luZm8vJHtHQU1FfS8ke3RlYW1pZH0vbmFtZWApLnNldCh0ZWFtTmFtZUZpZWxkLnZhbHVlKS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXHRcdH0pO1xuXG5cdFx0bGV0IHByaWNpbmdIb2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9sZGVyLXByaWNpbmcnKTtcblx0XHRsZXQgem9uZXNIb2xkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9sZGVyLXpvbmVzJyk7XG5cblx0XHRwcmljaW5nSG9sZGVyLmlubmVySFRNTCA9ICcnO1xuXHRcdHpvbmVzSG9sZGVyLmlubmVySFRNTCA9ICcnO1xuXHRcdGRiLnJlZihgbHlmdC90ZWFtcy8ke0dBTUV9LyR7dGVhbWlkfWApLm9uKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRkYi5yZWYoYGx5ZnQvbGVhcm5pbmdzLyR7R0FNRX0vJHt0ZWFtaWR9YCkub24oJ3ZhbHVlJywgKGxlYXJuU25hcCkgPT4ge1xuXHRcdFx0XHRsZXQgbGVhcm5WYWwgPSBsZWFyblNuYXAudmFsKCkgfHwge307XG5cdFx0XHRcdGxldCB2YWwgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRwcmljaW5nSG9sZGVyLmlubmVySFRNTCA9ICcnO1xuXHRcdFx0XHR6b25lc0hvbGRlci5pbm5lckhUTUwgPSAnJztcblxuXHRcdFx0XHRpZiAoIXZhbC5wcmljaW5nKSB7XG5cdFx0XHRcdFx0dmFsLnByaWNpbmcgPSB7fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghdmFsLnpvbmVzKSB7XG5cdFx0XHRcdFx0dmFsLnpvbmVzID0ge307XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRsZXQgbGVhcm5QcmljaW5nID0gbGVhcm5WYWwucHJpY2luZyB8fCB7fTtcblx0XHRcdFx0Zm9yIChsZXQgdGtleSBpbiBsZWFyblByaWNpbmcpIHtcblx0XHRcdFx0XHRpZiAodGtleSBpbiB2YWwucHJpY2luZykge1xuXHRcdFx0XHRcdFx0dmFsLnByaWNpbmdbdGtleV0ubm90ZSA9IGxlYXJuUHJpY2luZ1t0a2V5XS5ub3RlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxldCBsZWFyblpvbmVzID0gbGVhcm5WYWwuem9uZXMgfHwge307XG5cdFx0XHRcdGZvciAobGV0IHRrZXkgaW4gbGVhcm5ab25lcykge1xuXHRcdFx0XHRcdGlmICh0a2V5IGluIHZhbC56b25lcykge1xuXHRcdFx0XHRcdFx0dmFsLnpvbmVzW3RrZXldLm5vdGUgPSBsZWFyblpvbmVzW3RrZXldLm5vdGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHBWaWV3ID0gdmlld3MuZ2V0UHJpY2luZ0NhcmRzKHZhbCk7XG5cdFx0XHRcdHByaWNpbmdIb2xkZXIuYXBwZW5kQ2hpbGQocFZpZXcpO1xuXG5cdFx0XHRcdHZhbC5jb21tdW5pdHkgPSBDT01NVU5JVFlfQVJFQVM7XG5cdFx0XHRcdGxldCB6VmlldyA9IHZpZXdzLmdldFpvbmVzQ2FyZHModmFsKTtcblx0XHRcdFx0em9uZXNIb2xkZXIuYXBwZW5kQ2hpbGQoelZpZXcpO1xuXG5cdFx0XHRcdEFycmF5LmZyb20ocHJpY2luZ0hvbGRlci5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uW2RhdGEtdGtleV0nKSkuZm9yRWFjaCgoYnRuKSA9PiB7XG5cdFx0XHRcdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRcdFx0XHRcdGxldCB0a2V5ID0gYnRuLmRhdGFzZXQudGtleTtcblx0XHRcdFx0XHRcdGxldCBmb3JtID0gcHJpY2luZ0hvbGRlci5xdWVyeVNlbGVjdG9yKGAudGV4dGFyZWFbZGF0YS10a2V5PVwiJHt0a2V5fVwiXWApO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codGVhbWlkLCB0a2V5LCBmb3JtLnZhbHVlKTtcblx0XHRcdFx0XHRcdGlmIChmb3JtLnZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdGJ0bi5jbGFzc0xpc3QuYWRkKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRcdFx0XHRcdGRiLnJlZihgbHlmdC9sZWFybmluZ3MvJHtHQU1FfS8ke3RlYW1pZH0vcHJpY2luZy8ke3RrZXl9YCkuc2V0KHtcblx0XHRcdFx0XHRcdFx0XHR0aW1lc3RhbXA6IERhdGUubm93KCksXG5cdFx0XHRcdFx0XHRcdFx0bm90ZTogZm9ybS52YWx1ZVxuXHRcdFx0XHRcdFx0XHR9KS50aGVuKChjb21wbGV0ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRcdFx0XHRcdFx0dmV4LmRpYWxvZy5hbGVydChgUmVmbGVjdGlvbiBzYXZlZCBzdWNjZXNzZnVsbHkhYCk7XG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KCdFcnJvcjogJyArIGVycik7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRBcnJheS5mcm9tKHpvbmVzSG9sZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXR0b25bZGF0YS10a2V5XScpKS5mb3JFYWNoKChidG4pID0+IHtcblx0XHRcdFx0XHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IHRrZXkgPSBidG4uZGF0YXNldC50a2V5O1xuXHRcdFx0XHRcdFx0bGV0IGZvcm0gPSB6b25lc0hvbGRlci5xdWVyeVNlbGVjdG9yKGAudGV4dGFyZWFbZGF0YS10a2V5PVwiJHt0a2V5fVwiXWApO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codGVhbWlkLCB0a2V5LCBmb3JtLnZhbHVlKTtcblx0XHRcdFx0XHRcdGlmIChmb3JtLnZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdGJ0bi5jbGFzc0xpc3QuYWRkKCdpcy1sb2FkaW5nJyk7XG5cdFx0XHRcdFx0XHRcdGRiLnJlZihgbHlmdC9sZWFybmluZ3MvJHtHQU1FfS8ke3RlYW1pZH0vem9uZXMvJHt0a2V5fWApLnNldCh7XG5cdFx0XHRcdFx0XHRcdFx0dGltZXN0YW1wOiBEYXRlLm5vdygpLFxuXHRcdFx0XHRcdFx0XHRcdG5vdGU6IGZvcm0udmFsdWVcblx0XHRcdFx0XHRcdFx0fSkudGhlbigoY29tcGxldGUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRidG4uY2xhc3NMaXN0LnJlbW92ZSgnaXMtbG9hZGluZycpO1xuXHRcdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoYFJlZmxlY3Rpb24gc2F2ZWQgc3VjY2Vzc2Z1bGx5IWApO1xuXHRcdFx0XHRcdFx0XHR9KS5jYXRjaCgoZXJyKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dmV4LmRpYWxvZy5hbGVydCgnRXJyb3I6ICcgKyBlcnIpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS5lcnJvcignQ2Fubm90IGFjY2VzcyB0ZWFtOiAnLCB0ZWFtaWQsIHRlYW0pO1xuXHR9XG5cbn1cblxuZnVuY3Rpb24gc2hvd1RlYW0odGVhbWlkLCBpbkRhdGEpIHtcblx0bGV0IGRhdGEgPSBpbkRhdGEgfHwgZ2V0R2FtZURhdGEoKTtcblx0aWYgKCFkYXRhKSB7XG5cdFx0Y29uc29sZS5lcnJvcignTm8gZ2FtZSBkYXRhIGF2YWlsYWJsZScpO1xuXHR9XG5cdGxldCB0ZWFtID0ge3JldmVudWU6IFtdLCB0cmlwczogW10sIGluZm86IHtuYW1lOiAnTm8gVGVhbSd9fTtcblx0aWYgKHRlYW1pZCkge1xuXHRcdGNvbnNvbGUubG9nKGBZb3VyIHRlYW0gaXM6ICR7dGVhbWlkfWApO1xuXHRcdHRlYW0gPSBkYXRhLm1hcFt0ZWFtaWRdO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUubG9nKGBZb3UgZG8gbm90IGhhdmUgYSB0ZWFtLmApO1xuXHR9XG5cdG1haW5UZWFtKHRlYW1pZCwgdGVhbSk7XG59XG5cbmZ1bmN0aW9uIG1haW5BZG1pbigpIHtcblx0XG5cdGxldCBkYXRhID0gZ2V0R2FtZURhdGEoKTtcblx0bGV0IGxpc3QgPSBnZXRUZWFtUmFua0xpc3QoZGF0YS5tYXAsIHRydWUpO1xuXHRsZXQgdGVhbVRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbC10ZWFtcy10YWJsZScpO1xuXHR0ZWFtVGFibGUuaW5uZXJIVE1MID0gJyc7XG5cdGxldCB0YWJsZSA9IHZpZXdzLmdldExlYWRlcmJvYXJkKHtcblx0XHRsaXN0OiBsaXN0LFxuXHRcdGFkbWluOiB0cnVlLFxuXHRcdHNob3dGaW5hbDogdHJ1ZVxuXHR9KTtcblx0dGVhbVRhYmxlLmFwcGVuZENoaWxkKHRhYmxlKTtcblxuXHRsZXQgYWRkVGVhbUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZG1pbi1hZGQtdGVhbScpO1xuXHRhZGRUZWFtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiAnVGVhbSBOYW1lJyxcblx0XHRcdGNhbGxiYWNrOiAodGVhbU5hbWUpID0+IHtcblx0XHRcdFx0aWYgKHRlYW1OYW1lKSB7XG5cdFx0XHRcdFx0ZGIucmVmKGBseWZ0L2luZm8vJHtHQU1FfWApLnB1c2goe1xuXHRcdFx0XHRcdFx0bmFtZTogdGVhbU5hbWVcblx0XHRcdFx0XHR9KS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHRcdFx0fSkuY2F0Y2goKGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHRsZXQgYWRkQWRtaW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW4tYWRkLWFkbWluJyk7XG5cdGFkZEFkbWluQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiBgRW50ZXIgYW4gZW1haWwgYWRkcmVzczpgLFxuXHRcdFx0Y2FsbGJhY2s6IChlbWFpbCkgPT4ge1xuXHRcdFx0XHRpZiAoZW1haWwpIHtcblx0XHRcdFx0XHRsZXQgZW1haWxpZCA9IHJlbW92ZVNwZWNpYWxDaGFycyhlbWFpbCk7XG5cdFx0XHRcdFx0aWYgKGVtYWlsLmluZGV4T2YoJ0AnKSA+IC0xICYmIGVtYWlsaWQpIHtcblx0XHRcdFx0XHRcdGRiLnJlZihgbHlmdC9hZG1pbi8ke0dBTUV9LyR7ZW1haWxpZH1gKS5zZXQoe1xuXHRcdFx0XHRcdFx0XHRsZXZlbDogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0ZW1haWw6IGVtYWlsXG5cdFx0XHRcdFx0XHR9KS50aGVuKChkb25lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoYEludml0ZWQgJHtlbWFpbH0gYXMgYW4gYWRtaW4uYCk7XG5cdFx0XHRcdFx0XHR9KS5jYXRjaCgoZXJyKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoJ0Vycm9yOiAnICsgZXJyKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmFsZXJ0KCdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblxuXHRsZXQgZXhwb3J0VGVhbXNCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW4tZXhwb3J0LXRlYW1zJyk7XG5cdGV4cG9ydFRlYW1zQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblx0XHRsZXQgZGF0YSA9IGdldEdhbWVEYXRhKCkgfHwge307XG5cdFx0bGV0IG91dCA9IFtdO1xuXHRcdGZvciAobGV0IHRpZCBpbiBkYXRhLm1hcCkge1xuXHRcdFx0b3V0LnB1c2godGlkKVxuXHRcdH1cblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiBgRXhwb3J0ZWQgJHtvdXQubGVuZ3RofSB0ZWFtIHNlY3JldHM6YCxcblx0XHRcdHZhbHVlOiBvdXQuam9pbignLCcpLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHt9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdGxldCB0b2dnbGVGaW5hbEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZG1pbi10b2dnbGUtZmluYWwnKTtcblx0dG9nZ2xlRmluYWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdGRiLnJlZihgbHlmdC9tb2RlLyR7R0FNRX1gKS5vbmNlKCd2YWx1ZScsIChncykgPT4ge1xuXHRcdFx0bGV0IHZhbCA9IGdzLnZhbCgpIHx8IHt9O1xuXHRcdFx0bGV0IGN1cnJNb2RlID0gdmFsLmZpbmFsIHx8IGZhbHNlO1xuXHRcdFx0bGV0IG5ld01vZGUgPSAhKGN1cnJNb2RlKTtcblx0XHRcdGRiLnJlZihgbHlmdC9tb2RlLyR7R0FNRX0vZmluYWxgKS5zZXQobmV3TW9kZSk7XG5cdFx0fSk7XG5cdH0pO1xuXG59XG5cbmZ1bmN0aW9uIHNob3dQYWdlKHBhZ2VpZCkge1xuXHRQQUdFID0gKHBhZ2VpZCA9PT0gJ2xvYWRpbmcnKSA/IFBBR0UgOiBwYWdlaWQ7XG5cdC8vIFRhYnNcblx0bGV0IGN1cnJlbnRUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBsaVtkYXRhLXBhZ2VdLmlzLWFjdGl2ZWApO1xuXHRpZiAoY3VycmVudFRhYikge1xuXHRcdGN1cnJlbnRUYWIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG5cdH1cblx0bGV0IG5ld1RhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxpW2RhdGEtcGFnZT1cIiR7cGFnZWlkfVwiXWApO1xuXHRpZiAobmV3VGFiKSB7XG5cdFx0bmV3VGFiLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuXHR9XG5cdC8vIFNlY3Rpb25zXG5cdEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgc2VjdGlvbltkYXRhLXBhZ2VdYCkpLmZvckVhY2goKHBhZ2UpID0+IHtcblx0XHRwYWdlLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuXHR9KTtcblx0bGV0IG5ld1BhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzZWN0aW9uW2RhdGEtcGFnZT1cIiR7cGFnZWlkfVwiXWApO1xuXHRpZiAobmV3UGFnZSkge1xuXHRcdG5ld1BhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0VGVhbUJ5RW1haWwoZW1haWwpIHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRsZXQgZW1haWxpZCA9IHJlbW92ZVNwZWNpYWxDaGFycyhlbWFpbCk7XG5cdFx0ZGIucmVmKGBseWZ0L2Fzc2lnbm1lbnRzLyR7R0FNRX0vJHtlbWFpbGlkfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXApID0+IHtcblx0XHRcdGxldCBub2RlID0gc25hcC52YWwoKTtcblx0XHRcdGlmIChub2RlKSB7XG5cdFx0XHRcdHJlc29sdmUobm9kZS50ZWFtaWQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVzb2x2ZShmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGxvZ2luKCkge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdHZhciBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpO1xuXHRcdGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoUmVkaXJlY3QocHJvdmlkZXIpLnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdHZhciB1c2VyID0gZGF0YS51c2VyO1xuXHRcdFx0Y29uc29sZS5sb2codXNlcik7XG5cdFx0fSkuY2F0Y2gocmVqZWN0KTtcblx0fSk7XG59XG5cbmxldCBTSE9XX1RFQU1fSUQgPSBmYWxzZTtcblxubGV0IHJvdXRlcyA9IHtcblxuXHQnLyc6ICgpID0+IHtcblx0XHRjb25zb2xlLmxvZygnbGFuZGluZycpXG5cdFx0c2hvd1BhZ2UoJ2xhbmRpbmcnKTtcblx0fSxcblxuXHQnL3Jlc3VsdHMnOiAoKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ3Jlc3VsdHMnKVxuXHRcdHNob3dQYWdlKCdyZXN1bHRzJyk7XG5cdH0sXG5cblxuXHQnL2xlYWRlcmJvYXJkJzogKCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKCdsZWFkZXJib2FyZCcpXG5cdFx0c2hvd1BhZ2UoJ2xlYWRlcmJvYXJkJyk7XG5cdH0sXG5cblx0Jy9zZWFyY2gnOiAoKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coJ3NlYXJjaCcpXG5cdFx0c2hvd1BhZ2UoJ3NlYXJjaCcpO1xuXHR9LFxuXG5cdCcvdGVhbSc6ICgpID0+IHtcblx0XHRjb25zb2xlLmxvZygndGVhbScpXG5cdFx0c2hvd1BhZ2UoJ3RlYW0nKTtcblx0fSxcblxuXHQnL3RlYW0vOnRlYW1pZCc6ICh0ZWFtaWQpID0+IHtcblx0XHRjb25zb2xlLmxvZyhgdGVhbS8ke3RlYW1pZH1gKTtcblx0XHRTSE9XX1RFQU1fSUQgPSB0ZWFtaWQ7XG5cdFx0aWYgKElTX0FETUlOKSB7XG5cdFx0XHRzaG93VGVhbSh0ZWFtaWQpO1xuXHRcdH1cblx0XHRzaG93UGFnZSgndGVhbScpO1xuXHR9LFxuXG5cdCcvZGVsZXRlLzp0ZWFtaWQnOiAodGVhbWlkKSA9PiB7XG5cdFx0Y29uc29sZS5sb2coYGRlbGV0ZS8ke3RlYW1pZH1gKTtcblx0XHRpZiAoSVNfQURNSU4pIHtcblx0XHRcdHZleC5kaWFsb2cuY29uZmlybSh7XG5cdFx0XHRcdG1lc3NhZ2U6IGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHske3RlYW1pZH19P2AsXG5cdFx0XHRcdGNhbGxiYWNrOiAoeWVzKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHllcykge1xuXHRcdFx0XHRcdFx0ZGIucmVmKGBseWZ0L2luZm8vJHtHQU1FfS8ke3RlYW1pZH1gKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGRiLnJlZihgbHlmdC9yZXN1bHRzLyR7R0FNRX0vJHt0ZWFtaWR9YCkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRkYi5yZWYoYGx5ZnQvdGVhbXMvJHtHQU1FfS8ke3RlYW1pZH1gKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdGRiLnJlZihgbHlmdC9hc3NpZ25tZW50cy8ke0dBTUV9YCkub3JkZXJCeUNoaWxkKCd0ZWFtaWQnKS5lcXVhbFRvKHRlYW1pZCkub25jZSgndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgbm9kZXMgPSBzbmFwLnZhbCgpIHx8IHt9O1xuXHRcdFx0XHRcdFx0XHRmb3IgKGxldCBuaWQgaW4gbm9kZXMpIHtcblx0XHRcdFx0XHRcdFx0XHRkYi5yZWYoYGx5ZnQvYXNzaWdubWVudHMvJHtHQU1FfS8ke25pZH1gKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2hvd1BhZ2UoJ3Jlc3VsdHMnKTtcblx0XHR9XG5cdH0sXG5cblx0Jy9hZG1pbic6ICgpID0+IHtcblx0XHRjb25zb2xlLmxvZygnYWRtaW4nKVxuXHRcdHNob3dQYWdlKCdhZG1pbicpO1xuXHR9LFxuXG59XG5cbmxldCByb3V0ZXIgPSBSb3V0ZXIocm91dGVzKTtcbnJvdXRlci5pbml0KCk7XG5zaG93UGFnZSgnbG9hZGluZycpO1xuXG5BcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaWdub3V0JykpLmZvckVhY2goKGJ0bikgPT4ge1xuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuXHRcdGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCk7XG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjbV9seWZ0X2dhbWVfa2V5Jyk7XG5cdH0pO1xufSk7XG5cbmxldCBnYW1lRGF0YSA9IHt9O1xuXG5mdW5jdGlvbiBnZXRHYW1lRGF0YSgpIHtcblx0cmV0dXJuIGdhbWVEYXRhO1xufVxuXG5mdW5jdGlvbiBjaGVja0FkbWluKCkge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGxldCBlbWFpbGlkID0gcmVtb3ZlU3BlY2lhbENoYXJzKFVTRVIuZW1haWwpO1xuXHRcdGRiLnJlZihgbHlmdC9hZG1pbi8ke0dBTUV9LyR7ZW1haWxpZH1gKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRsZXQgdmFsID0gc25hcC52YWwoKTtcblx0XHRcdGlmICh2YWwpIHtcblx0XHRcdFx0SVNfQURNSU4gPSB0cnVlO1xuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wYWdlPVwiYWRtaW5cIl0nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcblx0XHRcdFx0cmVzb2x2ZSh0cnVlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlc29sdmUoZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0pLmNhdGNoKHJlc29sdmUpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWFpbigpIHtcblxuXHRjaGVja0FkbWluKCkudGhlbigoKSA9PiB7XG5cdFx0Z2V0UmVzdWx0cyhHQU1FLCAocmVzKSA9PiB7XG5cdFx0XHRnZXRUZWFtcyhHQU1FLCAodGVhbUluZm8pID0+IHtcblx0XHRcdFx0bGV0IGRhdGEgPSBnZXRUZWFtRGF0YShyZXMsIHRlYW1JbmZvKTtcblx0XHRcdFx0Y29uc29sZS5sb2coZGF0YSk7XG5cdFx0XHRcdGdhbWVEYXRhID0gZGF0YTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGRiLnJlZihgbHlmdC9tb2RlLyR7R0FNRX1gKS5vbigndmFsdWUnLCAoZ3MpID0+IHtcblx0XHRcdFx0XHRcdGxldCBtb2RlID0gZ3MudmFsKCkgfHwge307XG5cdFx0XHRcdFx0XHRTSE9XX0ZJTkFMX1NDT1JFUyA9IG1vZGUuZmluYWwgfHwgZmFsc2U7XG5cdFx0XHRcdFx0XHRtYWluUmVzdWx0cyhkYXRhLnRpbWUsIGRhdGEubWFwLCBTSE9XX0ZJTkFMX1NDT1JFUyk7XG5cdFx0XHRcdFx0XHRtYWluTGVhZGVyYm9hcmQoZGF0YS50aW1lLCBkYXRhLm1hcCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoJ0Vycm9yOiAnICsgZXJyKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG1haW5BZG1pbigpO1xuXHRcdFx0XHRpZiAoIUlTX0FETUlOKSB7XG5cdFx0XHRcdFx0Z2V0VGVhbUJ5RW1haWwoVVNFUi5lbWFpbCkudGhlbigodGVhbWlkKSA9PiB7XG5cdFx0XHRcdFx0XHRzaG93VGVhbSh0ZWFtaWQsIGRhdGEpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChTSE9XX1RFQU1fSUQpIHtcblx0XHRcdFx0XHRzaG93VGVhbShTSE9XX1RFQU1fSUQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGBzaG93UGFnZShQQUdFKSA9IHNob3dQYWdlKCR7UEFHRX0pYCk7XG5cdFx0XHRcdC8vIHNob3dQYWdlKFBBR0UpO1xuXHRcdFx0XHRBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaG93LWdhbWUta2V5JykpLmZvckVhY2goKHNwYW4pID0+IHtcblx0XHRcdFx0XHRzcGFuLmlubmVyVGV4dCA9IEdBTUU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzaG93UGFnZSgnbGFuZGluZycpO1xuXHRcdFx0XHQvLyBjb25zdCBET0NTX1VSTCA9IGBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWNtaWxsaW5vaXN0ZWNoL2x5ZnRzZXJ2ZXIvbWFzdGVyL1JFQURNRS5tZGA7XG5cdFx0XHRcdC8vICQuZ2V0KCkudGhlbigocmVzKSA9PiB7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coXCJHb3QgaXQuXCIpO1xuXHRcdFx0XHQvLyB9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9KTtcblxuXHRkYi5yZWYoYGx5ZnQvdGltZS8ke0dBTUV9L3RpbWVgKS5vbigndmFsdWUnLCAoc25hcCkgPT4ge1xuXHRcdGxldCB0cyA9IHNuYXAudmFsKCk7XG5cdFx0QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNpbS10aW1lXCIpKS5mb3JFYWNoKChzcGFuKSA9PiB7XG5cdFx0XHRzcGFuLmlubmVyVGV4dCA9IGBUb2RheSBpcyAke21vbWVudCh0cykuZm9ybWF0KCdNL0QvWVlZWScpfSBpbiBzaW11bGF0aW9uIHRpbWUuYDtcblx0XHR9KTtcblx0fSk7XG5cbn1cblxuZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRpZiAoR0FNRSkge1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY21fbHlmdF9nYW1lX2tleScsIEdBTUUpO1xuXHRcdGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24odXNlcikge1xuXHRcdFx0aWYgKHVzZXIpIHtcblx0XHRcdFx0VVNFUl9JRCA9IHVzZXIudWlkO1xuXHRcdFx0XHRVU0VSID0gdXNlcjtcblx0XHRcdFx0ZGIucmVmKGBseWZ0L2FkbWluLyR7R0FNRX1gKS5vbmNlKCd2YWx1ZScsIChzbmFwKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHZhbCA9IHNuYXAudmFsKCk7XG5cdFx0XHRcdFx0aWYgKHZhbCkge1xuXHRcdFx0XHRcdFx0bWFpbigpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2ZXguZGlhbG9nLmNvbmZpcm0oe1xuXHRcdFx0XHRcdFx0XHRtZXNzYWdlOiBgRG8geW91IHdhbnQgdG8gc3RhcnQgYSBuZXcgZ2FtZSB3aXRoIHRoZSBjb2RlIHske0dBTUV9fT9gLFxuXHRcdFx0XHRcdFx0XHRjYWxsYmFjazogKHllcykgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGlmICh5ZXMpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGxldCBlbWFpbGlkID0gcmVtb3ZlU3BlY2lhbENoYXJzKFVTRVIuZW1haWwpO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGIucmVmKGBseWZ0L2FkbWluLyR7R0FNRX0vJHtlbWFpbGlkfWApLnNldCh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxldmVsOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbWFpbDogVVNFUi5lbWFpbFxuXHRcdFx0XHRcdFx0XHRcdFx0fSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChjb25zb2xlLmVycm9yKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjbV9seWZ0X2dhbWVfa2V5Jyk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bG9naW4oKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR2ZXguZGlhbG9nLmFsZXJ0KCdQbGVhc2UgcmVsb2FkIHRoZSBwYWdlIGFuZCBlbnRlciBhIHZhbGlkIGdhbWUga2V5LicpO1xuXHR9XG5cbn1cbiIsIi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0OTA1NS9ob3ctY2FuLWktZm9ybWF0LW51bWJlcnMtYXMtZG9sbGFycy1jdXJyZW5jeS1zdHJpbmctaW4tamF2YXNjcmlwdFxuTnVtYmVyLnByb3RvdHlwZS5mb3JtYXRNb25leSA9IGZ1bmN0aW9uKGMsIGQsIHQpe1xuXHR2YXIgbiA9IHRoaXMsIFxuXHRjID0gaXNOYU4oYyA9IE1hdGguYWJzKGMpKSA/IDIgOiBjLCBcblx0ZCA9IGQgPT0gdW5kZWZpbmVkID8gXCIuXCIgOiBkLCBcblx0dCA9IHQgPT0gdW5kZWZpbmVkID8gXCIsXCIgOiB0LCBcblx0cyA9IG4gPCAwID8gXCItXCIgOiBcIlwiLCBcblx0aSA9IFN0cmluZyhwYXJzZUludChuID0gTWF0aC5hYnMoTnVtYmVyKG4pIHx8IDApLnRvRml4ZWQoYykpKSwgXG5cdGogPSAoaiA9IGkubGVuZ3RoKSA+IDMgPyBqICUgMyA6IDA7XG5cdHJldHVybiBzICsgKGogPyBpLnN1YnN0cigwLCBqKSArIHQgOiBcIlwiKSArIGkuc3Vic3RyKGopLnJlcGxhY2UoLyhcXGR7M30pKD89XFxkKS9nLCBcIiQxXCIgKyB0KSArIChjID8gZCArIE1hdGguYWJzKG4gLSBpKS50b0ZpeGVkKGMpLnNsaWNlKDIpIDogXCJcIik7XG59O1xuXG5mdW5jdGlvbiBnZXRNb25leVN0eWxlU3RyKHJhdGlvKSB7XG5cdGxldCBvcGFjID0gKDAuOTUgKiByYXRpbykgKyAwLjA1O1xuXHRsZXQgc3R5bGVTdHIgPSBgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgzNSwgMjA5LCA5NiwgJHtvcGFjLnRvRml4ZWQoMyl9KWA7XG5cdHJldHVybiBzdHlsZVN0cjtcbn1cblxubGV0IFZpZXdzID0gKCkgPT4ge1xuXG5cdGxldCB2aWV3cyA9IHtcblxuXHRcdC8qZ2V0TGVhZGVyYm9hcmQ6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgYDtcblx0XHRcdGlmIChtb2RlbC5saXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0bGV0IG1heFJldiA9IG1vZGVsLmxpc3RbMF0uc2NvcmUucmV2ZW51ZTtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHRhYmxlIGNsYXNzPVwiaXMtZnVsbHdpZHRoXCI+XG5cdFx0XHRcdFx0XHQ8dGhlYWQ+XG5cdFx0XHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+UmFuazwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPlRlYW08L3RoPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5OZXQgUmV2ZW51ZTwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPkdyb3NzIFJldmVudWU8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5UcmlwczwvdGg+XG5cdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0PHRib2R5PlxuXHRcdFx0XHRgO1xuXHRcdFx0XHRtb2RlbC5saXN0LmZvckVhY2goKHRlYW0pID0+IHtcblx0XHRcdFx0XHRsZXQgcmV2UmF0aW8gPSB0ZWFtLnNjb3JlLnJldmVudWUgLyBtYXhSZXY7XG5cdFx0XHRcdFx0bGV0IG9wYWMgPSAoMC45NSAqIHJldlJhdGlvKSArIDAuMDU7XG5cdFx0XHRcdFx0bGV0IHN0eWxlU3RyID0gYGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzUsIDIwOSwgOTYsICR7b3BhYy50b0ZpeGVkKDMpfSlgO1xuXHRcdFx0XHRcdGxldCBzcGFuSFRNTCA9ICcnO1xuXHRcdFx0XHRcdGlmICh0ZWFtLnJhbmsgPT09IDEpIHtcblx0XHRcdFx0XHRcdHNwYW5IVE1MID0gYFxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImljb24gZmEgZmEtdHJvcGh5XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZD48c3Bhbj4ke3RlYW0ucmFua308L3NwYW4+JHtzcGFuSFRNTH08L3RkPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZD4ke3RlYW0uaW5mby5uYW1lfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0PHRkPj8/PzwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0PHRkIHN0eWxlPVwiJHtzdHlsZVN0cn1cIj4kJHt0ZWFtLnNjb3JlLnJldmVudWUuZm9ybWF0TW9uZXkoMil9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHQ8dGQ+JHt0ZWFtLnNjb3JlLnRyaXBzfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHQ8L3RhYmxlPlxuXHRcdFx0XHRgO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHA+VGhlcmUgYXJlIG5vIHRlYW1zIGluIHRoaXMgZ2FtZSB5ZXQuPC9wPlxuXHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLWhvbGRlcicpO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LCovXG5cblx0XHRnZXRQcmljaW5nQ2FyZHM6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgYDtcblx0XHRcdGxldCBsaXN0ID0gT2JqZWN0LmtleXMobW9kZWwucHJpY2luZykubWFwKCh0a2V5KSA9PiB7XG5cdFx0XHRcdGxldCBlbnRyeSA9IG1vZGVsLnByaWNpbmdbdGtleV07XG5cdFx0XHRcdFx0ZW50cnkudGtleSA9IHRrZXk7XG5cdFx0XHRcdHJldHVybiBlbnRyeTtcblx0XHRcdH0pLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0cmV0dXJuIGIuaW5fZWZmZWN0IC0gYS5pbl9lZmZlY3Q7XG5cdFx0XHR9KTtcblx0XHRcdGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0bGlzdC5mb3JFYWNoKChzdGVwKSA9PiB7XG5cdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGg1IGNsYXNzPVwidGl0bGUgaXMtNVwiPldlZWsgb2YgJHttb21lbnQoc3RlcC5pbl9lZmZlY3QpLmZvcm1hdCgnTS9EL1lZWVknKX08L2g1PlxuXHRcdFx0XHRcdFx0XHRcdDx0YWJsZT5cblx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0aD5DYXRlZ29yeTwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoPkNvc3Q8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5CYXNlPC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JCR7c3RlcC5iYXNlLmZvcm1hdE1vbmV5KDIpfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+UGlja3VwPC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JCR7c3RlcC5waWNrdXAuZm9ybWF0TW9uZXkoMil9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5QZXIgTWlsZTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPiQke3N0ZXAucGVyX21pbGUuZm9ybWF0TW9uZXkoMil9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5QZXIgTWludXRlPC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JCR7c3RlcC5wZXJfbWludXRlLmZvcm1hdE1vbmV5KDIpfTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdFx0PGg1IGNsYXNzPVwidGl0bGUgaXMtNVwiPlJlZmxlY3Rpb248L2g1PlxuXHRcdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RlcC5ub3RlKSB7XG5cdFx0XHRcdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGV4dGFyZWEgY2xhc3M9XCJ0ZXh0YXJlYVwiIGRhdGEtdGtleT1cIiR7c3RlcC50a2V5fVwiPiR7c3RlcC5ub3RlfTwvdGV4dGFyZWE+XG5cdFx0XHRcdFx0XHRcdFx0YDtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZXh0YXJlYSBjbGFzcz1cInRleHRhcmVhXCIgZGF0YS10a2V5PVwiJHtzdGVwLnRrZXl9XCIgcGxhY2Vob2xkZXI9XCJXaHkgZGlkIHlvdSBjaG9vc2UgdGhlc2UgcHJpY2VzP1wiPjwvdGV4dGFyZWE+XG5cdFx0XHRcdFx0XHRcdFx0YDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGRhdGEtdGtleT1cIiR7c3RlcC50a2V5fVwiIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnlcIj5TYXZlPC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8IS0tPGZvb3RlciBjbGFzcz1cImNhcmQtZm9vdGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhcmQtZm9vdGVyLWl0ZW1cIj5TYXZlPC9hPlxuXHRcdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJkLWZvb3Rlci1pdGVtXCI+RWRpdDwvYT5cblx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzPVwiY2FyZC1mb290ZXItaXRlbVwiPkRlbGV0ZTwvYT5cblx0XHRcdFx0XHRcdFx0PC9mb290ZXI+LS0+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRgO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24gaXMtcHJpbWFyeVwiPlxuXHRcdFx0XHRcdFx0PGgyIGNsYXNzPVwidGl0bGUgaXMtM1wiPk5vIHRyaXAgY29zdHMgc2V0LjwvaDI+XG5cdFx0XHRcdFx0XHQ8cCBjbGFzcz1cInN1YnRpdGxlIGlzLTZcIj5NYWtlIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSAvcHJpY2luZyBlbmRwb2ludC48L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0Wm9uZXNDYXJkczogKG1vZGVsKSA9PiB7XG5cdFx0XHRsZXQgaHRtbCA9IGBgO1xuXHRcdFx0bGV0IGxpc3QgPSBPYmplY3Qua2V5cyhtb2RlbC56b25lcykubWFwKCh0a2V5KSA9PiB7XG5cdFx0XHRcdGxldCBlbnRyeSA9IG1vZGVsLnpvbmVzW3RrZXldO1xuXHRcdFx0XHRcdGVudHJ5LnRrZXkgPSB0a2V5O1xuXHRcdFx0XHRyZXR1cm4gZW50cnk7XG5cdFx0XHR9KS5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRcdHJldHVybiBiLmluX2VmZmVjdCAtIGEuaW5fZWZmZWN0O1xuXHRcdFx0fSk7XG5cdFx0XHRpZiAobGlzdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGxpc3QuZm9yRWFjaCgoc3RlcCkgPT4ge1xuXHRcdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmRcIj5cblx0XHRcdFx0XHRcdFx0PGhlYWRlciBjbGFzcz1cImNhcmQtaGVhZGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJjYXJkLWhlYWRlci10aXRsZVwiPldlZWsgb2YgJHttb21lbnQoc3RlcC5pbl9lZmZlY3QpLmZvcm1hdCgnTS9EL1lZWVknKX08L3A+XG5cdFx0XHRcdFx0XHRcdDwvaGVhZGVyPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0PHRhYmxlPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoPlpvbmU8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx0aD5Db21tdW5pdHkgQXJlYTwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5PlxuXHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0Zm9yIChsZXQgemlkIGluIHN0ZXApIHtcblx0XHRcdFx0XHRcdGlmICh6aWQgIT09ICdpbl9lZmZlY3QnICYmIHppZCAhPT0gJ3RrZXknICYmIHppZCAhPT0gJ25vdGUnKSB7XG5cdFx0XHRcdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHRkPlpvbmUgJHt6aWR9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+JHttb2RlbC5jb21tdW5pdHlbemlkXX08L3RkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0XHRcdFx0XHQ8aDUgY2xhc3M9XCJ0aXRsZSBpcy01XCI+UmVmbGVjdGlvbjwvaDU+XG5cdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHRcdGlmIChzdGVwLm5vdGUpIHtcblx0XHRcdFx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZXh0YXJlYSBjbGFzcz1cInRleHRhcmVhXCIgZGF0YS10a2V5PVwiJHtzdGVwLnRrZXl9XCI+JHtzdGVwLm5vdGV9PC90ZXh0YXJlYT5cblx0XHRcdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRleHRhcmVhIGNsYXNzPVwidGV4dGFyZWFcIiBkYXRhLXRrZXk9XCIke3N0ZXAudGtleX1cIiBwbGFjZWhvbGRlcj1cIldoeSBkaWQgeW91IGNob29zZSB0aGVzZSB6b25lcz9cIj48L3RleHRhcmVhPlxuXHRcdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBkYXRhLXRrZXk9XCIke3N0ZXAudGtleX1cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5XCI+U2F2ZTwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PCEtLTxmb290ZXIgY2xhc3M9XCJjYXJkLWZvb3RlclwiPlxuXHRcdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJkLWZvb3Rlci1pdGVtXCI+U2F2ZTwvYT5cblx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiI1wiIGNsYXNzPVwiY2FyZC1mb290ZXItaXRlbVwiPkVkaXQ8L2E+XG5cdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhcmQtZm9vdGVyLWl0ZW1cIj5EZWxldGU8L2E+XG5cdFx0XHRcdFx0XHRcdDwvZm9vdGVyPi0tPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibm90aWZpY2F0aW9uIGlzLXByaW1hcnlcIj5cblx0XHRcdFx0XHRcdDxoMiBjbGFzcz1cInRpdGxlIGlzLTNcIj5ObyBwb3dlciB6b25lcyBzZXQuPC9oMj5cblx0XHRcdFx0XHRcdDxwIGNsYXNzPVwic3VidGl0bGUgaXMtNlwiPk1ha2UgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIC96b25lcyBlbmRwb2ludC48L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGA7XG5cdFx0XHR9XG5cdFx0XHRsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Ly9nZXRBZG1pblRlYW1UYWJsZTogKG1vZGVsKSA9PiB7XG5cdFx0Z2V0TGVhZGVyYm9hcmQ6IChtb2RlbCkgPT4ge1xuXHRcdFx0bGV0IGh0bWwgPSBgYDtcblx0XHRcdGlmIChtb2RlbC5saXN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0bGV0IG1heFJldiA9IG1vZGVsLmxpc3RbMF0uc2NvcmUucmV2ZW51ZTtcblx0XHRcdFx0bGV0IG1heE5ldCA9IG1vZGVsLmxpc3RbMF0uc2NvcmUubmV0O1xuXHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHQ8dGFibGUgY2xhc3M9XCJpcy1mdWxsd2lkdGhcIj5cblx0XHRcdFx0XHRcdDx0aGVhZD5cblx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5SYW5rPC90aD5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+VGVhbTwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPk5ldCBSZXZlbnVlPC90aD5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+R3Jvc3MgUmV2ZW51ZTwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPlRyaXBzPC90aD5cblx0XHRcdFx0YDtcblx0XHRcdFx0XHRcdGlmIChtb2RlbC5hZG1pbikge1xuXHRcdFx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0XHQ8dGg+VmlldzwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPkRlbGV0ZTwvdGg+XG5cdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHRcdFx0PC90aGVhZD5cblx0XHRcdFx0XHRcdDx0Ym9keT5cblx0XHRcdFx0YDtcblx0XHRcdFx0bW9kZWwubGlzdC5mb3JFYWNoKCh0ZWFtKSA9PiB7XG5cdFx0XHRcdFx0bGV0IHJldlJhdGlvID0gdGVhbS5zY29yZS5yZXZlbnVlIC8gbWF4UmV2O1xuXHRcdFx0XHRcdGxldCBuZXRSYXRpbyA9IHRlYW0uc2NvcmUubmV0IC8gbWF4TmV0O1xuXHRcdFx0XHRcdGxldCBzcGFuSFRNTCA9ICcnO1xuXHRcdFx0XHRcdGlmICh0ZWFtLnJhbmsgPT09IDEpIHtcblx0XHRcdFx0XHRcdHNwYW5IVE1MID0gYFxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImljb24gZmEgZmEtdHJvcGh5XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZD48c3Bhbj4ke3RlYW0ucmFua308L3NwYW4+JHtzcGFuSFRNTH08L3RkPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZD4ke3RlYW0uaW5mby5uYW1lfTwvdGQ+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0XHRcdGlmIChtb2RlbC5zaG93RmluYWwpIHtcblx0XHRcdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdFx0PHRkIHN0eWxlPVwiJHtnZXRNb25leVN0eWxlU3RyKG5ldFJhdGlvKX1cIj4kJHt0ZWFtLnNjb3JlLm5ldC5mb3JtYXRNb25leSgyKX08L3RkPlxuXHRcdFx0XHRcdFx0XHRgO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdFx0PHRkPj8/PzwvdGQ+XG5cdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdFx0PHRkIHN0eWxlPVwiJHtnZXRNb25leVN0eWxlU3RyKHJldlJhdGlvKX1cIj4kJHt0ZWFtLnNjb3JlLnJldmVudWUuZm9ybWF0TW9uZXkoMil9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHQ8dGQ+JHt0ZWFtLnNjb3JlLnRyaXBzfTwvdGQ+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0XHRcdGlmIChtb2RlbC5hZG1pbikge1xuXHRcdFx0XHRcdFx0XHRodG1sICs9IGBcblx0XHRcdFx0XHRcdFx0XHQ8dGQ+PGEgaHJlZj1cIi4vIy90ZWFtLyR7dGVhbS5pbmZvLnRlYW1pZH1cIiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5IGlzLW91dGxpbmVkXCI+VmlldzwvYT48L3RkPlxuXHRcdFx0XHRcdFx0XHRcdDx0ZD48YSBocmVmPVwiLi8jL2RlbGV0ZS8ke3RlYW0uaW5mby50ZWFtaWR9XCIgY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyIGlzLW91dGxpbmVkXCI+RGVsZXRlPC9hPjwvdGQ+XG5cdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdFx0YDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGh0bWwgKz0gYFxuXHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHQ8L3RhYmxlPlxuXHRcdFx0XHRgO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aHRtbCArPSBgXG5cdFx0XHRcdFx0PHA+VGhlcmUgYXJlIG5vIHRlYW1zIGluIHRoaXMgZ2FtZSB5ZXQuPC9wPlxuXHRcdFx0XHRgO1xuXHRcdFx0fVxuXHRcdFx0bGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gaHRtbDtcblx0XHRcdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ3RhYmxlLWhvbGRlcicpO1xuXHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXG5cdFx0Z2V0VGVhbU1hbmFnZW1lbnQ6ICgpID0+IHtcblx0XHRcdGxldCBodG1sID0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uc1wiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2x1bW4gaXMtNlwiPlxuXHRcdFx0XHRcdFx0PGg0IGNsYXNzPVwidGl0bGUgaXMtNFwiPlRlYW0gTmFtZTwvaDQ+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZmllbGQgaGFzLWFkZG9uc1wiPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgaWQ9XCJ0ZWFtLW5hbWVcIiBjbGFzcz1cImlucHV0XCIgdHlwZT1cInRleHRcIj5cblx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwidXBkYXRlLXRlYW0tbmFtZVwiIGNsYXNzPVwiYnV0dG9uIGlzLXN1Y2Nlc3NcIj5VcGRhdGU8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8aDQgY2xhc3M9XCJ0aXRsZSBpcy00XCI+VGVhbSBTZWNyZXQ8L2g0PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZpZWxkIGhhcy1hZGRvbnNcIj5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJjb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IGlkPVwidGVhbS1zZWNyZXRcIiBjbGFzcz1cImlucHV0IGlzLXN0YXRpY1wiIHR5cGU9XCJwYXNzd29yZFwiIHZhbHVlPVwic2VjcmV0dGV4dFwiIHJlYWRvbmx5PlxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b24gaWQ9XCJzaG93LXRlYW0tc2VjcmV0XCIgY2xhc3M9XCJidXR0b24gaXMtZGFuZ2VyXCI+U2hvdzwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sdW1uIGlzLTZcIj5cblx0XHRcdFx0XHRcdDxoNCBjbGFzcz1cInRpdGxlIGlzLTRcIj5JbnZpdGUgVGVhbW1hdGU8L2g0PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZpZWxkIGhhcy1hZGRvbnNcIj5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJjb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IGlkPVwidGVhbW1hdGUtZW1haWxcIiBjbGFzcz1cImlucHV0XCIgdHlwZT1cInRleHRcIj5cblx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGlkPVwiaW52aXRlLXRlYW1tYXRlXCIgY2xhc3M9XCJidXR0b24gaXMtc3VjY2Vzc1wiPkludml0ZTwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxoNCBjbGFzcz1cInRpdGxlIGlzLTRcIj5DdXJyZW50IFRlYW1tYXRlczwvaDQ+XG5cdFx0XHRcdFx0XHQ8dWwgaWQ9XCJ0ZWFtbWF0ZXMtbGlzdFwiPjwvdWw+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblx0XHRcdGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0ZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cdFx0XHRyZXR1cm4gZGl2O1xuXHRcdH1cblxuXHR9XG5cblx0cmV0dXJuIHZpZXdzO1xuXG59XG5cbmV4cG9ydCB7Vmlld3N9O1xuIl19\n"]}